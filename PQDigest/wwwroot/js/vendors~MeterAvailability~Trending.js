(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~MeterAvailability~Trending"],{

/***/ "../node_modules/@influxdata/influxdb-client/dist/index.browser.js":
/*!*************************************************************************!*\
  !*** ../node_modules/@influxdata/influxdb-client/dist/index.browser.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?e(exports):undefined}(this,(function(t){"use strict";function e(){const t=new TextDecoder("utf-8");return{concat(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r},copy(t,e,r){const s=new Uint8Array(r-e);return s.set(t.subarray(e,r)),s},toUtf8String:(e,r,s)=>t.decode(e.subarray(r,s))}}function r(t,r){const s=null!=r?r:e();let n,i=!1,o=!1;return{next(e){if(!i)try{!function(e){let r,l=0;for(n?(e=s.concat(n,e),r=n.length):r=0;r<e.length;){const n=e[r];if(10===n){if(!o){const n=r>0&&13===e[r-1]?r-1:r;if(i)return;t.next(s.toUtf8String(e,l,n)),l=r+1}}else 34===n&&(o=!o);r++}n=l<r?s.copy(e,l,r):void 0}(e)}catch(t){this.error(t)}},error(e){i||(i=!0,t.error(e))},complete(){i||(n&&t.next(s.toUtf8String(n,0,n.length)),i=!0,t.complete())},useCancellable(e){if(t.useCancellable){const r=this;t.useCancellable({cancel(){e.cancel(),n=void 0,r.complete()},isCancelled:()=>e.isCancelled()})}}}}class s{constructor(){this._reuse=!1}get reuse(){return this._reuse}set reuse(t){t&&!this.reusedValues&&(this.reusedValues=new Array(10)),this._reuse=t}withReuse(){return this.reuse=!0,this}splitLine(t){if(null==t)return this.lastSplitLength=0,[];let e=0,r=0;const s=this._reuse?this.reusedValues:[];let n=0;for(let i=0;i<t.length;i++){const o=t[i];if(","===o){if(e%2==0){const o=this.getValue(t,r,i,e);this._reuse?s[n++]=o:s.push(o),r=i+1,e=0}}else'"'===o&&e++}const i=this.getValue(t,r,t.length,e);return this._reuse?(s[n]=i,this.lastSplitLength=n+1):(s.push(i),this.lastSplitLength=s.length),s}getValue(t,e,r,s){return e===t.length?"":0===s?t.substring(e,r):2===s?t.substring(e+1,r-1):t.substring(e+1,r-1).replace(/""/gi,'"')}}class n{}function i(){return new n}const o=[404,408,425,429,500,502,503,504];function l(t){return o.includes(t)}class a extends Error{constructor(t){super(t),this.name="IllegalArgumentError",Object.setPrototypeOf(this,a.prototype)}}class u extends Error{constructor(t,e,r,s,n,i){if(super(),this.statusCode=t,this.statusMessage=e,this.body=r,this.contentType=n,Object.setPrototypeOf(this,u.prototype),i)this.message=i;else if(r){if(null==n?void 0:n.startsWith("application/json"))try{this.json=JSON.parse(r),this.message=this.json.message,this.code=this.json.code}catch(t){}this.message||(this.message=`${t} ${e} : ${r}`)}else this.message=`${t} ${e}`;this.name="HttpError",this.setRetryAfter(s)}setRetryAfter(t){"string"==typeof t&&/^[0-9]+$/.test(t)?this._retryAfter=parseInt(t):this._retryAfter=0}canRetry(){return l(this.statusCode)}retryAfter(){return this._retryAfter}}const c=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE"];function h(t,e){if(t){let r;return"function"==typeof t.retryAfter?t.retryAfter():(r=0,e&&e>0?r+Math.round(Math.random()*e):r)}return 0}class f extends Error{constructor(){super(),Object.setPrototypeOf(this,f.prototype),this.name="RequestTimedOutError",this.message="Request timed out"}canRetry(){return!0}retryAfter(){return 0}}class d extends Error{constructor(){super(),this.name="AbortError",Object.setPrototypeOf(this,d.prototype),this.message="Response aborted"}canRetry(){return!0}retryAfter(){return 0}}const p=t=>t,g={boolean:t=>"true"===t,unsignedLong:t=>""===t?null:+t,long:t=>""===t?null:+t,double:t=>""===t?null:+t,string:p,base64Binary:p,duration:t=>""===t?null:t,"dateTime:RFC3339":t=>""===t?null:t};class y{constructor(t){t.forEach((t,e)=>t.index=e),this.columns=t}column(t){for(let e=0;e<this.columns.length;e++){const r=this.columns[e];if(r.label===t)return r}throw new a(`Column ${t} not found!`)}toObject(t){var e;const r={};for(let s=0;s<this.columns.length&&s<t.length;s++){let n=t[s];const i=this.columns[s];""===n&&i.defaultValue&&(n=i.defaultValue),r[i.label]=(null!==(e=g[i.dataType])&&void 0!==e?e:p)(n)}return r}}function m(t){return new y(t)}function w(t){const e=(new s).withReuse();let r,n,o=!0,l=0;return{error(e){t.error(e)},next(s){if(""===s)o=!0,r=void 0;else{const a=e.splitLine(s),u=e.lastSplitLength;if(o){if(!r){r=new Array(u);for(let t=0;t<u;t++)r[t]=i()}if(a[0].startsWith("#")){if("#datatype"===a[0])for(let t=1;t<u;t++)r[t].dataType=a[t];else if("#default"===a[0])for(let t=1;t<u;t++)r[t].defaultValue=a[t];else if("#group"===a[0])for(let t=1;t<u;t++)r[t].group="t"===a[t][0]}else{""===a[0]?(l=1,r=r.slice(1)):l=0;for(let t=l;t<u;t++)r[t-l].label=a[t];n=m(r),o=!1}}else t.next(a.slice(l,u),n)}},complete(){t.complete()},useCancellable(e){t.useCancellable&&t.useCancellable(e)}}}const b={retryJitter:200,minRetryDelay:5e3,maxRetryDelay:18e4,exponentialBase:5},x={batchSize:1e3,flushInterval:6e4,writeFailed:function(){},writeSuccess:function(){},maxRetries:3,maxBufferLines:32e3,retryJitter:200,minRetryDelay:5e3,maxRetryDelay:18e4,exponentialBase:5,gzipThreshold:1e3};function v(t,e){return function(r){let s="",n=0,i=0;for(;i<r.length;){const o=t.indexOf(r[i]);o>=0&&(s+=r.substring(n,i),s+=e[o],n=i+1),i++}return 0==n?r:(n<r.length&&(s+=r.substring(n,r.length)),s)}}const T={measurement:v(", \n\r\t",["\\,","\\ ","\\n","\\r","\\t"]),quoted:function(t,e){const r=v(t,e);return t=>'"'+r(t)+'"'}('"\\',['\\"',"\\\\"]),tag:v(", =\n\r\t",["\\,","\\ ","\\=","\\n","\\r","\\t"])};let O=Date.now(),R=0;function S(){{const t=Date.now();t!==O?(O=t,R=0):R++;const e=String(R);return String(t)+"000000000".substr(0,6-e.length)+e}}function E(){return String(Date.now())+"000000000".substr(0,3)}function D(){return String(Date.now())}function C(){return String(Math.floor(Date.now()/1e3))}const A={s:C,ms:D,us:E,ns:S,seconds:C,millis:D,micros:E,nanos:S},j={s:t=>""+Math.floor(t.getTime()/1e3),ms:t=>""+t.getTime(),us:t=>t.getTime()+"000",ns:t=>t.getTime()+"000000"},$={error(t,e){console.error("ERROR: "+t,e||"")},warn(t,e){console.warn("WARN: "+t,e||"")}};let L=$;const _={error(t,e){L.error(t,e)},warn(t,e){L.warn(t,e)}};const B=Symbol("FLUX_VALUE");class P{constructor(t){this.fluxValue=t}toString(){return this.fluxValue}[B](){return this.fluxValue}}function F(t){if(null==t)return"";t=t.toString();let e=void 0,r=0;function s(){void 0===e&&(e=t.substring(0,r))}for(;r<t.length;r++){const n=t.charAt(r);switch(n){case"\r":s(),e+="\\r";break;case"\n":s(),e+="\\n";break;case"\t":s(),e+="\\t";break;case'"':case"\\":s(),e=e+"\\"+n;break;case"$":if(r+1<t.length&&"{"===t.charAt(r+1)){s(),r++,e+="\\${";break}null!=e&&(e+=n);break;default:null!=e&&(e+=n)}}return void 0!==e?e:t}function z(t){if("number"==typeof t){if(!isFinite(t))throw new Error("not a flux float: "+t);return t.toString()}const e=String(t);let r=!1;for(const t of e)if("."!==t){if("."!==t&&"-"!==t&&(t<"0"||t>"9"))throw new Error("not a flux float: "+e)}else{if(r)throw new Error("not a flux float: "+e);r=!r}return e}function M(t){return`regexp.compile(v: "${F(t)}")`}function U(t){return new P(String(t))}function q(t){if(void 0===t)return"";if(null===t)return"null";if("boolean"==typeof t)return t.toString();if("string"==typeof t)return`"${F(t)}"`;if("number"==typeof t)return z(t);if("object"==typeof t){if("function"==typeof t[B])return t[B]();if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return M(t);if(Array.isArray(t))return`[${t.map(q).join(",")}]`}return q(t.toString())}const H="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(t,e,r,s){return new(r||(r=Promise))((function(n,i){function o(t){try{a(s.next(t))}catch(t){i(t)}}function l(t){try{a(s.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,l)}a((s=s.apply(t,e||[])).next())}))}class N{constructor(t){this.options=Object.assign(Object.assign({},b),t),this.success()}nextDelay(t,e){const r=h(t);if(r&&r>0)return r+Math.round(Math.random()*this.options.retryJitter);if(e&&e>0){let t=this.options.minRetryDelay;for(let r=1;r<e&&(t*=this.options.exponentialBase,!(t>=this.options.maxRetryDelay));r++);return Math.min(Math.max(t,1),this.options.maxRetryDelay)+Math.round(Math.random()*this.options.retryJitter)}return this.currentDelay?this.currentDelay=Math.min(Math.max(this.currentDelay*this.options.exponentialBase,1)+Math.round(Math.random()*this.options.retryJitter),this.options.maxRetryDelay):this.currentDelay=this.options.minRetryDelay+Math.round(Math.random()*this.options.retryJitter),this.currentDelay}success(){this.currentDelay=void 0}}class k{constructor(t,e){this.maxLines=t,this.retryLines=e,this.size=0,this.nextRetryTime=0,this.closed=!1,this._timeoutHandle=void 0}addLines(t,e,r){if(this.closed)return;if(!t.length)return;const s=Date.now()+r;if(s>this.nextRetryTime&&(this.nextRetryTime=s),this.first&&this.size+t.length>this.maxLines){const e=this.size,r=.7*e;do{const t=this.first.next;this.size-=this.first.lines.length,this.first=t}while(this.first&&this.size+t.length>r);_.error(`RetryBuffer: ${e-this.size} oldest lines removed to keep buffer size under the limit of ${this.maxLines} lines`)}const n={lines:t,retryCount:e};this.last?(this.last.next=n,this.last=n):(this.first=n,this.last=n,this.scheduleRetry(r)),this.size+=t.length}removeLines(){if(this.first){const t=this.first;return this.first=this.first.next,this.size-=t.lines.length,this.first||(this.last=void 0),t}}scheduleRetry(t){this._timeoutHandle=setTimeout(()=>{const t=this.removeLines();t?this.retryLines(t.lines,t.retryCount).then(()=>{this.scheduleRetry(1)}).catch(t=>{this.scheduleRetry(this.nextRetryTime-Date.now())}):this._timeoutHandle=void 0},t)}flush(){return I(this,void 0,void 0,(function*(){let t;for(;t=this.removeLines();)yield this.retryLines(t.lines,t.retryCount)}))}close(){return this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=void 0),this.closed=!0,this.size}}class V{constructor(t,e,r){this.maxChunkRecords=t,this.flushFn=e,this.scheduleSend=r,this.length=0,this.lines=new Array(t)}add(t){0===this.length&&this.scheduleSend(),this.lines[this.length]=t,this.length++,this.length>=this.maxChunkRecords&&this.flush().catch(t=>{})}flush(){const t=this.reset();return t.length>0?this.flushFn(t):Promise.resolve()}reset(){const t=this.lines.slice(0,this.length);return this.length=0,t}}class W{constructor(t,e,r,s,n){this.transport=t,this.closed=!1,this._timeoutHandle=void 0,this.httpPath=`/api/v2/write?org=${encodeURIComponent(e)}&bucket=${encodeURIComponent(r)}&precision=${s}`,this.writeOptions=Object.assign(Object.assign({},x),n),this.currentTime=A[s],this.dateToProtocolTimestamp=j[s],this.writeOptions.defaultTags&&this.useDefaultTags(this.writeOptions.defaultTags),this.sendOptions={method:"POST",headers:Object.assign({"content-type":"text/plain; charset=utf-8"},null==n?void 0:n.headers),gzipThreshold:this.writeOptions.gzipThreshold};var i;this.writeBuffer=new V(this.writeOptions.batchSize,t=>(this._clearFlushTimeout(),this.sendBatch(t,this.writeOptions.maxRetries+1)),()=>{this.writeOptions.flushInterval>0&&(this._clearFlushTimeout(),this.closed||(this._timeoutHandle=setTimeout(()=>this.sendBatch(this.writeBuffer.reset(),this.writeOptions.maxRetries+1).catch(t=>{}),this.writeOptions.flushInterval)))}),this.sendBatch=this.sendBatch.bind(this),this.retryStrategy=(i=this.writeOptions,new N(i)),this.retryBuffer=new k(this.writeOptions.maxBufferLines,this.sendBatch)}sendBatch(t,e){const r=this;return!this.closed&&t.length>0?new Promise((s,n)=>{let i;const o={responseStarted(t,e){i=e},error(i){const o=r.writeOptions.maxRetries+2-e,l=r.writeOptions.writeFailed.call(r,i,t,o);if(l)l.then(s,n);else{if(!r.closed&&e>1&&(!(i instanceof u)||i.statusCode>=429))return _.warn(`Write to InfluxDB failed (remaining attempts: ${e-1}).`,i),r.retryBuffer.addLines(t,e-1,r.retryStrategy.nextDelay(i,o)),void n(i);_.error("Write to InfluxDB failed.",i),n(i)}},complete(){if(204==i||null==i)r.writeOptions.writeSuccess.call(r,t),r.retryStrategy.success(),s();else{const t=`204 HTTP response status code expected, but ${i} returned`,e=new u(i,t,void 0,"0");e.message=t,o.error(e)}}};this.transport.send(this.httpPath,t.join("\n"),this.sendOptions,o)}):Promise.resolve()}_clearFlushTimeout(){void 0!==this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=void 0)}writeRecord(t){if(this.closed)throw new Error("writeApi: already closed!");this.writeBuffer.add(t)}writeRecords(t){if(this.closed)throw new Error("writeApi: already closed!");for(let e=0;e<t.length;e++)this.writeBuffer.add(t[e])}writePoint(t){if(this.closed)throw new Error("writeApi: already closed!");const e=t.toLineProtocol(this);e&&this.writeBuffer.add(e)}writePoints(t){if(this.closed)throw new Error("writeApi: already closed!");for(let e=0;e<t.length;e++){const r=t[e].toLineProtocol(this);r&&this.writeBuffer.add(r)}}flush(t){return I(this,void 0,void 0,(function*(){if(yield this.writeBuffer.flush(),t)return yield this.retryBuffer.flush()}))}close(){return this.writeBuffer.flush().finally(()=>{const t=this.retryBuffer.close();t&&_.error(`Retry buffer closed with ${t} items that were not written to InfluxDB!`,null),this.closed=!0})}dispose(){return this._clearFlushTimeout(),this.closed=!0,this.retryBuffer.close()+this.writeBuffer.length}useDefaultTags(t){return this.defaultTags=void 0,Object.keys(t).forEach(e=>{(this.defaultTags||(this.defaultTags={}))[e]=T.tag(t[e])}),this}convertTime(t){return void 0===t?this.currentTime():"string"==typeof t?t.length>0?t:void 0:t instanceof Date?this.dateToProtocolTimestamp(t):String("number"==typeof t?Math.floor(t):t)}}function J(t){const e={};return t.headers.forEach((t,r)=>{const s=e[r];void 0===s?e[r]=t:Array.isArray(s)?s.push(t):e[r]=[s,t]}),e}class X{constructor(t){this.connectionOptions=t,this.chunkCombiner=e(),this.requestDecorator=function(){},this.defaultHeaders={"content-type":"application/json; charset=utf-8"},this.connectionOptions.token&&(this.defaultHeaders.Authorization="Token "+this.connectionOptions.token),this.url=String(this.connectionOptions.url),this.url.endsWith("/")&&(this.url=this.url.substring(0,this.url.length-1)),this.url.endsWith("/api/v2")&&(this.url=this.url.substring(0,this.url.length-"/api/v2".length),_.warn(`Please remove '/api/v2' context path from InfluxDB base url, using ${this.url} !`))}send(t,e,r,s){const n=function(t={}){let e=0;return{next:r=>{0===e&&t.next&&null!=r&&t.next(r)},error:r=>{0===e&&(e=1,t.error&&t.error(r))},complete:()=>{0===e&&(e=2,t.complete&&t.complete())},responseStarted:(e,r)=>{t.responseStarted&&t.responseStarted(e,r)}}}(s);let i=!1,o=r.signal;if(s&&s.useCancellable){const t=new AbortController;o||(o=t.signal,r=Object.assign(Object.assign({},r),o)),s.useCancellable({cancel(){i=!0,t.abort()},isCancelled:()=>i||o.aborted})}this.fetch(t,e,r).then(t=>I(this,void 0,void 0,(function*(){if((null==s?void 0:s.responseStarted)&&n.responseStarted(J(t),t.status),t.status>=300)return t.text().then(e=>{if(!e){const r=t.headers.get("x-influxdb-error");r&&(e=r)}n.error(new u(t.status,t.statusText,e,t.headers.get("retry-after"),t.headers.get("content-type")))}).catch(e=>{_.warn("Unable to receive error body",e),n.error(new u(t.status,t.statusText,void 0,t.headers.get("retry-after"),t.headers.get("content-type")))});if(t.body){const e=t.body.getReader();let r;do{r=yield e.read(),n.next(r.value)}while(!r.done)}else if(t.arrayBuffer){const e=yield t.arrayBuffer();n.next(new Uint8Array(e))}else{const e=yield t.text();n.next((new TextEncoder).encode(e))}}))).catch(t=>{i||n.error(t)}).finally(()=>n.complete())}request(t,e,r,s){var n,i;return I(this,void 0,void 0,(function*(){const o=yield this.fetch(t,e,r),{status:l,headers:a}=o,c=a.get("content-type")||"";if(s&&s(J(o),o.status),l>=300){let t=yield o.text();if(!t){const e=a.get("x-influxdb-error");e&&(t=e)}throw new u(l,o.statusText,t,o.headers.get("retry-after"),o.headers.get("content-type"))}const h=null!==(i=null===(n=r.headers)||void 0===n?void 0:n.accept)&&void 0!==i?i:c;return h.includes("json")?yield o.json():h.includes("text")||h.startsWith("application/csv")?yield o.text():void 0}))}fetch(t,e,r){const{method:s,headers:n}=r,i=
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]])}return r}(r,["method","headers"]),o=`${this.url}${t}`,l=Object.assign({method:s,body:"GET"===s||"HEAD"===s?void 0:"string"==typeof e?e:JSON.stringify(e),headers:Object.assign(Object.assign({},this.defaultHeaders),n),credentials:"omit"},i);return this.requestDecorator(l,r,o),fetch(o,l)}}function G(t,e){return e.toObject(t)}class K{constructor(t,e){this.isClosed=!1;try{e({next:e=>{t.next(e)},error:e=>{this.isClosed=!0,t.error(e)},complete:()=>{this.isClosed=!0,t.complete()},useCancellable:t=>{this.cancellable=t}})}catch(e){this.isClosed=!0,t.error(e)}}get closed(){return this.isClosed}unsubscribe(){var t;null===(t=this.cancellable)||void 0===t||t.cancel(),this.isClosed=!0}}function Q(){}class Y{constructor(t,e){this.executor=t,this.decorator=e}subscribe(t,e,r){const s=function(t){const{next:e,error:r,complete:s}=t;return{next:e?e.bind(t):Q,error:r?r.bind(t):Q,complete:s?s.bind(t):Q}}("object"!=typeof t||null===t?{next:t,error:e,complete:r}:t);return new K(this.decorator(s),this.executor)}[H](){return this}}const Z={header:!0,delimiter:",",quoteChar:'"',commentPrefix:"#",annotations:["datatype","group","default"]},tt=t=>t;class et{constructor(t,e){this.transport=t,this.options="string"==typeof e?{org:e}:e}with(t){return new et(this.transport,Object.assign(Object.assign({},this.options),t))}lines(t){return new Y(this.createExecutor(t),tt)}rows(t){return new Y(this.createExecutor(t),t=>w({next(e,r){t.next({values:e,tableMeta:r})},error(e){t.error(e)},complete(){t.complete()}}))}queryLines(t,e){this.createExecutor(t)(e)}queryRows(t,e){this.createExecutor(t)(w(e))}collectRows(t,e=G){const r=[];return new Promise((s,n)=>{this.queryRows(t,{next(t,s){const n=e.call(this,t,s);void 0!==n&&r.push(n)},error(t){n(t)},complete(){s(r)}})})}collectLines(t){const e=[];return new Promise((r,s)=>{this.queryLines(t,{next(t){e.push(t)},error(t){s(t)},complete(){r(e)}})})}queryRaw(t){const{org:e,type:r,gzip:s,headers:n}=this.options;return this.transport.request("/api/v2/query?org="+encodeURIComponent(e),JSON.stringify(this.decorateRequest({query:t.toString(),dialect:Z,type:r})),{method:"POST",headers:Object.assign({accept:"text/csv","accept-encoding":s?"gzip":"identity","content-type":"application/json; encoding=utf-8"},n)})}createExecutor(t){const{org:e,type:s,gzip:n,headers:i}=this.options;return o=>{this.transport.send("/api/v2/query?org="+encodeURIComponent(e),JSON.stringify(this.decorateRequest({query:t.toString(),dialect:Z,type:s})),{method:"POST",headers:Object.assign({"content-type":"application/json; encoding=utf-8","accept-encoding":n?"gzip":"identity"},i)},r(o,this.transport.chunkCombiner))}}decorateRequest(t){var e;return"function"==typeof this.options.now&&(t.now=this.options.now()),t.type=null!==(e=this.options.type)&&void 0!==e?e:"flux",t}}t.AbortError=d,t.DEFAULT_ConnectionOptions={timeout:1e4},t.DEFAULT_RetryDelayStrategyOptions=b,t.DEFAULT_WriteOptions=x,t.FLUX_VALUE=B,t.HttpError=u,t.IllegalArgumentError=a,t.InfluxDB=class{constructor(t){var e;if("string"==typeof t)this._options={url:t};else{if(null===t||"object"!=typeof t)throw new a("No url or configuration specified!");this._options=t}const r=this._options.url;if("string"!=typeof r)throw new a("No url specified!");r.endsWith("/")&&(this._options.url=r.substring(0,r.length-1)),this.transport=null!==(e=this._options.transport)&&void 0!==e?e:new X(this._options)}getWriteApi(t,e,r="ns",s){return new W(this.transport,t,e,r,null!=s?s:this._options.writeOptions)}getQueryApi(t){return new et(this.transport,t)}},t.LineSplitter=s,t.Logger=_,t.Point=class{constructor(t){this.tags={},this.fields={},t&&(this.name=t)}measurement(t){return this.name=t,this}tag(t,e){return this.tags[t]=e,this}booleanField(t,e){return this.fields[t]=e?"T":"F",this}intField(t,e){if("number"!=typeof e){let r;if(isNaN(r=parseInt(String(e))))throw new Error(`Expected integer value for field ${t}, but got '${e}'!`);e=r}return this.fields[t]=Math.floor(e)+"i",this}floatField(t,e){if("number"!=typeof e){let r;if(isNaN(r=parseFloat(e)))throw new Error(`Expected float value for field ${t}, but got '${e}'!`);e=r}return this.fields[t]=String(e),this}stringField(t,e){return null!=e&&("string"!=typeof e&&(e=String(e)),this.fields[t]=T.quoted(e)),this}timestamp(t){return this.time=t,this}toLineProtocol(t){if(!this.name)return;let e="";if(Object.keys(this.fields).sort().forEach(t=>{if(t){const r=this.fields[t];e.length>0&&(e+=","),e+=`${T.tag(t)}=${r}`}}),0===e.length)return;let r="";const s=t&&t.defaultTags?Object.assign(Object.assign({},t.defaultTags),this.tags):this.tags;Object.keys(s).sort().forEach(t=>{if(t){const e=s[t];e&&(r+=",",r+=`${T.tag(t)}=${T.tag(e)}`)}});let n=this.time;return t&&t.convertTime&&(n=t.convertTime(n)),`${T.measurement(this.name)}${r} ${e}${void 0!==n?" "+n:""}`}toString(){const t=this.toLineProtocol(void 0);return t||"invalid point: "+JSON.stringify(this,void 0)}},t.RequestTimedOutError=f,t.canRetryHttpCall=function(t){return!!t&&("function"==typeof t.canRetry?!!t.canRetry():!(!t.code||!c.includes(t.code)))},t.chunksToLines=r,t.consoleLogger=$,t.createFluxTableColumn=function(t){var e,r;const s=new n;return s.label=String(t.label),s.dataType=t.dataType,s.group=Boolean(t.group),s.defaultValue=null!==(e=t.defaultValue)&&void 0!==e?e:"",s.index=null!==(r=t.index)&&void 0!==r?r:0,s},t.createFluxTableMetaData=m,t.createTextDecoderCombiner=e,t.currentTime=A,t.dateToProtocolTimestamp=j,t.escape=T,t.flux=function(t,...e){if(1==t.length&&0===e.length)return U(t[0]);const r=new Array(t.length+e.length);let s=0;for(let i=0;i<t.length;i++){const o=t[i];if(r[s++]=o,i<e.length){const l=e[i];let a;if(o.endsWith('"')&&i+1<t.length&&t[i+1].startsWith('"'))a=F(l);else if(a=q(l),""===a&&("object"!=typeof(n=l)||"function"!=typeof n[B]))throw new Error(`Unsupported parameter literal '${l}' at index: ${i}, type: ${typeof l}`);r[s++]=a}else if(i<t.length-1)throw new Error("Too few parameters supplied!")}var n;return U(r.join(""))},t.fluxBool=function(t){return new P("true"===t||"false"===t?t:(!!t).toString())},t.fluxDateTime=function(t){return new P(function(t){return`time(v: "${F(t)}")`}(t))},t.fluxDuration=function(t){return new P(`duration(v: "${F(t)}")`)},t.fluxExpression=U,t.fluxFloat=function(t){return new P(z(t))},t.fluxInteger=function(t){const e=z(t);for(const t of e)if("."===t)throw new Error("not a flux integer: "+e);return new P(e)},t.fluxRegExp=function(t){return new P(M(t))},t.fluxString=function(t){return new P(`"${F(t)}"`)},t.getRetryDelay=h,t.isStatusCodeRetriable=l,t.linesToTables=w,t.newFluxTableColumn=i,t.sanitizeFloat=z,t.serializeDateTimeAsDate=function(){g["dateTime:RFC3339"]=t=>""===t?null:new Date(Date.parse(t))},t.serializeDateTimeAsNumber=function(){g["dateTime:RFC3339"]=t=>""===t?null:Date.parse(t)},t.serializeDateTimeAsString=function(){g["dateTime:RFC3339"]=t=>""===t?null:t},t.setLogger=function(t){const e=L;return L=t,e},t.stringToLines=function(t,e){let r=!1,s=0,n=0;for(;n<t.length;){const i=t.charCodeAt(n);if(10===i){if(!r){const r=n>0&&13===t.charCodeAt(n-1)?n-1:n;e.next(t.substring(s,r)),s=n+1}}else 34===i&&(r=!r);n++}s<n&&e.next(t.substring(s,n)),e.complete()},t.symbolObservable=H,t.toFluxValue=q,t.typeSerializers=g,t.useProcessHrtime=function(t){return!1},Object.defineProperty(t,"__esModule",{value:!0})}));


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3Jlc3VsdHMvY2h1bmtDb21iaW5lci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3Jlc3VsdHMvY2h1bmtzVG9MaW5lcy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3Jlc3VsdHMvTGluZVNwbGl0dGVyLnRzIiwid2VicGFjazovLy8uLi9zcmMvcmVzdWx0cy9GbHV4VGFibGVDb2x1bW4udHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9lcnJvcnMudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZXN1bHRzL0ZsdXhUYWJsZU1ldGFEYXRhLnRzIiwid2VicGFjazovLy8uLi9zcmMvcmVzdWx0cy9saW5lc1RvVGFibGVzLnRzIiwid2VicGFjazovLy8uLi9zcmMvb3B0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwvZXNjYXBlLnRzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbC9jdXJyZW50VGltZS50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwvbG9nZ2VyLnRzIiwid2VicGFjazovLy8uLi9zcmMvcXVlcnkvZmx1eC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL29ic2VydmFibGUvc3ltYm9sLnRzIiwid2VicGFjazovLy8uLi9zcmMvaW1wbC9yZXRyeVN0cmF0ZWd5LnRzIiwid2VicGFjazovLy8uLi9zcmMvaW1wbC9SZXRyeUJ1ZmZlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ltcGwvV3JpdGVBcGlJbXBsLnRzIiwid2VicGFjazovLy8uLi9zcmMvaW1wbC9icm93c2VyL0ZldGNoVHJhbnNwb3J0LnRzIiwid2VicGFjazovLy8uLi9zcmMvaW1wbC9jb21wbGV0ZUNvbW11bmljYXRpb25PYnNlcnZlci50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL1F1ZXJ5QXBpLnRzIiwid2VicGFjazovLy8uLi9zcmMvaW1wbC9PYnNlcnZhYmxlUXVlcnkudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9pbXBsL1F1ZXJ5QXBpSW1wbC50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL0luZmx1eERCLnRzIiwid2VicGFjazovLy8uLi9zcmMvUG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZXN1bHRzL3N0cmluZ1RvTGluZXMudHMiXSwibmFtZXMiOlsiY3JlYXRlVGV4dERlY29kZXJDb21iaW5lciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsIltvYmplY3QgT2JqZWN0XSIsImZpcnN0Iiwic2Vjb25kIiwicmV0VmFsIiwiVWludDhBcnJheSIsImxlbmd0aCIsInNldCIsImNodW5rIiwic3RhcnQiLCJlbmQiLCJzdWJhcnJheSIsInRvVXRmOFN0cmluZyIsImRlY29kZSIsImNodW5rc1RvTGluZXMiLCJ0YXJnZXQiLCJjaHVua0NvbWJpbmVyIiwiY2h1bmtzIiwicHJldmlvdXMiLCJmaW5pc2hlZCIsInF1b3RlZCIsImluZGV4IiwiY29uY2F0IiwiYyIsIm5leHQiLCJjb3B5IiwidW5kZWZpbmVkIiwiYnVmZmVyUmVjZWl2ZWQiLCJlIiwidGhpcyIsImVycm9yIiwiY29tcGxldGUiLCJjYW5jZWxsYWJsZSIsInVzZUNhbmNlbGxhYmxlIiwic2VsZiIsImNhbmNlbCIsImlzQ2FuY2VsbGVkIiwiTGluZVNwbGl0dGVyIiwicmV1c2UiLCJfcmV1c2UiLCJ2YWwiLCJyZXVzZWRWYWx1ZXMiLCJBcnJheSIsImxpbmUiLCJsYXN0U3BsaXRMZW5ndGgiLCJxdW90ZUNvdW50Iiwic3RhcnRJbmRleCIsInZhbHVlcyIsImNvdW50IiwiaSIsImdldFZhbHVlIiwicHVzaCIsInN1YnN0cmluZyIsInJlcGxhY2UiLCJGbHV4VGFibGVDb2x1bW5JbXBsIiwibmV3Rmx1eFRhYmxlQ29sdW1uIiwicmV0cmlhYmxlU3RhdHVzQ29kZXMiLCJpc1N0YXR1c0NvZGVSZXRyaWFibGUiLCJzdGF0dXNDb2RlIiwiaW5jbHVkZXMiLCJJbGxlZ2FsQXJndW1lbnRFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInN1cGVyIiwibmFtZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiSHR0cEVycm9yIiwic3RhdHVzTWVzc2FnZSIsImJvZHkiLCJyZXRyeUFmdGVyIiwiY29udGVudFR5cGUiLCJzdGFydHNXaXRoIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImNvZGUiLCJzZXRSZXRyeUFmdGVyIiwidGVzdCIsIl9yZXRyeUFmdGVyIiwicGFyc2VJbnQiLCJSRVRSWV9DT0RFUyIsImdldFJldHJ5RGVsYXkiLCJyZXRyeUppdHRlciIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsIlJlcXVlc3RUaW1lZE91dEVycm9yIiwiQWJvcnRFcnJvciIsImlkZW50aXR5IiwieCIsInR5cGVTZXJpYWxpemVycyIsImJvb2xlYW4iLCJ1bnNpZ25lZExvbmciLCJsb25nIiwiZG91YmxlIiwic3RyaW5nIiwiYmFzZTY0QmluYXJ5IiwiZHVyYXRpb24iLCJkYXRlVGltZTpSRkMzMzM5IiwiRmx1eFRhYmxlTWV0YURhdGFJbXBsIiwiY29sdW1ucyIsImZvckVhY2giLCJjb2wiLCJsYWJlbCIsImFjYyIsImNvbHVtbiIsImRlZmF1bHRWYWx1ZSIsImRhdGFUeXBlIiwiY3JlYXRlRmx1eFRhYmxlTWV0YURhdGEiLCJsaW5lc1RvVGFibGVzIiwiY29uc3VtZXIiLCJzcGxpdHRlciIsIndpdGhSZXVzZSIsImxhc3RNZXRhIiwiZXhwZWN0TWV0YSIsImZpcnN0Q29sdW1uSW5kZXgiLCJzcGxpdExpbmUiLCJzaXplIiwiZ3JvdXAiLCJzbGljZSIsIkRFRkFVTFRfUmV0cnlEZWxheVN0cmF0ZWd5T3B0aW9ucyIsIm1pblJldHJ5RGVsYXkiLCJtYXhSZXRyeURlbGF5IiwiZXhwb25lbnRpYWxCYXNlIiwiREVGQVVMVF9Xcml0ZU9wdGlvbnMiLCJiYXRjaFNpemUiLCJmbHVzaEludGVydmFsIiwid3JpdGVGYWlsZWQiLCJ3cml0ZVN1Y2Nlc3MiLCJtYXhSZXRyaWVzIiwibWF4QnVmZmVyTGluZXMiLCJnemlwVGhyZXNob2xkIiwiY3JlYXRlRXNjYXBlciIsImNoYXJhY3RlcnMiLCJyZXBsYWNlbWVudHMiLCJ2YWx1ZSIsImZyb20iLCJmb3VuZCIsImluZGV4T2YiLCJlc2NhcGUiLCJtZWFzdXJlbWVudCIsImVzY2FwZXIiLCJjcmVhdGVRdW90ZWRFc2NhcGVyIiwidGFnIiwibGFzdE1pbGxpcyIsIkRhdGUiLCJub3ciLCJzdGVwc0luTWlsbGlzIiwibmFub3MiLCJtaWxsaXMiLCJTdHJpbmciLCJzdWJzdHIiLCJtaWNyb3MiLCJzZWNvbmRzIiwiZmxvb3IiLCJjdXJyZW50VGltZSIsInMiLCJtcyIsInVzIiwibnMiLCJkYXRlVG9Qcm90b2NvbFRpbWVzdGFtcCIsImQiLCJnZXRUaW1lIiwiY29uc29sZUxvZ2dlciIsImNvbnNvbGUiLCJ3YXJuIiwicHJvdmlkZXIiLCJMb2dnZXIiLCJGTFVYX1ZBTFVFIiwiU3ltYm9sIiwiRmx1eFBhcmFtZXRlciIsImZsdXhWYWx1ZSIsInNhbml0aXplU3RyaW5nIiwidG9TdHJpbmciLCJwcmVwYXJlUmV0VmFsIiwiY2hhckF0Iiwic2FuaXRpemVGbG9hdCIsImlzRmluaXRlIiwiZG90Iiwic2FuaXRpemVSZWdFeHAiLCJmbHV4RXhwcmVzc2lvbiIsInRvRmx1eFZhbHVlIiwidG9JU09TdHJpbmciLCJSZWdFeHAiLCJpc0FycmF5IiwibWFwIiwiam9pbiIsInN5bWJvbE9ic2VydmFibGUiLCJvYnNlcnZhYmxlIiwiUmV0cnlTdHJhdGVneUltcGwiLCJvcHRpb25zIiwic3VjY2VzcyIsImZhaWxlZEF0dGVtcHRzIiwiZGVsYXkiLCJtaW4iLCJtYXgiLCJjdXJyZW50RGVsYXkiLCJSZXRyeUJ1ZmZlciIsIm1heExpbmVzIiwicmV0cnlMaW5lcyIsImxpbmVzIiwicmV0cnlDb3VudCIsImNsb3NlZCIsInJldHJ5VGltZSIsIm5leHRSZXRyeVRpbWUiLCJvcmlnU2l6ZSIsIm5ld1NpemUiLCJuZXdGaXJzdCIsInRvQWRkIiwibGFzdCIsInNjaGVkdWxlUmV0cnkiLCJ0b1JldHJ5IiwiX3RpbWVvdXRIYW5kbGUiLCJzZXRUaW1lb3V0IiwicmVtb3ZlTGluZXMiLCJ0aGVuIiwiY2F0Y2giLCJfZSIsImNsZWFyVGltZW91dCIsIldyaXRlQnVmZmVyIiwibWF4Q2h1bmtSZWNvcmRzIiwiZmx1c2hGbiIsInNjaGVkdWxlU2VuZCIsInJlY29yZCIsImZsdXNoIiwicmVzZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsIldyaXRlQXBpSW1wbCIsInRyYW5zcG9ydCIsIm9yZyIsImJ1Y2tldCIsInByZWNpc2lvbiIsIndyaXRlT3B0aW9ucyIsImh0dHBQYXRoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZGVmYXVsdFRhZ3MiLCJ1c2VEZWZhdWx0VGFncyIsInNlbmRPcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsImNvbnRlbnQtdHlwZSIsIndyaXRlQnVmZmVyIiwiX2NsZWFyRmx1c2hUaW1lb3V0Iiwic2VuZEJhdGNoIiwiYmluZCIsInJldHJ5U3RyYXRlZ3kiLCJyZXRyeUJ1ZmZlciIsImF0dGVtcHRzIiwicmVqZWN0IiwicmVzcG9uc2VTdGF0dXNDb2RlIiwiY2FsbGJhY2tzIiwiX2hlYWRlcnMiLCJvblJldHJ5IiwiY2FsbCIsImFkZExpbmVzIiwibmV4dERlbGF5Iiwic2VuZCIsImFkZCIsInJlY29yZHMiLCJwb2ludCIsInRvTGluZVByb3RvY29sIiwicG9pbnRzIiwid2l0aFJldHJ5QnVmZmVyIiwiZmluYWxseSIsInJlbWFpbmluZyIsImNsb3NlIiwidGFncyIsImtleXMiLCJrZXkiLCJnZXRSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZSIsIkZldGNoVHJhbnNwb3J0IiwiY29ubmVjdGlvbk9wdGlvbnMiLCJkZWZhdWx0SGVhZGVycyIsInRva2VuIiwidXJsIiwiZW5kc1dpdGgiLCJwYXRoIiwib2JzZXJ2ZXIiLCJzdGF0ZSIsImRhdGEiLCJyZXNwb25zZVN0YXJ0ZWQiLCJjb21wbGV0ZUNvbW11bmljYXRpb25PYnNlcnZlciIsImNhbmNlbGxlZCIsInNpZ25hbCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImFib3J0ZWQiLCJmZXRjaCIsInN0YXR1cyIsInRleHQiLCJoZWFkZXJFcnJvciIsImdldCIsInN0YXR1c1RleHQiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwiZG9uZSIsImFycmF5QnVmZmVyIiwiYnVmZmVyIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJyZXNwb25zZUNvbnRlbnRUeXBlIiwicmVzcG9uc2VUeXBlIiwiYWNjZXB0Iiwib3RoZXIiLCJyZXF1ZXN0Iiwic3RyaW5naWZ5IiwiY3JlZGVudGlhbHMiLCJyZXF1ZXN0RGVjb3JhdG9yIiwiZGVmYXVsdFJvd01hcHBpbmciLCJ0YWJsZU1ldGEiLCJ0b09iamVjdCIsIlF1ZXJ5U3Vic2NyaXB0aW9uIiwiZXhlY3V0b3IiLCJpc0Nsb3NlZCIsIm5vb3AiLCJPYnNlcnZhYmxlUXVlcnkiLCJkZWNvcmF0b3IiLCJvYnNlcnZlck9yTmV4dCIsImNvbXBsZXRlT2JzZXJ2ZXIiLCJERUZBVUxUX2RpYWxlY3QiLCJoZWFkZXIiLCJkZWxpbWl0ZXIiLCJxdW90ZUNoYXIiLCJjb21tZW50UHJlZml4IiwiYW5ub3RhdGlvbnMiLCJRdWVyeUFwaUltcGwiLCJxdWVyeSIsImNyZWF0ZUV4ZWN1dG9yIiwicm93TWFwcGVyIiwicXVlcnlSb3dzIiwicXVlcnlMaW5lcyIsInR5cGUiLCJnemlwIiwiZGVjb3JhdGVSZXF1ZXN0IiwiZGlhbGVjdCIsImFjY2VwdC1lbmNvZGluZyIsInRpbWVvdXQiLCJfb3B0aW9ucyIsIlRyYW5zcG9ydEltcGwiLCJtZWFzdXJlbWVudE5hbWUiLCJmaWVsZHMiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJ0aW1lIiwic2V0dGluZ3MiLCJmaWVsZHNMaW5lIiwic29ydCIsInRhZ3NMaW5lIiwiY29udmVydFRpbWUiLCJjYW5SZXRyeSIsIm9iamVjdCIsIkJvb2xlYW4iLCJzdHJpbmdzIiwicGFydHMiLCJwYXJ0SW5kZXgiLCJzYW5pdGl6ZWQiLCJzYW5pdGl6ZURhdGVUaW1lIiwibG9nZ2VyIiwic291cmNlIiwiY2hhckNvZGVBdCIsInVzZSJdLCJtYXBwaW5ncyI6Ijs7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SzdCLE9BQU8iLCJmaWxlIjoidmVuZG9yc35NZXRlckF2YWlsYWJpbGl0eX5UcmVuZGluZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2h1bmtDb21iaW5lciBpcyBhIHNpbXBsaWZpZWQgcGxhdGZvcm0tbmV1dHJhbCBtYW5pcHVsYXRpb24gb2YgVWludDhhcnJheXNcbiAqIHRoYXQgYWxsb3dzIHRvIHByb2Nlc3MgdGV4dCBkYXRhIG9uIHRoZSBmbHkuIFRoZSBpbXBsZW1lbnRhdGlvbiBjYW4gYmUgb3B0aW1pemVkXG4gKiBmb3IgdGhlIHRhcmdldCBwbGF0Zm9ybSAobm9kZSB2cyBicm93c2VyKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaHVua0NvbWJpbmVyIHtcbiAgLyoqXG4gICAqIENvbmNhdGVuYXRlcyBmaXJzdCBhbmQgc2Vjb25kIGNodW5rLlxuICAgKiBAcGFyYW0gZmlyc3QgLSBmaXJzdCBjaHVua1xuICAgKiBAcGFyYW0gc2Vjb25kIC0gc2Vjb25kIGNodW5rXG4gICAqIEByZXR1cm5zIGZpcnN0ICsgc2Vjb25kXG4gICAqL1xuICBjb25jYXQoZmlyc3Q6IFVpbnQ4QXJyYXksIHNlY29uZDogVWludDhBcnJheSk6IFVpbnQ4QXJyYXlcblxuICAvKipcbiAgICogQ29udmVydHMgY2h1bmsgaW50byBhIHN0cmluZy5cbiAgICogQHBhcmFtIGNodW5rIC0gY2h1bmtcbiAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnQgaW5kZXhcbiAgICogQHBhcmFtIGVuZCAtIGVuZCBpbmRleFxuICAgKiBAcmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgY2h1bmsgc2xpY2VcbiAgICovXG4gIHRvVXRmOFN0cmluZyhjaHVuazogVWludDhBcnJheSwgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBzdHJpbmdcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjaHVuayBmcm9tIHRoZSBzdXBwbGllZCBjaHVuay5cbiAgICogQHBhcmFtIGNodW5rIC0gY2h1bmsgdG8gY29weVxuICAgKiBAcGFyYW0gc3RhcnQgLSBzdGFydCBpbmRleFxuICAgKiBAcGFyYW0gZW5kIC0gZW5kIGluZGV4XG4gICAqIEByZXR1cm5zIGEgY29weSBvZiBhIGNodW5rIHNsaWNlXG4gICAqL1xuICBjb3B5KGNodW5rOiBVaW50OEFycmF5LCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IFVpbnQ4QXJyYXlcbn1cblxuLy8gVGV4dERlY29kZXIgaXMgYXZhaWxhYmxlIHNpbmNlIG5vZGUgdjguMy4wIGFuZCBpbiBhbGwgbW9kZXJuIGJyb3dzZXJzXG5kZWNsYXJlIGNvbnN0IFRleHREZWNvZGVyOiBhbnlcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2h1bmsgY29tYmluZXIgaW5zdGFuY2UgdGhhdCB1c2VzIFVURi04XG4gKiBUZXh0RGVjb2RlciB0byBkZWNvZGUgVWludDhBcnJheXMgaW50byBzdHJpbmdzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGV4dERlY29kZXJDb21iaW5lcigpOiBDaHVua0NvbWJpbmVyIHtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKVxuICByZXR1cm4ge1xuICAgIGNvbmNhdChmaXJzdDogVWludDhBcnJheSwgc2Vjb25kOiBVaW50OEFycmF5KTogVWludDhBcnJheSB7XG4gICAgICBjb25zdCByZXRWYWwgPSBuZXcgVWludDhBcnJheShmaXJzdC5sZW5ndGggKyBzZWNvbmQubGVuZ3RoKVxuICAgICAgcmV0VmFsLnNldChmaXJzdClcbiAgICAgIHJldFZhbC5zZXQoc2Vjb25kLCBmaXJzdC5sZW5ndGgpXG4gICAgICByZXR1cm4gcmV0VmFsXG4gICAgfSxcbiAgICBjb3B5KGNodW5rOiBVaW50OEFycmF5LCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICAgICAgY29uc3QgcmV0VmFsID0gbmV3IFVpbnQ4QXJyYXkoZW5kIC0gc3RhcnQpXG4gICAgICByZXRWYWwuc2V0KGNodW5rLnN1YmFycmF5KHN0YXJ0LCBlbmQpKVxuICAgICAgcmV0dXJuIHJldFZhbFxuICAgIH0sXG4gICAgdG9VdGY4U3RyaW5nKGNodW5rOiBVaW50OEFycmF5LCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGUoY2h1bmsuc3ViYXJyYXkoc3RhcnQsIGVuZCkpXG4gICAgfSxcbiAgfVxufVxuIiwiaW1wb3J0IHtDaHVua0NvbWJpbmVyLCBjcmVhdGVUZXh0RGVjb2RlckNvbWJpbmVyfSBmcm9tICcuL2NodW5rQ29tYmluZXInXG5pbXBvcnQge0NvbW11bmljYXRpb25PYnNlcnZlcn0gZnJvbSAnLi9Db21tdW5pY2F0aW9uT2JzZXJ2ZXInXG5pbXBvcnQge0NhbmNlbGxhYmxlfSBmcm9tICcuL0NhbmNlbGxhYmxlJ1xuXG4vKipcbiAqIENodW5rc1RvTGluZXMgaXMgYSB0cmFuc2Zvcm1hdGlvbiB0aGF0IGFjY2VwdHMgVWludDhBcnJheSBpbnN0YW5jZXNcbiAqIGFuZCBlbW1pdHMgc3RyaW5ncyByZXByZXNlbnRpbmcgQ1NWIGxpbmVzLlxuICogQHBhcmFtIHRhcmdldCAtIHRhcmdldCB0byBlbW1pdCBDU1YgbGluZXMgdG9cbiAqIEBwYXJhbSBjaHVua3MgLSBjaHVuayBjb21iaW5lclxuICogQHJldHVybnMgY29tbXVuaWNhdGlvbiBvYnJ2ZXIgdG8gYWNjZXB0IFVpbnQ4QXJyYXlzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaHVua3NUb0xpbmVzKFxuICB0YXJnZXQ6IENvbW11bmljYXRpb25PYnNlcnZlcjxzdHJpbmc+LFxuICBjaHVua0NvbWJpbmVyPzogQ2h1bmtDb21iaW5lclxuKTogQ29tbXVuaWNhdGlvbk9ic2VydmVyPFVpbnQ4QXJyYXk+IHtcbiAgY29uc3QgY2h1bmtzID0gY2h1bmtDb21iaW5lciA/PyBjcmVhdGVUZXh0RGVjb2RlckNvbWJpbmVyKClcbiAgbGV0IHByZXZpb3VzOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkXG4gIGxldCBmaW5pc2hlZCA9IGZhbHNlXG4gIGxldCBxdW90ZWQgPSBmYWxzZVxuXG4gIGZ1bmN0aW9uIGJ1ZmZlclJlY2VpdmVkKGNodW5rOiBVaW50OEFycmF5KTogdm9pZCB7XG4gICAgbGV0IGluZGV4OiBudW1iZXJcbiAgICBsZXQgc3RhcnQgPSAwXG4gICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICBjaHVuayA9IGNodW5rcy5jb25jYXQocHJldmlvdXMsIGNodW5rKVxuICAgICAgaW5kZXggPSAocHJldmlvdXMgYXMgQnVmZmVyKS5sZW5ndGhcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXggPSAwXG4gICAgfVxuICAgIHdoaWxlIChpbmRleCA8IGNodW5rLmxlbmd0aCkge1xuICAgICAgY29uc3QgYyA9IGNodW5rW2luZGV4XVxuICAgICAgaWYgKGMgPT09IDEwKSB7XG4gICAgICAgIGlmICghcXVvdGVkKSB7XG4gICAgICAgICAgLyogZG8gbm90IGVtaXQgQ1IrTFIgb3IgTEYgbGluZSBlbmRpbmcgKi9cbiAgICAgICAgICBjb25zdCBlbmQgPSBpbmRleCA+IDAgJiYgY2h1bmtbaW5kZXggLSAxXSA9PT0gMTMgPyBpbmRleCAtIDEgOiBpbmRleFxuICAgICAgICAgIC8vIGRvIG5vdCBlbW1pdCBtb3JlIGxpbmVzIGlmIHRoZSBwcm9jZXNzaW5nIGlzIGFscmVhZHkgZmluaXNoZWRcbiAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXQubmV4dChjaHVua3MudG9VdGY4U3RyaW5nKGNodW5rLCBzdGFydCwgZW5kKSlcbiAgICAgICAgICBzdGFydCA9IGluZGV4ICsgMVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IDM0IC8qIFwiICovKSB7XG4gICAgICAgIHF1b3RlZCA9ICFxdW90ZWRcbiAgICAgIH1cbiAgICAgIGluZGV4KytcbiAgICB9XG4gICAgaWYgKHN0YXJ0IDwgaW5kZXgpIHtcbiAgICAgIHByZXZpb3VzID0gY2h1bmtzLmNvcHkoY2h1bmssIHN0YXJ0LCBpbmRleClcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmlvdXMgPSB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5leHQoY2h1bms6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcbiAgICAgIGlmIChmaW5pc2hlZCkgcmV0dXJuXG4gICAgICB0cnkge1xuICAgICAgICBidWZmZXJSZWNlaXZlZChjaHVuaylcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5lcnJvcihlKVxuICAgICAgfVxuICAgIH0sXG4gICAgZXJyb3IoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgICBpZiAoIWZpbmlzaGVkKSB7XG4gICAgICAgIGZpbmlzaGVkID0gdHJ1ZVxuICAgICAgICB0YXJnZXQuZXJyb3IoZXJyb3IpXG4gICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZSgpOiB2b2lkIHtcbiAgICAgIGlmICghZmluaXNoZWQpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgdGFyZ2V0Lm5leHQoY2h1bmtzLnRvVXRmOFN0cmluZyhwcmV2aW91cywgMCwgcHJldmlvdXMubGVuZ3RoKSlcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hlZCA9IHRydWVcbiAgICAgICAgdGFyZ2V0LmNvbXBsZXRlKClcbiAgICAgIH1cbiAgICB9LFxuICAgIHVzZUNhbmNlbGxhYmxlKGNhbmNlbGxhYmxlOiBDYW5jZWxsYWJsZSk6IHZvaWQge1xuICAgICAgaWYgKHRhcmdldC51c2VDYW5jZWxsYWJsZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICAgICAgdGFyZ2V0LnVzZUNhbmNlbGxhYmxlKHtcbiAgICAgICAgICBjYW5jZWwoKTogdm9pZCB7XG4gICAgICAgICAgICBjYW5jZWxsYWJsZS5jYW5jZWwoKVxuICAgICAgICAgICAgcHJldmlvdXMgPSB1bmRlZmluZWQgLy8gZG8gbm90IGVtaXQgbW9yZSBsaW5lc1xuICAgICAgICAgICAgc2VsZi5jb21wbGV0ZSgpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpc0NhbmNlbGxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBjYW5jZWxsYWJsZS5pc0NhbmNlbGxlZCgpXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICB9XG59XG4iLCIvKipcbiAqIE9wdGltaXplZCB0b2tlbml6ZXIgb2YgYSBzaW5nbGUgQ1NWIGxpbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5lU3BsaXR0ZXIge1xuICAvKiogcmV0dXJuZWQgdmFsdWUgd2hlbiByZXVzZWQgICovXG4gIHJldXNlZFZhbHVlczogc3RyaW5nW11cbiAgLyoqIGxhc3QgbGVuZ3RoIG9mIGVsZW1lbnRzIGluICovXG4gIGxhc3RTcGxpdExlbmd0aDogbnVtYmVyXG4gIHByaXZhdGUgX3JldXNlID0gZmFsc2VcblxuICAvKipcbiAgICogUmV1c2UgcmV0dXJuZWQgYXJyYXkgYmV0d2VlbiBjb25zZWN1dGl2ZSBjYWxscy5cbiAgICovXG4gIGdldCByZXVzZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fcmV1c2VcbiAgfVxuICBzZXQgcmV1c2UodmFsOiBib29sZWFuKSB7XG4gICAgaWYgKHZhbCAmJiAhdGhpcy5yZXVzZWRWYWx1ZXMpIHtcbiAgICAgIHRoaXMucmV1c2VkVmFsdWVzID0gbmV3IEFycmF5KDEwKVxuICAgIH1cbiAgICB0aGlzLl9yZXVzZSA9IHZhbFxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHJldXNlIGZsYWcgYW5kIHJldHVybnMgdGhpcy5cbiAgICovXG4gIHdpdGhSZXVzZSgpOiBMaW5lU3BsaXR0ZXIge1xuICAgIHRoaXMucmV1c2UgPSB0cnVlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgdGhlIHN1cHBsaWVkIGxpbmUgdG8gZWxlbWVudHMgdGhhdCBhcmUgc2VwYXJhdGVkIGJ5XG4gICAqIGNvbW1hIHdpdGggdmFsdWVzIHBvc3NpYmx5IGVzY2FwZWQgd2l0aGluIGRvdWJsZSBxdW90ZXMgKFwidmFsdWVcIilcbiAgICogQHBhcmFtIGxpbmUgLSBsaW5lXG4gICAqIEByZXR1cm5zIGFycmF5IG9mIHNwbGl0dGVkIHBhcnRzXG4gICAqL1xuICBzcGxpdExpbmUobGluZTogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZ1tdIHtcbiAgICBpZiAobGluZSA9PT0gbnVsbCB8fCBsaW5lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubGFzdFNwbGl0TGVuZ3RoID0gMFxuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGxldCBxdW90ZUNvdW50ID0gMFxuICAgIGxldCBzdGFydEluZGV4ID0gMFxuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuX3JldXNlID8gdGhpcy5yZXVzZWRWYWx1ZXMgOiBbXVxuICAgIGxldCBjb3VudCA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSBsaW5lW2ldXG4gICAgICBpZiAoYyA9PT0gJywnKSB7XG4gICAgICAgIGlmIChxdW90ZUNvdW50ICUgMiA9PT0gMCkge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZ2V0VmFsdWUobGluZSwgc3RhcnRJbmRleCwgaSwgcXVvdGVDb3VudClcbiAgICAgICAgICBpZiAodGhpcy5fcmV1c2UpIHtcbiAgICAgICAgICAgIHZhbHVlc1tjb3VudCsrXSA9IHZhbFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWwpXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXJ0SW5kZXggPSBpICsgMVxuICAgICAgICAgIHF1b3RlQ291bnQgPSAwXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgICBxdW90ZUNvdW50KytcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdmFsID0gdGhpcy5nZXRWYWx1ZShsaW5lLCBzdGFydEluZGV4LCBsaW5lLmxlbmd0aCwgcXVvdGVDb3VudClcbiAgICBpZiAodGhpcy5fcmV1c2UpIHtcbiAgICAgIHZhbHVlc1tjb3VudF0gPSB2YWxcbiAgICAgIHRoaXMubGFzdFNwbGl0TGVuZ3RoID0gY291bnQgKyAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlcy5wdXNoKHZhbClcbiAgICAgIHRoaXMubGFzdFNwbGl0TGVuZ3RoID0gdmFsdWVzLmxlbmd0aFxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXNcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VmFsdWUoXG4gICAgbGluZTogc3RyaW5nLFxuICAgIHN0YXJ0OiBudW1iZXIsXG4gICAgZW5kOiBudW1iZXIsXG4gICAgcXVvdGVDb3VudDogbnVtYmVyXG4gICk6IHN0cmluZyB7XG4gICAgaWYgKHN0YXJ0ID09PSBsaW5lLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICcnXG4gICAgfSBlbHNlIGlmIChxdW90ZUNvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4gbGluZS5zdWJzdHJpbmcoc3RhcnQsIGVuZClcbiAgICB9IGVsc2UgaWYgKHF1b3RlQ291bnQgPT09IDIpIHtcbiAgICAgIHJldHVybiBsaW5lLnN1YnN0cmluZyhzdGFydCArIDEsIGVuZCAtIDEpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHF1b3RlQ291bnQgPj0gNFxuICAgICAgcmV0dXJuIGxpbmUuc3Vic3RyaW5nKHN0YXJ0ICsgMSwgZW5kIC0gMSkucmVwbGFjZSgvXCJcIi9naSwgJ1wiJylcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogVHlwZSBvZiBxdWVyeSByZXN1bHQgY29sdW1uLCBzZWUge0BsaW5rIGh0dHBzOi8vdjIuZG9jcy5pbmZsdXhkYXRhLmNvbS92Mi4wL3JlZmVyZW5jZS9zeW50YXgvYW5ub3RhdGVkLWNzdi8jdmFsaWQtZGF0YS10eXBlcyB9XG4gKi9cbmV4cG9ydCB0eXBlIENvbHVtblR5cGUgPVxuICB8ICdib29sZWFuJ1xuICB8ICd1bnNpZ25lZExvbmcnXG4gIHwgJ2xvbmcnXG4gIHwgJ2RvdWJsZSdcbiAgfCAnc3RyaW5nJ1xuICB8ICdiYXNlNjRCaW5hcnknXG4gIHwgJ2RhdGVUaW1lOlJGQzMzMzknXG4gIHwgJ2R1cmF0aW9uJ1xuICB8IHN0cmluZ1xuXG4vKipcbiAqIENvbHVtbiBtZXRhZGF0YSBjbGFzcyBvZiBhIHtAbGluayBodHRwOi8vYml0Lmx5L2ZsdXgtc3BlYyN0YWJsZSB8IGZsdXggdGFibGV9IGNvbHVtbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGbHV4VGFibGVDb2x1bW4ge1xuICAvKipcbiAgICogTGFiZWwgKGUuZy4sIFwiX3N0YXJ0XCIsIFwiX3N0b3BcIiwgXCJfdGltZVwiKS5cbiAgICovXG4gIGxhYmVsOiBzdHJpbmdcblxuICAvKipcbiAgICogVGhlIGRhdGEgdHlwZSBvZiBjb2x1bW4gKGUuZy4sIFwic3RyaW5nXCIsIFwibG9uZ1wiLCBcImRhdGVUaW1lOlJGQzMzMzlcIikuXG4gICAqL1xuICBkYXRhVHlwZTogQ29sdW1uVHlwZVxuXG4gIC8qKlxuICAgKiBCb29sZWFuIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgY29sdW1uIGlzIGEgcGFydCBvZiB0aGUgdGFibGUncyBncm91cCBrZXkuXG4gICAqL1xuICBncm91cDogYm9vbGVhblxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZhbHVlIHRvIGJlIHVzZWQgZm9yIHJvd3Mgd2hvc2Ugc3RyaW5nIHZhbHVlIGlzIGFuIGVtcHR5IHN0cmluZy5cbiAgICovXG4gIGRlZmF1bHRWYWx1ZTogc3RyaW5nXG5cbiAgLyoqXG4gICAqIEluZGV4IG9mIHRoaXMgY29sdW1uIGluIGEgcm93IGFycmF5LlxuICAgKi9cbiAgaW5kZXg6IG51bWJlclxufVxuXG4vKipcbiAqIEZsdXhUYWJsZUNvbHVtbiBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuY2xhc3MgRmx1eFRhYmxlQ29sdW1uSW1wbCBpbXBsZW1lbnRzIEZsdXhUYWJsZUNvbHVtbiB7XG4gIGxhYmVsOiBzdHJpbmdcbiAgZGF0YVR5cGU6IENvbHVtblR5cGVcbiAgZ3JvdXA6IGJvb2xlYW5cbiAgZGVmYXVsdFZhbHVlOiBzdHJpbmdcbiAgaW5kZXg6IG51bWJlclxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmx1eCB0YWJsZSBjb2x1bW4uXG4gKiBAcmV0dXJucyBjb2x1bW4gaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld0ZsdXhUYWJsZUNvbHVtbigpOiBGbHV4VGFibGVDb2x1bW4ge1xuICByZXR1cm4gbmV3IEZsdXhUYWJsZUNvbHVtbkltcGwoKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmbHV4IHRhYmxlIGNvbHVtbiBmcm9tIGEgcGFydGlhbCBGbHV4VGFibGVDb2x1bW4uXG4gKiBAcGFyYW0gb2JqZWN0IC0gc291cmNlIG9iamVjdFxuICogQHJldHVybnMgY29sdW1uIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGbHV4VGFibGVDb2x1bW4oXG4gIG9iamVjdDogUGFydGlhbDxGbHV4VGFibGVDb2x1bW4+XG4pOiBGbHV4VGFibGVDb2x1bW4ge1xuICBjb25zdCByZXRWYWwgPSBuZXcgRmx1eFRhYmxlQ29sdW1uSW1wbCgpXG4gIHJldFZhbC5sYWJlbCA9IFN0cmluZyhvYmplY3QubGFiZWwpXG4gIHJldFZhbC5kYXRhVHlwZSA9IG9iamVjdC5kYXRhVHlwZSBhcyBDb2x1bW5UeXBlXG4gIHJldFZhbC5ncm91cCA9IEJvb2xlYW4ob2JqZWN0Lmdyb3VwKVxuICByZXRWYWwuZGVmYXVsdFZhbHVlID0gb2JqZWN0LmRlZmF1bHRWYWx1ZSA/PyAnJ1xuICByZXRWYWwuaW5kZXggPSBvYmplY3QuaW5kZXggPz8gMFxuICByZXR1cm4gcmV0VmFsXG59XG4iLCIvKipcbiAqIFN0cmF0ZWd5IGZvciBjYWxjdWxhdGluZyByZXRyeSBkZWxheXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmV0cnlEZWxheVN0cmF0ZWd5IHtcbiAgLyoqXG4gICAqIFJldHVybnMgZGVsYXkgZm9yIGEgbmV4dCByZXRyeVxuICAgKiBAcGFyYW0gZXJyb3IgLSByZWFzb24gZm9yIHJldHJ5aW5nXG4gICAqIEBwYXJhbSBmYWlsZWRBdHRlbXB0cyAtIGEgY291bnQgb2YgYWxyZWFkeSBmYWlsZWQgYXR0ZW1wdHMsIDEgYmVpbmcgdGhlIGZpcnN0XG4gICAqIEByZXR1cm5zIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZXRyeWluZ1xuICAgKi9cbiAgbmV4dERlbGF5KGVycm9yPzogRXJyb3IsIGZhaWxlZEF0dGVtcHRzPzogbnVtYmVyKTogbnVtYmVyXG4gIC8qKiBJbXBsZW1lbnRhdGlvbiBzaG91bGQgcmVzZXQgaXRzIHN0YXRlLCB0aGlzIGlzIG1hbmRhdG9yeSB0byBjYWxsIHVwb24gc3VjY2Vzcy4gICovXG4gIHN1Y2Nlc3MoKTogdm9pZFxufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgZXJyb3JzIHRvIGluZm9ybSB0aGF0IGFuIGFzc29jaWF0ZWQgb3BlcmF0aW9uIGNhbiBiZSByZXRyaWVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJldHJpYWJsZURlY2lzaW9uIHtcbiAgLyoqXG4gICAqIEluZm9ybXMgd2hldGhlciB0aGlzIGNhbiBiZSByZXRyaWVkLlxuICAgKi9cbiAgY2FuUmV0cnkoKTogYm9vbGVhblxuICAvKipcbiAgICogR2V0IHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgdG8gcmV0cnkgdGhlIGFjdGlvbi5cbiAgICogQHJldHVybnMgMCB0byBsZXQgdGhlIGltcGxlbWVudGF0aW9uIGRlY2lkZSwgbWlsaXNlY29uZHMgZGVsYXkgb3RoZXJ3aXNlXG4gICAqL1xuICByZXRyeUFmdGVyKCk6IG51bWJlclxufVxuXG5jb25zdCByZXRyaWFibGVTdGF0dXNDb2RlcyA9IFs0MDQsIDQwOCwgNDI1LCA0MjksIDUwMCwgNTAyLCA1MDMsIDUwNF1cbi8qKiBpc1N0YXR1c0NvZGVSZXRyaWFibGUgY2hlY2tzIHdoZXRoZXIgdGhlIHN1cHBsaWVkIEhUVFAgc3RhdHVzIGNvZGUgaXMgcmV0cmlhYmxlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RhdHVzQ29kZVJldHJpYWJsZShzdGF0dXNDb2RlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHJldHJpYWJsZVN0YXR1c0NvZGVzLmluY2x1ZGVzKHN0YXR1c0NvZGUpXG59XG5cbi8qKiBJbGxlZ2FsQXJndW1lbnRFcnJvciBpcyB0aHJvd24gd2hlbiBpbGxlZ2FsIGFyZ3VtZW50IGlzIHN1cHBsaWVkLiAqL1xuZXhwb3J0IGNsYXNzIElsbGVnYWxBcmd1bWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuICAgIHRoaXMubmFtZSA9ICdJbGxlZ2FsQXJndW1lbnRFcnJvcidcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSWxsZWdhbEFyZ3VtZW50RXJyb3IucHJvdG90eXBlKVxuICB9XG59XG5cbi8qKlxuICogQSBnZW5lcmFsIEhUVFAgZXJyb3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIFJldHJpYWJsZURlY2lzaW9uIHtcbiAgcHJpdmF0ZSBfcmV0cnlBZnRlcjogbnVtYmVyXG4gIC8qKiBhcHBsaWNhdGlvbiBlcnJvciBjb2RlLCB3aGVuIGF2YWlsYWJsZSAqL1xuICBwdWJsaWMgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIC8qKiBqc29uIGVycm9yIHJlc3BvbnNlICovXG4gIHB1YmxpYyBqc29uOiBhbnlcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCBiZWNhdXNlIG9mIHN1cGVyKCkgbm90IGJlaW5nIGNvdmVyZWQqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBzdGF0dXNDb2RlOiBudW1iZXIsXG4gICAgcmVhZG9ubHkgc3RhdHVzTWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHJlYWRvbmx5IGJvZHk/OiBzdHJpbmcsXG4gICAgcmV0cnlBZnRlcj86IHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGwsXG4gICAgcmVhZG9ubHkgY29udGVudFR5cGU/OiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsLFxuICAgIG1lc3NhZ2U/OiBzdHJpbmdcbiAgKSB7XG4gICAgc3VwZXIoKVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBIdHRwRXJyb3IucHJvdG90eXBlKVxuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlXG4gICAgfSBlbHNlIGlmIChib2R5KSB7XG4gICAgICBpZiAoY29udGVudFR5cGU/LnN0YXJ0c1dpdGgoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuanNvbiA9IEpTT04ucGFyc2UoYm9keSlcbiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLmpzb24ubWVzc2FnZVxuICAgICAgICAgIHRoaXMuY29kZSA9IHRoaXMuanNvbi5jb2RlXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBzaWxlbnRseSBpZ25vcmUsIGJvZHkgc3RyaW5nIGlzIHN0aWxsIGF2YWlsYWJsZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMubWVzc2FnZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBgJHtzdGF0dXNDb2RlfSAke3N0YXR1c01lc3NhZ2V9IDogJHtib2R5fWBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZXNzYWdlID0gYCR7c3RhdHVzQ29kZX0gJHtzdGF0dXNNZXNzYWdlfWBcbiAgICB9XG4gICAgdGhpcy5uYW1lID0gJ0h0dHBFcnJvcidcbiAgICB0aGlzLnNldFJldHJ5QWZ0ZXIocmV0cnlBZnRlcilcbiAgfVxuXG4gIHByaXZhdGUgc2V0UmV0cnlBZnRlcihyZXRyeUFmdGVyPzogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgcmV0cnlBZnRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIHRyeSB0byBwYXJzZSB0aGUgc3VwcGxpZWQgbnVtYmVyIGFzIG1pbGxpc2Vjb25kc1xuICAgICAgaWYgKC9eWzAtOV0rJC8udGVzdChyZXRyeUFmdGVyKSkge1xuICAgICAgICB0aGlzLl9yZXRyeUFmdGVyID0gcGFyc2VJbnQocmV0cnlBZnRlcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JldHJ5QWZ0ZXIgPSAwXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JldHJ5QWZ0ZXIgPSAwXG4gICAgfVxuICB9XG5cbiAgY2FuUmV0cnkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGlzU3RhdHVzQ29kZVJldHJpYWJsZSh0aGlzLnN0YXR1c0NvZGUpXG4gIH1cbiAgcmV0cnlBZnRlcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9yZXRyeUFmdGVyXG4gIH1cbn1cblxuLy9zZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9lcnJvcnMuaHRtbFxuY29uc3QgUkVUUllfQ09ERVMgPSBbXG4gICdFQ09OTlJFU0VUJyxcbiAgJ0VOT1RGT1VORCcsXG4gICdFU09DS0VUVElNRURPVVQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VDT05OUkVGVVNFRCcsXG4gICdFSE9TVFVOUkVBQ0gnLFxuICAnRVBJUEUnLFxuXVxuXG4vKipcbiAqIFRlc3RzIHRoZSBlcnJvciBpbiBvcmRlciB0byBrbm93IGlmIGFuIEhUVFAgY2FsbCBjYW4gYmUgcmV0cmllZC5cbiAqIEBwYXJhbSBlcnJvciAtIGVycm9yIHRvIHRlc3RcbiAqIEByZXR1cm5zIHRydWUgZm9yIGEgcmV0cmlhYmxlIGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXRyeUh0dHBDYWxsKGVycm9yOiBhbnkpOiBib29sZWFuIHtcbiAgaWYgKCFlcnJvcikge1xuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHR5cGVvZiAoZXJyb3IgYXMgYW55KS5jYW5SZXRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiAhISgoZXJyb3IgYXMgYW55KS5jYW5SZXRyeSBhcyAoKSA9PiBib29sZWFuKSgpXG4gIH0gZWxzZSBpZiAoKGVycm9yIGFzIGFueSkuY29kZSAmJiBSRVRSWV9DT0RFUy5pbmNsdWRlcygoZXJyb3IgYXMgYW55KS5jb2RlKSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogR2V0cyByZXRyeSBkZWxheSBmcm9tIHRoZSBzdXBwbGllZCBlcnJvciwgcG9zc2libHkgdXNpbmcgcmFuZG9tIG51bWJlciB1cCB0byByZXRyeUppdHRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJldHJ5RGVsYXkoZXJyb3I/OiBFcnJvciwgcmV0cnlKaXR0ZXI/OiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAoIWVycm9yKSB7XG4gICAgcmV0dXJuIDBcbiAgfSBlbHNlIHtcbiAgICBsZXQgcmV0VmFsXG4gICAgaWYgKHR5cGVvZiAoZXJyb3IgYXMgYW55KS5yZXRyeUFmdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gKChlcnJvciBhcyBhbnkpLnJldHJ5QWZ0ZXIgYXMgKCkgPT4gbnVtYmVyKSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldFZhbCA9IDBcbiAgICB9XG4gICAgaWYgKHJldHJ5Sml0dGVyICYmIHJldHJ5Sml0dGVyID4gMCkge1xuICAgICAgcmV0dXJuIHJldFZhbCArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIHJldHJ5Sml0dGVyKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0VmFsXG4gICAgfVxuICB9XG59XG5cbi8qKiBSZXF1ZXN0VGltZWRPdXRFcnJvciBpbmRpY2F0ZXMgcmVxdWVzdCB0aW1lb3V0IGluIHRoZSBjb21tdW5pY2F0aW9uIHdpdGggdGhlIHNlcnZlciAqL1xuZXhwb3J0IGNsYXNzIFJlcXVlc3RUaW1lZE91dEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBSZXRyaWFibGVEZWNpc2lvbiB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IGJlY2F1c2Ugb2Ygc3VwZXIoKSBub3QgYmVpbmcgY292ZXJlZCAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlcXVlc3RUaW1lZE91dEVycm9yLnByb3RvdHlwZSlcbiAgICB0aGlzLm5hbWUgPSAnUmVxdWVzdFRpbWVkT3V0RXJyb3InXG4gICAgdGhpcy5tZXNzYWdlID0gJ1JlcXVlc3QgdGltZWQgb3V0J1xuICB9XG4gIGNhblJldHJ5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0cnlBZnRlcigpOiBudW1iZXIge1xuICAgIHJldHVybiAwXG4gIH1cbn1cblxuLyoqIEFib3J0RXJyb3IgaW5kaWNhdGVzIHRoYXQgdGhlIGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyIHdhcyBhYm9ydGVkICovXG5leHBvcnQgY2xhc3MgQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgUmV0cmlhYmxlRGVjaXNpb24ge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCBiZWNhdXNlIG9mIHN1cGVyKCkgbm90IGJlaW5nIGNvdmVyZWQgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMubmFtZSA9ICdBYm9ydEVycm9yJ1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBYm9ydEVycm9yLnByb3RvdHlwZSlcbiAgICB0aGlzLm1lc3NhZ2UgPSAnUmVzcG9uc2UgYWJvcnRlZCdcbiAgfVxuICBjYW5SZXRyeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHJ5QWZ0ZXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMFxuICB9XG59XG4iLCJpbXBvcnQge0ZsdXhUYWJsZUNvbHVtbiwgQ29sdW1uVHlwZX0gZnJvbSAnLi9GbHV4VGFibGVDb2x1bW4nXG5pbXBvcnQge0lsbGVnYWxBcmd1bWVudEVycm9yfSBmcm9tICcuLi9lcnJvcnMnXG5cbmNvbnN0IGlkZW50aXR5ID0gKHg6IHN0cmluZyk6IGFueSA9PiB4XG4vKipcbiAqIEEgZGljdGlvbmFyeSBvZiBzZXJpYWxpemVycyBvZiBwYXJ0aWN1bGFyIHR5cGVzIHJldHVybmVkIGJ5IGEgZmx1eCBxdWVyeS5cbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly92Mi5kb2NzLmluZmx1eGRhdGEuY29tL3YyLjAvcmVmZXJlbmNlL3N5bnRheC9hbm5vdGF0ZWQtY3N2LyN2YWxpZC1kYXRhLXR5cGVzIH1cbiAqL1xuZXhwb3J0IGNvbnN0IHR5cGVTZXJpYWxpemVyczogUmVjb3JkPENvbHVtblR5cGUsICh2YWw6IHN0cmluZykgPT4gYW55PiA9IHtcbiAgYm9vbGVhbjogKHg6IHN0cmluZyk6IGFueSA9PiB4ID09PSAndHJ1ZScsXG4gIHVuc2lnbmVkTG9uZzogKHg6IHN0cmluZyk6IGFueSA9PiAoeCA9PT0gJycgPyBudWxsIDogK3gpLFxuICBsb25nOiAoeDogc3RyaW5nKTogYW55ID0+ICh4ID09PSAnJyA/IG51bGwgOiAreCksXG4gIGRvdWJsZTogKHg6IHN0cmluZyk6IGFueSA9PiAoeCA9PT0gJycgPyBudWxsIDogK3gpLFxuICBzdHJpbmc6IGlkZW50aXR5LFxuICBiYXNlNjRCaW5hcnk6IGlkZW50aXR5LFxuICBkdXJhdGlvbjogKHg6IHN0cmluZyk6IGFueSA9PiAoeCA9PT0gJycgPyBudWxsIDogeCksXG4gICdkYXRlVGltZTpSRkMzMzM5JzogKHg6IHN0cmluZyk6IGFueSA9PiAoeCA9PT0gJycgPyBudWxsIDogeCksXG59XG5cbi8qKlxuICogc2VyaWFsaXplRGF0ZVRpbWVBc0RhdGUgY2hhbmdlcyB0eXBlIHNlcmlhbGl6ZXJzIHRvIHJldHVybiBKYXZhU2NyaXB0IERhdGUgaW5zdGFuY2VzXG4gKiBmb3IgJ2RhdGVUaW1lOlJGQzMzMzknIHF1ZXJ5IHJlc3VsdCBkYXRhIHR5cGUuIEVtcHR5IHZhbHVlIGlzIGNvbnZlcnRlZCB0byBudWxsLlxuICogQHJlbWFya3NcbiAqIFBsZWFzZSBub3RlIHRoYXQgdGhlIHJlc3VsdCBoYXMgbWlsbGlzZWNvbmQgcHJlY2lzaW9uIHdoZXJlYXMgSW5mbHV4REIgcmV0dXJucyBkYXRlVGltZVxuICogaW4gbmFub3NlY29uZCBwcmVjaXNpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVEYXRlVGltZUFzRGF0ZSgpOiB2b2lkIHtcbiAgdHlwZVNlcmlhbGl6ZXJzWydkYXRlVGltZTpSRkMzMzM5J10gPSAoeDogc3RyaW5nKTogYW55ID0+XG4gICAgeCA9PT0gJycgPyBudWxsIDogbmV3IERhdGUoRGF0ZS5wYXJzZSh4KSlcbn1cbi8qKlxuICogc2VyaWFsaXplRGF0ZVRpbWVBc051bWJlciBjaGFuZ2VzIHR5cGUgc2VyaWFsaXplcnMgdG8gcmV0dXJuIG1pbGxpc2Vjb25kcyBzaW5jZSBlcG9jaFxuICogZm9yICdkYXRlVGltZTpSRkMzMzM5JyBxdWVyeSByZXN1bHQgZGF0YSB0eXBlLiBFbXB0eSB2YWx1ZSBpcyBjb252ZXJ0ZWQgdG8gbnVsbC5cbiAqIEByZW1hcmtzXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IHRoZSByZXN1bHQgaGFzIG1pbGxpc2Vjb25kIHByZWNpc2lvbiB3aGVyZWFzIEluZmx1eERCIHJldHVybnMgZGF0ZVRpbWVcbiAqIGluIG5hbm9zZWNvbmQgcHJlY2lzaW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRGF0ZVRpbWVBc051bWJlcigpOiB2b2lkIHtcbiAgdHlwZVNlcmlhbGl6ZXJzWydkYXRlVGltZTpSRkMzMzM5J10gPSAoeDogc3RyaW5nKTogYW55ID0+XG4gICAgeCA9PT0gJycgPyBudWxsIDogRGF0ZS5wYXJzZSh4KVxufVxuLyoqXG4gKiBzZXJpYWxpemVEYXRlVGltZUFzU3RyaW5nIGNoYW5nZXMgdHlwZSBzZXJpYWxpemVycyB0byByZXR1cm4gc3RyaW5nIHZhbHVlc1xuICogZm9yIGBkYXRlVGltZTpSRkMzMzM5YCBxdWVyeSByZXN1bHQgZGF0YSB0eXBlLiAgRW1wdHkgdmFsdWUgaXMgY29udmVydGVkIHRvIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVEYXRlVGltZUFzU3RyaW5nKCk6IHZvaWQge1xuICB0eXBlU2VyaWFsaXplcnNbJ2RhdGVUaW1lOlJGQzMzMzknXSA9ICh4OiBzdHJpbmcpOiBhbnkgPT5cbiAgICB4ID09PSAnJyA/IG51bGwgOiB4XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBtZXRhZGF0YSBvZiBhIHtAbGluayBodHRwOi8vYml0Lmx5L2ZsdXgtc3BlYyN0YWJsZSB8IGZsdXggdGFibGV9LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZsdXhUYWJsZU1ldGFEYXRhIHtcbiAgLyoqXG4gICAqIFRhYmxlIGNvbHVtbnMuXG4gICAqL1xuICBjb2x1bW5zOiBBcnJheTxGbHV4VGFibGVDb2x1bW4+XG5cbiAgLyoqXG4gICAqIEdldHMgY29sdW1ucyBieSBuYW1lXG4gICAqIEBwYXJhbSBsYWJlbCAtIGNvbHVtbiBsYWJlbFxuICAgKiBAcmV0dXJucyB0YWJsZSBjb2x1bW5cbiAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFcnJvciBpZiBjb2x1bW4gaXMgbm90IGZvdW5kXG4gICAqKi9cbiAgY29sdW1uKGxhYmVsOiBzdHJpbmcpOiBGbHV4VGFibGVDb2x1bW5cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBvYmplY3Qgb3V0IG9mIHRoZSBzdXBwbGllZCB2YWx1ZXMgd2l0aCB0aGUgaGVscCBvZiBjb2x1bW5zIC5cbiAgICogQHBhcmFtIHZhbHVlcyAtIGEgcm93IHdpdGggZGF0YSBmb3IgZWFjaCBjb2x1bW5cbiAgICovXG4gIHRvT2JqZWN0KHZhbHVlczogc3RyaW5nW10pOiB7W2tleTogc3RyaW5nXTogYW55fVxufVxuXG4vKipcbiAqIEZsdXhUYWJsZU1ldGFEYXRhIEltcGxlbWVudGF0aW9uLlxuICovXG5jbGFzcyBGbHV4VGFibGVNZXRhRGF0YUltcGwgaW1wbGVtZW50cyBGbHV4VGFibGVNZXRhRGF0YSB7XG4gIGNvbHVtbnM6IEFycmF5PEZsdXhUYWJsZUNvbHVtbj5cbiAgY29uc3RydWN0b3IoY29sdW1uczogRmx1eFRhYmxlQ29sdW1uW10pIHtcbiAgICBjb2x1bW5zLmZvckVhY2goKGNvbCwgaSkgPT4gKGNvbC5pbmRleCA9IGkpKVxuICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnNcbiAgfVxuICBjb2x1bW4obGFiZWw6IHN0cmluZyk6IEZsdXhUYWJsZUNvbHVtbiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbCA9IHRoaXMuY29sdW1uc1tpXVxuICAgICAgaWYgKGNvbC5sYWJlbCA9PT0gbGFiZWwpIHJldHVybiBjb2xcbiAgICB9XG4gICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEVycm9yKGBDb2x1bW4gJHtsYWJlbH0gbm90IGZvdW5kIWApXG4gIH1cbiAgdG9PYmplY3QodmFsdWVzOiBzdHJpbmdbXSk6IHtba2V5OiBzdHJpbmddOiBhbnl9IHtcbiAgICBjb25zdCBhY2M6IGFueSA9IHt9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnMubGVuZ3RoICYmIGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2YWwgPSB2YWx1ZXNbaV1cbiAgICAgIGNvbnN0IGNvbHVtbiA9IHRoaXMuY29sdW1uc1tpXVxuICAgICAgaWYgKHZhbCA9PT0gJycgJiYgY29sdW1uLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YWwgPSBjb2x1bW4uZGVmYXVsdFZhbHVlXG4gICAgICB9XG4gICAgICBhY2NbY29sdW1uLmxhYmVsXSA9ICh0eXBlU2VyaWFsaXplcnNbY29sdW1uLmRhdGFUeXBlXSA/PyBpZGVudGl0eSkodmFsKVxuICAgIH1cbiAgICByZXR1cm4gYWNjXG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVkIEZsdXhUYWJsZU1ldGFEYXRhIGZyb20gdGhlIGNvbHVtbnMgc3VwcGxpZWQuXG4gKiBAcGFyYW0gY29sdW1ucyAtICBjb2x1bW5zXG4gKiBAcmV0dXJucyAtIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGbHV4VGFibGVNZXRhRGF0YShcbiAgY29sdW1uczogRmx1eFRhYmxlQ29sdW1uW11cbik6IEZsdXhUYWJsZU1ldGFEYXRhIHtcbiAgcmV0dXJuIG5ldyBGbHV4VGFibGVNZXRhRGF0YUltcGwoY29sdW1ucylcbn1cbiIsImltcG9ydCB7Q29tbXVuaWNhdGlvbk9ic2VydmVyfSBmcm9tICcuL0NvbW11bmljYXRpb25PYnNlcnZlcidcbmltcG9ydCB7Q2FuY2VsbGFibGV9IGZyb20gJy4vQ2FuY2VsbGFibGUnXG5pbXBvcnQge0xpbmVTcGxpdHRlcn0gZnJvbSAnLi9MaW5lU3BsaXR0ZXInXG5pbXBvcnQge0ZsdXhSZXN1bHRPYnNlcnZlcn0gZnJvbSAnLi9GbHV4UmVzdWx0T2JzZXJ2ZXInXG5pbXBvcnQge1xuICBGbHV4VGFibGVDb2x1bW4sXG4gIENvbHVtblR5cGUsXG4gIG5ld0ZsdXhUYWJsZUNvbHVtbixcbn0gZnJvbSAnLi9GbHV4VGFibGVDb2x1bW4nXG5pbXBvcnQge0ZsdXhUYWJsZU1ldGFEYXRhLCBjcmVhdGVGbHV4VGFibGVNZXRhRGF0YX0gZnJvbSAnLi9GbHV4VGFibGVNZXRhRGF0YSdcblxuLyoqXG4gKiBsaW5lc1RvVGFibGVzIGNyZWF0ZXMgYSB0cmFuc2Zvcm1hdGlvbnRoYXQgYWNjZXB0cyAoZmx1eCkgYW5ub3RhdGVkIENTViBsaW5lc1xuICogYW5kIGVtaXRzIHJvd3MgdG9nZXRoZXIgd2l0aCB0YWJsZSBtZXRhZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVzVG9UYWJsZXMoXG4gIGNvbnN1bWVyOiBGbHV4UmVzdWx0T2JzZXJ2ZXI8c3RyaW5nW10+XG4pOiBDb21tdW5pY2F0aW9uT2JzZXJ2ZXI8c3RyaW5nPiB7XG4gIGNvbnN0IHNwbGl0dGVyID0gbmV3IExpbmVTcGxpdHRlcigpLndpdGhSZXVzZSgpXG4gIGxldCBjb2x1bW5zOiBGbHV4VGFibGVDb2x1bW5bXSB8IHVuZGVmaW5lZFxuICBsZXQgZXhwZWN0TWV0YSA9IHRydWVcbiAgbGV0IGZpcnN0Q29sdW1uSW5kZXggPSAwXG4gIGxldCBsYXN0TWV0YTogRmx1eFRhYmxlTWV0YURhdGFcbiAgcmV0dXJuIHtcbiAgICBlcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICAgIGNvbnN1bWVyLmVycm9yKGVycm9yKVxuICAgIH0sXG4gICAgbmV4dChsaW5lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIGlmIChsaW5lID09PSAnJykge1xuICAgICAgICBleHBlY3RNZXRhID0gdHJ1ZVxuICAgICAgICBjb2x1bW5zID0gdW5kZWZpbmVkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBzcGxpdHRlci5zcGxpdExpbmUobGluZSlcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHNwbGl0dGVyLmxhc3RTcGxpdExlbmd0aFxuICAgICAgICBpZiAoZXhwZWN0TWV0YSkge1xuICAgICAgICAgIC8vIGNyZWF0ZSBjb2x1bW5zXG4gICAgICAgICAgaWYgKCFjb2x1bW5zKSB7XG4gICAgICAgICAgICBjb2x1bW5zID0gbmV3IEFycmF5KHNpemUpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICBjb2x1bW5zW2ldID0gbmV3Rmx1eFRhYmxlQ29sdW1uKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF2YWx1ZXNbMF0uc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgICAgICAvLyBmaWxsIGluIGNvbHVtbiBuYW1lc1xuICAgICAgICAgICAgaWYgKHZhbHVlc1swXSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgZmlyc3RDb2x1bW5JbmRleCA9IDFcbiAgICAgICAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMuc2xpY2UoMSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZpcnN0Q29sdW1uSW5kZXggPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RDb2x1bW5JbmRleDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICBjb2x1bW5zW2kgLSBmaXJzdENvbHVtbkluZGV4XS5sYWJlbCA9IHZhbHVlc1tpXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdE1ldGEgPSBjcmVhdGVGbHV4VGFibGVNZXRhRGF0YShjb2x1bW5zKVxuICAgICAgICAgICAgZXhwZWN0TWV0YSA9IGZhbHNlXG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXNbMF0gPT09ICcjZGF0YXR5cGUnKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICBjb2x1bW5zW2ldLmRhdGFUeXBlID0gdmFsdWVzW2ldIGFzIENvbHVtblR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlc1swXSA9PT0gJyNkZWZhdWx0Jykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgY29sdW1uc1tpXS5kZWZhdWx0VmFsdWUgPSB2YWx1ZXNbaV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlc1swXSA9PT0gJyNncm91cCcpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnNbaV0uZ3JvdXAgPSB2YWx1ZXNbaV1bMF0gPT09ICd0J1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdW1lci5uZXh0KHZhbHVlcy5zbGljZShmaXJzdENvbHVtbkluZGV4LCBzaXplKSwgbGFzdE1ldGEpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgICAgY29uc3VtZXIuY29tcGxldGUoKVxuICAgIH0sXG4gICAgdXNlQ2FuY2VsbGFibGUoY2FuY2VsbGFibGU6IENhbmNlbGxhYmxlKTogdm9pZCB7XG4gICAgICBpZiAoY29uc3VtZXIudXNlQ2FuY2VsbGFibGUpIGNvbnN1bWVyLnVzZUNhbmNlbGxhYmxlKGNhbmNlbGxhYmxlKVxuICAgIH0sXG4gIH1cbn1cbiIsImltcG9ydCB7VHJhbnNwb3J0fSBmcm9tICcuL3RyYW5zcG9ydCdcbmltcG9ydCBXcml0ZUFwaSBmcm9tICcuL1dyaXRlQXBpJ1xuXG4vKipcbiAqIE9wdGlvbiBmb3IgdGhlIGNvbW11bmljYXRpb24gd2l0aCBJbmZsdXhEQiBzZXJ2ZXIuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvbk9wdGlvbnMge1xuICAvKiogYmFzZSBVUkwgKi9cbiAgdXJsOiBzdHJpbmdcbiAgLyoqIGF1dGhlbnRpY2F0aW9uIHRva2VuICovXG4gIHRva2VuPzogc3RyaW5nXG4gIC8qKiBzb2NrZXQgdGltZW91dCAqL1xuICB0aW1lb3V0PzogbnVtYmVyXG4gIC8qKiBleHRyYSBvcHRpb25zIGZvciB0aGUgdHJhbnNwb3J0IGxheWVyLCB0aGV5IGNhbiBzZXR1cCBhIHByb3h5IGFnZW50IG9yIGFuIGFib3J0IHNpZ25hbCBpbiBub2RlLmpzIHRyYW5zcG9ydCB0aGF0IHJlbGllcyB1cG9uIHtAbGluayBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX2h0dHBfcmVxdWVzdF91cmxfb3B0aW9uc19jYWxsYmFjayB9ICovXG4gIHRyYW5zcG9ydE9wdGlvbnM/OiB7W2tleTogc3RyaW5nXTogYW55fVxufVxuXG4vKiogZGVmYXVsdCBjb25uZWN0aW9uIG9wdGlvbnMgKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0Nvbm5lY3Rpb25PcHRpb25zOiBQYXJ0aWFsPENvbm5lY3Rpb25PcHRpb25zPiA9IHtcbiAgdGltZW91dDogMTAwMDAsXG59XG5cbi8qKlxuICogT3B0aW9ucyB0aGF0IGNvbmZpZ3VyZSBzdHJhdGVneSBmb3IgcmV0cnlpbmcgZmFpbGVkIHJlcXVlc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5RGVsYXlTdHJhdGVneU9wdGlvbnMge1xuICAvKiogaW5jbHVkZSByYW5kb20gbWlsbGlzZWNvbmRzIHdoZW4gcmV0cnlpbmcgSFRUUCBjYWxscyAqL1xuICByZXRyeUppdHRlcjogbnVtYmVyXG4gIC8qKiBtaW5pbXVtIGRlbGF5IHdoZW4gcmV0cnlpbmcgd3JpdGUgKG1pbGxpc2Vjb25kcykgKi9cbiAgbWluUmV0cnlEZWxheTogbnVtYmVyXG4gIC8qKiBtYXhpbXVtIGRlbGF5IHdoZW4gcmV0cnlpbmcgd3JpdGUgKG1pbGxpc2Vjb25kcykgKi9cbiAgbWF4UmV0cnlEZWxheTogbnVtYmVyXG4gIC8qKiBiYXNlIGZvciB0aGUgZXhwb25lbnRpYWwgcmV0cnkgZGVsYXksIHRoZSBuZXh0IGRlbGF5IGlzIGNvbXB1dGVkIGFzIGBtaW5SZXRyeURlbGF5ICogZXhwb25lbnRpYWxCYXNlXihhdHRlbXB0cy0xKSArIHJhbmRvbShyZXRyeUppdHRlcilgICovXG4gIGV4cG9uZW50aWFsQmFzZTogbnVtYmVyXG59XG5cbi8qKlxuICogT3B0aW9ucyB0aGF0IGNvbmZpZ3VyZSBzdHJhdGVneSBmb3IgcmV0cnlpbmcgZmFpbGVkIEluZmx1eERCIHdyaXRlIG9wZXJhdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV3JpdGVSZXRyeU9wdGlvbnMgZXh0ZW5kcyBSZXRyeURlbGF5U3RyYXRlZ3lPcHRpb25zIHtcbiAgLyoqXG4gICAqIFdyaXRlRmFpbGVkIGlzIGNhbGxlZCB0byBpbmZvcm0gYWJvdXQgd3JpdGUgZXJyb3JzLlxuICAgKiBAcGFyYW0gdGhpcyAtIHRoZSBpbnN0YW5jZSBvZiB0aGUgQVBJIHRoYXQgZmFpbGVkXG4gICAqIEBwYXJhbSBlcnJvciAtIHdyaXRlIGVycm9yXG4gICAqIEBwYXJhbSBsaW5lcyAtIGZhaWxlZCBsaW5lc1xuICAgKiBAcGFyYW0gYXR0ZW1wdHMgLSBhIG51bWJlciBvZiBmYWlsZWQgYXR0ZW1wdHMgdG8gd3JpdGUgdGhlIGxpbmVzXG4gICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0byBmb3JjZSB0aGUgQVBJIHRvIHVzZSBpdCBhcyBhIHJlc3VsdCBvZiB0aGUgZmx1c2ggb3BlcmF0aW9uLFxuICAgKiB2b2lkL3VuZGVmaW5lZCB0byBjb250aW51ZSB3aXRoIGRlZmF1bHQgcmV0cnkgbWVjaGFuaXNtXG4gICAqL1xuICB3cml0ZUZhaWxlZChcbiAgICB0aGlzOiBXcml0ZUFwaSxcbiAgICBlcnJvcjogRXJyb3IsXG4gICAgbGluZXM6IEFycmF5PHN0cmluZz4sXG4gICAgYXR0ZW1wdHM6IG51bWJlclxuICApOiBQcm9taXNlPHZvaWQ+IHwgdm9pZFxuXG4gIC8qKlxuICAgKiBXcml0ZVN1Y2Nlc3MgaXMgaW5mb3JtZWQgYWJvdXQgc3VjY2Vzc2Z1bGx5IHdyaXR0ZW4gbGluZXMuXG4gICAqIEBwYXJhbSB0aGlzIC0gdGhlIGluc3RhbmNlIG9mIHRoZSBBUEkgaW4gdXNlXG4gICAqIEBwYXJhbSBsaW5lcyAtIHdyaXR0ZW4gbGluZXNcbiAgICovXG4gIHdyaXRlU3VjY2Vzcyh0aGlzOiBXcml0ZUFwaSwgbGluZXM6IEFycmF5PHN0cmluZz4pOiB2b2lkXG5cbiAgLyoqIG1heCBudW1iZXIgb2YgcmV0cmllcyB3aGVuIHdyaXRlIGZhaWxzICovXG4gIG1heFJldHJpZXM6IG51bWJlclxuICAvKiogdGhlIG1heGltdW0gc2l6ZSBvZiByZXRyeS1idWZmZXIgKGluIGxpbmVzKSAqL1xuICBtYXhCdWZmZXJMaW5lczogbnVtYmVyXG59XG5cbi8qKlxuICogT3B0aW9ucyB1c2VkIGJ5IHtAbGluayBXcml0ZUFwaX0gLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFdyaXRlT3B0aW9ucyBleHRlbmRzIFdyaXRlUmV0cnlPcHRpb25zIHtcbiAgLyoqIG1heCBudW1iZXIgb2YgcmVjb3JkcyB0byBzZW5kIGluIGEgYmF0Y2ggICAqL1xuICBiYXRjaFNpemU6IG51bWJlclxuICAvKiogZGVsYXkgYmV0d2VlbiBkYXRhIGZsdXNoZXMgaW4gbWlsbGlzZWNvbmRzLCBhdCBtb3N0IGBiYXRjaCBzaXplYCByZWNvcmRzIGFyZSBzZW50IGR1cmluZyBmbHVzaCAgKi9cbiAgZmx1c2hJbnRlcnZhbDogbnVtYmVyXG4gIC8qKiBkZWZhdWx0IHRhZ3MsIHVuZXNjYXBlZCAqL1xuICBkZWZhdWx0VGFncz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz5cbiAgLyoqIEhUVFAgaGVhZGVycyB0aGF0IHdpbGwgYmUgc2VudCB3aXRoIGV2ZXJ5IHdyaXRlIHJlcXVlc3QgKi9cbiAgaGVhZGVycz86IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9XG4gIC8qKiBXaGVuIHNwZWNpZmllZCwgd3JpdGUgYm9kaWVzIGxhcmdlciB0aGFuIHRoZSB0aHJlc2hvbGQgYXJlIGd6aXBwZWQgICovXG4gIGd6aXBUaHJlc2hvbGQ/OiBudW1iZXJcbn1cblxuLyoqIGRlZmF1bHQgUmV0cnlEZWxheVN0cmF0ZWd5T3B0aW9ucyAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUmV0cnlEZWxheVN0cmF0ZWd5T3B0aW9ucyA9IHtcbiAgcmV0cnlKaXR0ZXI6IDIwMCxcbiAgbWluUmV0cnlEZWxheTogNTAwMCxcbiAgbWF4UmV0cnlEZWxheTogMTgwMDAwLFxuICBleHBvbmVudGlhbEJhc2U6IDUsXG59XG5cbi8qKiBkZWZhdWx0IHdyaXRlT3B0aW9ucyAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfV3JpdGVPcHRpb25zOiBXcml0ZU9wdGlvbnMgPSB7XG4gIGJhdGNoU2l6ZTogMTAwMCxcbiAgZmx1c2hJbnRlcnZhbDogNjAwMDAsXG4gIHdyaXRlRmFpbGVkOiBmdW5jdGlvbigpIHt9LFxuICB3cml0ZVN1Y2Nlc3M6IGZ1bmN0aW9uKCkge30sXG4gIG1heFJldHJpZXM6IDMsXG4gIG1heEJ1ZmZlckxpbmVzOiAzMl8wMDAsXG4gIC8vIGEgY29weSBvZiBERUZBVUxUX1JldHJ5RGVsYXlTdHJhdGVneU9wdGlvbnMsIHNvIHRoYXQgREVGQVVMVF9Xcml0ZU9wdGlvbnMgY291bGQgYmUgdHJlZS1zaGFrZW5cbiAgcmV0cnlKaXR0ZXI6IDIwMCxcbiAgbWluUmV0cnlEZWxheTogNTAwMCxcbiAgbWF4UmV0cnlEZWxheTogMTgwMDAwLFxuICBleHBvbmVudGlhbEJhc2U6IDUsXG4gIGd6aXBUaHJlc2hvbGQ6IDEwMDAsXG59XG5cbi8qKlxuICogT3B0aW9ucyB1c2VkIGJ5IHtAbGluayBJbmZsdXhEQn0gLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudE9wdGlvbnMgZXh0ZW5kcyBDb25uZWN0aW9uT3B0aW9ucyB7XG4gIC8qKiBzdXBwbGllcyBhbmQgb3ZlcnJpZGVzIGRlZmF1bHQgd3JpdGluZyBvcHRpb25zICovXG4gIHdyaXRlT3B0aW9ucz86IFBhcnRpYWw8V3JpdGVPcHRpb25zPlxuICAvKiogc3BlY2lmaWVzIGN1c3RvbSB0cmFuc3BvcnQgKi9cbiAgdHJhbnNwb3J0PzogVHJhbnNwb3J0XG59XG5cbi8qKlxuICogVGltZXN0YW1wIHByZWNpc2lvbiB1c2VkIGluIHdyaXRlIG9wZXJhdGlvbnMuXG4gKiBTZWUge0BsaW5rIGh0dHBzOi8vdjIuZG9jcy5pbmZsdXhkYXRhLmNvbS92Mi4wL2FwaS8jb3BlcmF0aW9uL1Bvc3RXcml0ZSB9XG4gKi9cbmV4cG9ydCB0eXBlIFdyaXRlUHJlY2lzaW9uVHlwZSA9ICducycgfCAndXMnIHwgJ21zJyB8ICdzJ1xuIiwiZnVuY3Rpb24gY3JlYXRlRXNjYXBlcihcbiAgY2hhcmFjdGVyczogc3RyaW5nLFxuICByZXBsYWNlbWVudHM6IHN0cmluZ1tdXG4pOiAodmFsdWU6IHN0cmluZykgPT4gc3RyaW5nIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCByZXRWYWwgPSAnJ1xuICAgIGxldCBmcm9tID0gMFxuICAgIGxldCBpID0gMFxuICAgIHdoaWxlIChpIDwgdmFsdWUubGVuZ3RoKSB7XG4gICAgICBjb25zdCBmb3VuZCA9IGNoYXJhY3RlcnMuaW5kZXhPZih2YWx1ZVtpXSlcbiAgICAgIGlmIChmb3VuZCA+PSAwKSB7XG4gICAgICAgIHJldFZhbCArPSB2YWx1ZS5zdWJzdHJpbmcoZnJvbSwgaSlcbiAgICAgICAgcmV0VmFsICs9IHJlcGxhY2VtZW50c1tmb3VuZF1cbiAgICAgICAgZnJvbSA9IGkgKyAxXG4gICAgICB9XG4gICAgICBpKytcbiAgICB9XG4gICAgaWYgKGZyb20gPT0gMCkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSBlbHNlIGlmIChmcm9tIDwgdmFsdWUubGVuZ3RoKSB7XG4gICAgICByZXRWYWwgKz0gdmFsdWUuc3Vic3RyaW5nKGZyb20sIHZhbHVlLmxlbmd0aClcbiAgICB9XG4gICAgcmV0dXJuIHJldFZhbFxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVRdW90ZWRFc2NhcGVyKFxuICBjaGFyYWN0ZXJzOiBzdHJpbmcsXG4gIHJlcGxhY2VtZW50czogc3RyaW5nW11cbik6ICh2YWx1ZTogc3RyaW5nKSA9PiBzdHJpbmcge1xuICBjb25zdCBlc2NhcGVyID0gY3JlYXRlRXNjYXBlcihjaGFyYWN0ZXJzLCByZXBsYWNlbWVudHMpXG4gIHJldHVybiAodmFsdWU6IHN0cmluZyk6IHN0cmluZyA9PiAnXCInICsgZXNjYXBlcih2YWx1ZSkgKyAnXCInXG59XG5cbi8qKlxuICogUHJvdmlkZXMgZnVuY3Rpb25zIGVzY2FwZSBzcGVjaWZpYyBwYXJ0cyBpbiBJbmZsdXhEQiBsaW5lIHByb3RvY29sLlxuICovXG5leHBvcnQgY29uc3QgZXNjYXBlID0ge1xuICAvKipcbiAgICogTWVhc3VyZW1lbnQgZXNjYXBlcyBtZWFzdXJlbWVudCBuYW1lcy5cbiAgICovXG4gIG1lYXN1cmVtZW50OiBjcmVhdGVFc2NhcGVyKCcsIFxcblxcclxcdCcsIFsnXFxcXCwnLCAnXFxcXCAnLCAnXFxcXG4nLCAnXFxcXHInLCAnXFxcXHQnXSksXG4gIC8qKlxuICAgKiBRdW90ZWQgZXNjYXBlcyBxdW90ZWQgdmFsdWVzLCBzdWNoIGFzIGRhdGFiYXNlIG5hbWVzLlxuICAgKi9cbiAgcXVvdGVkOiBjcmVhdGVRdW90ZWRFc2NhcGVyKCdcIlxcXFwnLCBbJ1xcXFxcIicsICdcXFxcXFxcXCddKSxcblxuICAvKipcbiAgICogVGFnRXNjYXBlciBlc2NhcGVzIHRhZyBrZXlzLCB0YWcgdmFsdWVzLCBhbmQgZmllbGQga2V5cy5cbiAgICovXG4gIHRhZzogY3JlYXRlRXNjYXBlcignLCA9XFxuXFxyXFx0JywgWydcXFxcLCcsICdcXFxcICcsICdcXFxcPScsICdcXFxcbicsICdcXFxccicsICdcXFxcdCddKSxcbn1cbiIsImRlY2xhcmUgbGV0IHByb2Nlc3M6IGFueVxuY29uc3QgemVyb1BhZGRpbmcgPSAnMDAwMDAwMDAwJ1xubGV0IHVzZUhyVGltZSA9IGZhbHNlXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VQcm9jZXNzSHJ0aW1lKHVzZTogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoIXByb2Nlc3MuZW52LlJPTExVUF9CUk9XU0VSKSB7XG4gICAgcmV0dXJuICh1c2VIclRpbWUgPSB1c2UgJiYgcHJvY2VzcyAmJiB0eXBlb2YgcHJvY2Vzcy5ocnRpbWUgPT09ICdmdW5jdGlvbicpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbnVzZVByb2Nlc3NIcnRpbWUodHJ1ZSkgLy8gcHJlZmZlciBub2RlXG5cbmxldCBzdGFydEhyTWlsbGlzOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbmxldCBzdGFydEhyVGltZTogW251bWJlciwgbnVtYmVyXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxubGV0IGxhc3RNaWxsaXMgPSBEYXRlLm5vdygpXG5sZXQgc3RlcHNJbk1pbGxpcyA9IDBcbmZ1bmN0aW9uIG5hbm9zKCk6IHN0cmluZyB7XG4gIGlmICghcHJvY2Vzcy5lbnYuUk9MTFVQX0JST1dTRVIgJiYgdXNlSHJUaW1lKSB7XG4gICAgY29uc3QgaHJUaW1lID0gcHJvY2Vzcy5ocnRpbWUoKSBhcyBbbnVtYmVyLCBudW1iZXJdXG4gICAgbGV0IG1pbGxpcyA9IERhdGUubm93KClcbiAgICBpZiAoIXN0YXJ0SHJUaW1lKSB7XG4gICAgICBzdGFydEhyVGltZSA9IGhyVGltZVxuICAgICAgc3RhcnRIck1pbGxpcyA9IG1pbGxpc1xuICAgIH0gZWxzZSB7XG4gICAgICBoclRpbWVbMF0gPSBoclRpbWVbMF0gLSBzdGFydEhyVGltZVswXVxuICAgICAgaHJUaW1lWzFdID0gaHJUaW1lWzFdIC0gc3RhcnRIclRpbWVbMV1cbiAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0IFwiY2Fubm90IG1vY2sgc3lzdGVtIGNsb2NrLCBtYW51YWxseSByZXZpZXdlZFwiXG4gICAgICBpZiAoaHJUaW1lWzFdIDwgMCkge1xuICAgICAgICBoclRpbWVbMF0gLT0gMVxuICAgICAgICBoclRpbWVbMV0gKz0gMTAwMF8wMDBfMDAwXG4gICAgICB9XG4gICAgICBtaWxsaXMgPVxuICAgICAgICAoc3RhcnRIck1pbGxpcyBhcyBudW1iZXIpICtcbiAgICAgICAgaHJUaW1lWzBdICogMTAwMCArXG4gICAgICAgIE1hdGguZmxvb3IoaHJUaW1lWzFdIC8gMTAwMF8wMDApXG4gICAgfVxuICAgIGNvbnN0IG5hbm9zID0gU3RyaW5nKGhyVGltZVsxXSAlIDEwMDBfMDAwKVxuICAgIHJldHVybiBTdHJpbmcobWlsbGlzKSArIHplcm9QYWRkaW5nLnN1YnN0cigwLCA2IC0gbmFub3MubGVuZ3RoKSArIG5hbm9zXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWlsbGlzID0gRGF0ZS5ub3coKVxuICAgIGlmIChtaWxsaXMgIT09IGxhc3RNaWxsaXMpIHtcbiAgICAgIGxhc3RNaWxsaXMgPSBtaWxsaXNcbiAgICAgIHN0ZXBzSW5NaWxsaXMgPSAwXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ZXBzSW5NaWxsaXMrK1xuICAgIH1cbiAgICBjb25zdCBuYW5vcyA9IFN0cmluZyhzdGVwc0luTWlsbGlzKVxuICAgIHJldHVybiBTdHJpbmcobWlsbGlzKSArIHplcm9QYWRkaW5nLnN1YnN0cigwLCA2IC0gbmFub3MubGVuZ3RoKSArIG5hbm9zXG4gIH1cbn1cblxuZnVuY3Rpb24gbWljcm9zKCk6IHN0cmluZyB7XG4gIGlmICghcHJvY2Vzcy5lbnYuUk9MTFVQX0JST1dTRVIgJiYgdXNlSHJUaW1lKSB7XG4gICAgY29uc3QgaHJUaW1lID0gcHJvY2Vzcy5ocnRpbWUoKSBhcyBbbnVtYmVyLCBudW1iZXJdXG4gICAgY29uc3QgbWljcm9zID0gU3RyaW5nKE1hdGgudHJ1bmMoaHJUaW1lWzFdIC8gMTAwMCkgJSAxMDAwKVxuICAgIHJldHVybiAoXG4gICAgICBTdHJpbmcoRGF0ZS5ub3coKSkgKyB6ZXJvUGFkZGluZy5zdWJzdHIoMCwgMyAtIG1pY3Jvcy5sZW5ndGgpICsgbWljcm9zXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBTdHJpbmcoRGF0ZS5ub3coKSkgKyB6ZXJvUGFkZGluZy5zdWJzdHIoMCwgMylcbiAgfVxufVxuZnVuY3Rpb24gbWlsbGlzKCk6IHN0cmluZyB7XG4gIHJldHVybiBTdHJpbmcoRGF0ZS5ub3coKSlcbn1cbmZ1bmN0aW9uIHNlY29uZHMoKTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZyhNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSlcbn1cblxuLyoqXG4gKiBFeHBvc2VzIGZ1bmN0aW9ucyB0aGF0IGNyZWF0ZXMgc3RyaW5ncyB0aGF0IHJlcHJlc2VudCBhIHRpbWVzdGFtcCB0aGF0XG4gKiBjYW4gYmUgdXNlZCBpbiB0aGUgbGluZSBwcm90b2NvbC4gTWljcm8gYW5kIG5hbm8gdGltZXN0YW1wcyBhcmUgZW11bGF0ZWRcbiAqIGRlcGVuZGluZyBvbiB0aGUganMgcGxhdGZvcm0gaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgY3VycmVudFRpbWUgPSB7XG4gIHM6IHNlY29uZHMgYXMgKCkgPT4gc3RyaW5nLFxuICBtczogbWlsbGlzIGFzICgpID0+IHN0cmluZyxcbiAgdXM6IG1pY3JvcyBhcyAoKSA9PiBzdHJpbmcsXG4gIG5zOiBuYW5vcyBhcyAoKSA9PiBzdHJpbmcsXG4gIHNlY29uZHM6IHNlY29uZHMgYXMgKCkgPT4gc3RyaW5nLFxuICBtaWxsaXM6IG1pbGxpcyBhcyAoKSA9PiBzdHJpbmcsXG4gIG1pY3JvczogbWljcm9zIGFzICgpID0+IHN0cmluZyxcbiAgbmFub3M6IG5hbm9zIGFzICgpID0+IHN0cmluZyxcbn1cblxuLyoqXG4gKiBkYXRlVG9Qcm90b2NvbFRpbWVzdGFtcCBwcm92aWRlcyBjb252ZXJ0ZXJzIGZvciBKYXZhU2NyaXB0IERhdGUgdG8gSW5mbHV4REIgV3JpdGUgUHJvdG9jb2wgVGltZXN0YW1wLiBLZXlzIGFyZSBzdXBwb3J0ZWQgcHJlY2lzaW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGRhdGVUb1Byb3RvY29sVGltZXN0YW1wID0ge1xuICBzOiAoZDogRGF0ZSk6IHN0cmluZyA9PiBgJHtNYXRoLmZsb29yKGQuZ2V0VGltZSgpIC8gMTAwMCl9YCxcbiAgbXM6IChkOiBEYXRlKTogc3RyaW5nID0+IGAke2QuZ2V0VGltZSgpfWAsXG4gIHVzOiAoZDogRGF0ZSk6IHN0cmluZyA9PiBgJHtkLmdldFRpbWUoKX0wMDBgLFxuICBuczogKGQ6IERhdGUpOiBzdHJpbmcgPT4gYCR7ZC5nZXRUaW1lKCl9MDAwMDAwYCxcbn1cbiIsIi8qKlxuICogTG9nZ2luZyBpbnRlcmZhY2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBlcnI/OiBhbnkpOiB2b2lkXG4gIHdhcm4obWVzc2FnZTogc3RyaW5nLCBlcnI/OiBhbnkpOiB2b2lkXG59XG5cbi8qKlxuICogTG9nZ2VyIHRoYXQgbG9ncyB0byBjb25zb2xlLm91dFxuICovXG5leHBvcnQgY29uc3QgY29uc29sZUxvZ2dlcjogTG9nZ2VyID0ge1xuICBlcnJvcihtZXNzYWdlLCBlcnJvcikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5lcnJvcignRVJST1I6ICcgKyBtZXNzYWdlLCBlcnJvciA/IGVycm9yIDogJycpXG4gIH0sXG4gIHdhcm4obWVzc2FnZSwgZXJyb3IpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybignV0FSTjogJyArIG1lc3NhZ2UsIGVycm9yID8gZXJyb3IgOiAnJylcbiAgfSxcbn1cbmxldCBwcm92aWRlcjogTG9nZ2VyID0gY29uc29sZUxvZ2dlclxuXG5leHBvcnQgY29uc3QgTG9nZ2VyOiBMb2dnZXIgPSB7XG4gIGVycm9yKG1lc3NhZ2UsIGVycm9yKSB7XG4gICAgcHJvdmlkZXIuZXJyb3IobWVzc2FnZSwgZXJyb3IpXG4gIH0sXG4gIHdhcm4obWVzc2FnZSwgZXJyb3IpIHtcbiAgICBwcm92aWRlci53YXJuKG1lc3NhZ2UsIGVycm9yKVxuICB9LFxufVxuXG4vKipcbiAqIFNldHMgY3VzdG9tIGxvZ2dlci5cbiAqIEBwYXJhbSBsb2dnZXIgLSBsb2dnZXIgdG8gdXNlXG4gKiBAcmV0dXJucyBwcmV2aW91cyBsb2dnZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ2dlcihsb2dnZXI6IExvZ2dlcik6IExvZ2dlciB7XG4gIGNvbnN0IHByZXZpb3VzID0gcHJvdmlkZXJcbiAgcHJvdmlkZXIgPSBsb2dnZXJcbiAgcmV0dXJuIHByZXZpb3VzXG59XG4iLCIvKiogUHJvcGVydHkgdGhhdCBvZmZlcnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZmx1eC1zYW5pdGl6ZWQgdmFsdWUgb2YgYW4gb2JqZWN0LiAgKi9cbmV4cG9ydCBjb25zdCBGTFVYX1ZBTFVFID0gU3ltYm9sKCdGTFVYX1ZBTFVFJylcblxuLyoqXG4gKiBBIGZsdXggcGFyYW1ldGVyIGNhbiBwcmludCBpdHMgKHNhbml0aXplZCkgZmx1eCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGbHV4UGFyYW1ldGVyTGlrZSB7XG4gIFtGTFVYX1ZBTFVFXSgpOiBzdHJpbmdcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcGFyYW1ldGVyaXplZCBxdWVyeS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJhbWV0ZXJpemVkUXVlcnkge1xuICAvKipcbiAgICogUmV0dXJucyBmbHV4IHF1ZXJ5IHdpdGggc2FuaXRpemVkIHBhcmFtZXRlcnMuXG4gICAqL1xuICB0b1N0cmluZygpOiBzdHJpbmdcbn1cblxuY2xhc3MgRmx1eFBhcmFtZXRlciBpbXBsZW1lbnRzIEZsdXhQYXJhbWV0ZXJMaWtlLCBQYXJhbWV0ZXJpemVkUXVlcnkge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZsdXhWYWx1ZTogc3RyaW5nKSB7fVxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmZsdXhWYWx1ZVxuICB9XG4gIFtGTFVYX1ZBTFVFXSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmZsdXhWYWx1ZVxuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBzdXBwbGllZCBvYmplY3QgaXMgRmx1eFBhcmFtZXRlckxpa2VcbiAqIEBwYXJhbSB2YWx1ZSAtIGFueSB2YWx1ZVxuICogQHJldHVybnMgdHJ1ZSBpZiBpdCBpc1xuICovXG5mdW5jdGlvbiBpc0ZsdXhQYXJhbWV0ZXJMaWtlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlW0ZMVVhfVkFMVUVdID09PSAnZnVuY3Rpb24nXG59XG5cbi8qKlxuICogRXNjYXBlcyBjb250ZW50IG9mIHRoZSBzdXBwbGllZCBzdHJpbmcgc28gaXQgY2FuIGJlIHdyYXBwZWQgaW50byBkb3VibGUgcW91dGVzXG4gKiB0byBiZWNvbWUgYSBbZmx1eCBzdHJpbmcgbGl0ZXJhbF0oaHR0cHM6Ly9kb2NzLmluZmx1eGRhdGEuY29tL2ZsdXgvdjAuNjUvbGFuZ3VhZ2UvbGV4aWNhbC1lbGVtZW50cy8jc3RyaW5nLWxpdGVyYWxzKS5cbiAqIEBwYXJhbSB2YWx1ZSAtIHN0cmluZyB2YWx1ZVxuICogQHJldHVybnMgc2FuaXRpemVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBzYW5pdGl6ZVN0cmluZyh2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiAnJ1xuICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKClcbiAgbGV0IHJldFZhbDogYW55ID0gdW5kZWZpbmVkXG4gIGxldCBpID0gMFxuICBmdW5jdGlvbiBwcmVwYXJlUmV0VmFsKCk6IHZvaWQge1xuICAgIGlmIChyZXRWYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0VmFsID0gdmFsdWUuc3Vic3RyaW5nKDAsIGkpXG4gICAgfVxuICB9XG4gIGZvciAoOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjID0gdmFsdWUuY2hhckF0KGkpXG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlICdcXHInOlxuICAgICAgICBwcmVwYXJlUmV0VmFsKClcbiAgICAgICAgcmV0VmFsICs9ICdcXFxccidcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgIHByZXBhcmVSZXRWYWwoKVxuICAgICAgICByZXRWYWwgKz0gJ1xcXFxuJ1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgcHJlcGFyZVJldFZhbCgpXG4gICAgICAgIHJldFZhbCArPSAnXFxcXHQnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdcIic6XG4gICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgcHJlcGFyZVJldFZhbCgpXG4gICAgICAgIHJldFZhbCA9IHJldFZhbCArICdcXFxcJyArIGNcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJyQnOlxuICAgICAgICAvLyBlc2NhcGUgJHtcbiAgICAgICAgaWYgKGkgKyAxIDwgdmFsdWUubGVuZ3RoICYmIHZhbHVlLmNoYXJBdChpICsgMSkgPT09ICd7Jykge1xuICAgICAgICAgIHByZXBhcmVSZXRWYWwoKVxuICAgICAgICAgIGkrK1xuICAgICAgICAgIHJldFZhbCArPSAnXFxcXCR7J1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwZW5kICRcbiAgICAgICAgaWYgKHJldFZhbCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXRWYWwgKz0gY1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocmV0VmFsICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldFZhbCArPSBjXG4gICAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHJldFZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHJldFZhbFxuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmbHV4IHN0cmluZyBsaXRlcmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1eFN0cmluZyh2YWx1ZTogYW55KTogRmx1eFBhcmFtZXRlckxpa2Uge1xuICByZXR1cm4gbmV3IEZsdXhQYXJhbWV0ZXIoYFwiJHtzYW5pdGl6ZVN0cmluZyh2YWx1ZSl9XCJgKVxufVxuXG4vKipcbiAqIFNhbml0aXplcyBmbG9hdCB2YWx1ZSB0byBhdm9pZCBpbmplY3Rpb25zLlxuICogQHBhcmFtIHZhbHVlIC0gSW5mbHV4REIgZmxvYXQgbGl0ZXJhbFxuICogQHJldHVybnMgc2FuaXRpemVkIGZsb2F0IHZhbHVlXG4gKiBAdGhyb3dzIEVycm9yIGlmIHRoZSB0aGUgdmFsdWUgY2Fubm90IGJlIHNhbml0aXplZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVGbG9hdCh2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAoIWlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBub3QgYSBmbHV4IGZsb2F0OiAke3ZhbHVlfWApXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpXG4gIH1cbiAgY29uc3QgdmFsID0gU3RyaW5nKHZhbHVlKVxuICBsZXQgZG90ID0gZmFsc2VcbiAgZm9yIChjb25zdCBjIG9mIHZhbCkge1xuICAgIGlmIChjID09PSAnLicpIHtcbiAgICAgIGlmIChkb3QpIHRocm93IG5ldyBFcnJvcihgbm90IGEgZmx1eCBmbG9hdDogJHt2YWx9YClcbiAgICAgIGRvdCA9ICFkb3RcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIGlmIChjICE9PSAnLicgJiYgYyAhPT0gJy0nICYmIChjIDwgJzAnIHx8IGMgPiAnOScpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBub3QgYSBmbHV4IGZsb2F0OiAke3ZhbH1gKVxuICB9XG4gIHJldHVybiB2YWxcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGZsdXggZmxvYXQgbGl0ZXJhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXhGbG9hdCh2YWx1ZTogYW55KTogRmx1eFBhcmFtZXRlckxpa2Uge1xuICByZXR1cm4gbmV3IEZsdXhQYXJhbWV0ZXIoc2FuaXRpemVGbG9hdCh2YWx1ZSkpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZsdXggaW50ZWdlciBsaXRlcmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1eEludGVnZXIodmFsdWU6IGFueSk6IEZsdXhQYXJhbWV0ZXJMaWtlIHtcbiAgY29uc3QgdmFsID0gc2FuaXRpemVGbG9hdCh2YWx1ZSlcbiAgZm9yIChjb25zdCBjIG9mIHZhbCkge1xuICAgIGlmIChjID09PSAnLicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgbm90IGEgZmx1eCBpbnRlZ2VyOiAke3ZhbH1gKVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IEZsdXhQYXJhbWV0ZXIodmFsKVxufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZURhdGVUaW1lKHZhbHVlOiBhbnkpOiBzdHJpbmcge1xuICByZXR1cm4gYHRpbWUodjogXCIke3Nhbml0aXplU3RyaW5nKHZhbHVlKX1cIilgXG59XG5cbi8qKlxuICogQ3JlYXRlcyBmbHV4IGRhdGUtdGltZSBsaXRlcmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1eERhdGVUaW1lKHZhbHVlOiBhbnkpOiBGbHV4UGFyYW1ldGVyTGlrZSB7XG4gIHJldHVybiBuZXcgRmx1eFBhcmFtZXRlcihzYW5pdGl6ZURhdGVUaW1lKHZhbHVlKSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGZsdXggZGF0ZS10aW1lIGxpdGVyYWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHV4RHVyYXRpb24odmFsdWU6IGFueSk6IEZsdXhQYXJhbWV0ZXJMaWtlIHtcbiAgcmV0dXJuIG5ldyBGbHV4UGFyYW1ldGVyKGBkdXJhdGlvbih2OiBcIiR7c2FuaXRpemVTdHJpbmcodmFsdWUpfVwiKWApXG59XG5cbmZ1bmN0aW9uIHNhbml0aXplUmVnRXhwKHZhbHVlOiBhbnkpOiBzdHJpbmcge1xuICByZXR1cm4gYHJlZ2V4cC5jb21waWxlKHY6IFwiJHtzYW5pdGl6ZVN0cmluZyh2YWx1ZSl9XCIpYFxufVxuXG4vKipcbiAqIENyZWF0ZXMgZmx1eCByZWdleHAgbGl0ZXJhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXhSZWdFeHAodmFsdWU6IGFueSk6IEZsdXhQYXJhbWV0ZXJMaWtlIHtcbiAgLy8gbGV0IHRoZSBzZXJ2ZXIgZGVjaWRlIGlmIGl0IGNhbiBiZSBwYXJzZWRcbiAgcmV0dXJuIG5ldyBGbHV4UGFyYW1ldGVyKHNhbml0aXplUmVnRXhwKHZhbHVlKSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGZsdXggYm9vbGVhbiBsaXRlcmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1eEJvb2wodmFsdWU6IGFueSk6IEZsdXhQYXJhbWV0ZXJMaWtlIHtcbiAgaWYgKHZhbHVlID09PSAndHJ1ZScgfHwgdmFsdWUgPT09ICdmYWxzZScpIHtcbiAgICByZXR1cm4gbmV3IEZsdXhQYXJhbWV0ZXIodmFsdWUpXG4gIH1cbiAgcmV0dXJuIG5ldyBGbHV4UGFyYW1ldGVyKCghIXZhbHVlKS50b1N0cmluZygpKVxufVxuXG4vKipcbiAqIEFzc3VtZXMgdGhhdCB0aGUgc3VwcGxpZWQgdmFsdWUgaXMgZmx1eCBleHByZXNzaW9uIG9yIGxpdGVyYWwgdGhhdCBkb2VzIG5vdCBuZWVkIHNhbml0aXppbmcuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gYW55IHZhbHVlXG4gKiBAcmV0dXJucyB0aGUgc3VwcGxpZWQgdmFsdWUgYXMtaXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXhFeHByZXNzaW9uKHZhbHVlOiBhbnkpOiBGbHV4UGFyYW1ldGVyTGlrZSB7XG4gIHJldHVybiBuZXcgRmx1eFBhcmFtZXRlcihTdHJpbmcodmFsdWUpKVxufVxuXG4vKipcbiAqIEVzY2FwZXMgY29udGVudCBvZiB0aGUgc3VwcGxpZWQgcGFyYW1ldGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNhZmVseSBlbWJlZGRlZCBpbnRvIGZsdXggcXVlcnkuXG4gKiBAcGFyYW0gdmFsdWUgLSBwYXJhbWV0ZXIgdmFsdWVcbiAqIEByZXR1cm5zIHNhbml0aXplZCBmbHV4IHZhbHVlIG9yIGFuIGVtcHR5IHN0cmluZyBpZiBpdCBjYW5ub3QgYmUgY29udmVydGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZsdXhWYWx1ZSh2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJydcbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnbnVsbCdcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBgXCIke3Nhbml0aXplU3RyaW5nKHZhbHVlKX1cImBcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHNhbml0aXplRmxvYXQodmFsdWUpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGlmICh0eXBlb2YgdmFsdWVbRkxVWF9WQUxVRV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB2YWx1ZVtGTFVYX1ZBTFVFXSgpXG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpXG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIHNhbml0aXplUmVnRXhwKHZhbHVlKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBgWyR7dmFsdWUubWFwKHRvRmx1eFZhbHVlKS5qb2luKCcsJyl9XWBcbiAgICB9XG4gIH1cbiAgLy8gdXNlIHRvU3RyaW5nIHZhbHVlIGZvciB1bnJlY29nbml6ZWQgb2JqZWN0LCBiaWdpbnQsIHN5bWJvbFxuICByZXR1cm4gdG9GbHV4VmFsdWUodmFsdWUudG9TdHJpbmcoKSlcbn1cblxuLyoqXG4gKiBGbHV4IGlzIGEgdGFnZ2VkIHRlbXBsYXRlIHRoYXQgc2FuaXRpemVzIHN1cHBsaWVkIHBhcmFtZXRlcnNcbiAqIHRvIGF2b2lkIGluamVjdGlvbiBhdHRhY2tzIGluIGZsdXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHV4KFxuICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSxcbiAgLi4udmFsdWVzOiBhbnlcbik6IFBhcmFtZXRlcml6ZWRRdWVyeSB7XG4gIGlmIChzdHJpbmdzLmxlbmd0aCA9PSAxICYmIHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmx1eEV4cHJlc3Npb24oc3RyaW5nc1swXSkgLy8gdGhlIHNpbXBsZXN0IGNhc2VcbiAgfVxuICBjb25zdCBwYXJ0cyA9IG5ldyBBcnJheTxzdHJpbmc+KHN0cmluZ3MubGVuZ3RoICsgdmFsdWVzLmxlbmd0aClcbiAgbGV0IHBhcnRJbmRleCA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdGV4dCA9IHN0cmluZ3NbaV1cbiAgICBwYXJ0c1twYXJ0SW5kZXgrK10gPSB0ZXh0XG4gICAgaWYgKGkgPCB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCB2YWwgPSB2YWx1ZXNbaV1cbiAgICAgIGxldCBzYW5pdGl6ZWQ6IHN0cmluZ1xuICAgICAgaWYgKFxuICAgICAgICB0ZXh0LmVuZHNXaXRoKCdcIicpICYmXG4gICAgICAgIGkgKyAxIDwgc3RyaW5ncy5sZW5ndGggJiZcbiAgICAgICAgc3RyaW5nc1tpICsgMV0uc3RhcnRzV2l0aCgnXCInKVxuICAgICAgKSB7XG4gICAgICAgIC8vIHBhcmFtZXRlciBpcyB3cmFwcGVkIGludG8gZmx1eCBkb3VibGUgcXVvdGVzXG4gICAgICAgIHNhbml0aXplZCA9IHNhbml0aXplU3RyaW5nKHZhbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNhbml0aXplZCA9IHRvRmx1eFZhbHVlKHZhbClcbiAgICAgICAgaWYgKHNhbml0aXplZCA9PT0gJycpIHtcbiAgICAgICAgICAvLyBkbyBub3QgYWxsb3cgdG8gaW5zZXJ0IGVtcHR5IHN0cmluZ3MsIHVubGVzcyBpdCBpcyBGbHV4UGFyYW1ldGVyTGlrZVxuICAgICAgICAgIGlmICghaXNGbHV4UGFyYW1ldGVyTGlrZSh2YWwpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBVbnN1cHBvcnRlZCBwYXJhbWV0ZXIgbGl0ZXJhbCAnJHt2YWx9JyBhdCBpbmRleDogJHtpfSwgdHlwZTogJHt0eXBlb2YgdmFsfWBcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBhcnRzW3BhcnRJbmRleCsrXSA9IHNhbml0aXplZFxuICAgIH0gZWxzZSBpZiAoaSA8IHN0cmluZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb28gZmV3IHBhcmFtZXRlcnMgc3VwcGxpZWQhJylcbiAgICB9XG4gIH1cbiAgLy8gcmV0dXJuIGZsdXggZXhwcmVzc2lvbiBzbyB0aGF0IGZsdXggY2FuIGJlIGVtYmVkZGVkIGludG8gYW5vdGhlciBmbHV4IGFzLWlzXG4gIHJldHVybiBmbHV4RXhwcmVzc2lvbihwYXJ0cy5qb2luKCcnKSlcbn1cbiIsIi8qIE9ic2VydmFibGUgaW50ZXJvcCB0eXBpbmcuIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzICovXG5cbi8qIE5vdGU6IFRoaXMgd2lsbCBhZGQgU3ltYm9sLm9ic2VydmFibGUgZ2xvYmFsbHkgZm9yIGFsbCBUeXBlU2NyaXB0IHVzZXJzICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBTeW1ib2xDb25zdHJ1Y3RvciB7XG4gICAgcmVhZG9ubHkgb2JzZXJ2YWJsZTogc3ltYm9sXG4gIH1cbn1cblxuLyoqIFN5bWJvbC5vYnNlcnZhYmxlIG9yIGEgc3RyaW5nIFwiXFxAXFxAb2JzZXJ2YWJsZVwiLiBVc2VkIGZvciBpbnRlcm9wICovXG5leHBvcnQgY29uc3Qgc3ltYm9sT2JzZXJ2YWJsZSA9ICgoKTpcbiAgfCB0eXBlb2YgU3ltYm9sLm9ic2VydmFibGVcbiAgfCAnQEBvYnNlcnZhYmxlJyA9PlxuICAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZScpKClcbiIsImltcG9ydCB7Z2V0UmV0cnlEZWxheSwgUmV0cnlEZWxheVN0cmF0ZWd5fSBmcm9tICcuLi9lcnJvcnMnXG5pbXBvcnQge1xuICBSZXRyeURlbGF5U3RyYXRlZ3lPcHRpb25zLFxuICBERUZBVUxUX1JldHJ5RGVsYXlTdHJhdGVneU9wdGlvbnMsXG59IGZyb20gJy4uL29wdGlvbnMnXG5cbi8qKlxuICogQXBwbGllcyBhIHZhcmlhbnQgb2YgZXhwb25lbnRpYWwgYmFja29mZiB3aXRoIGluaXRpYWwgYW5kIG1heCBkZWxheSBhbmQgYSByYW5kb21cbiAqIGppdHRlciBkZWxheS4gSXQgYWxzbyByZXNwZWN0cyBgcmV0cnkgZGVsYXlgIHdoZW4gc3BlY2lmaWVkIHRvZ2V0aGVyIHdpdGggYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXRyeVN0cmF0ZWd5SW1wbCBpbXBsZW1lbnRzIFJldHJ5RGVsYXlTdHJhdGVneSB7XG4gIG9wdGlvbnM6IFJldHJ5RGVsYXlTdHJhdGVneU9wdGlvbnNcbiAgY3VycmVudERlbGF5OiBudW1iZXIgfCB1bmRlZmluZWRcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogUGFydGlhbDxSZXRyeURlbGF5U3RyYXRlZ3lPcHRpb25zPikge1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5ERUZBVUxUX1JldHJ5RGVsYXlTdHJhdGVneU9wdGlvbnMsIC4uLm9wdGlvbnN9XG4gICAgdGhpcy5zdWNjZXNzKClcbiAgfVxuXG4gIG5leHREZWxheShlcnJvcj86IEVycm9yLCBmYWlsZWRBdHRlbXB0cz86IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgZGVsYXkgPSBnZXRSZXRyeURlbGF5KGVycm9yKVxuICAgIGlmIChkZWxheSAmJiBkZWxheSA+IDApIHtcbiAgICAgIHJldHVybiBkZWxheSArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIHRoaXMub3B0aW9ucy5yZXRyeUppdHRlcilcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZhaWxlZEF0dGVtcHRzICYmIGZhaWxlZEF0dGVtcHRzID4gMCkge1xuICAgICAgICAvLyBjb21wdXRlIGRlbGF5XG4gICAgICAgIGxldCBkZWxheSA9IHRoaXMub3B0aW9ucy5taW5SZXRyeURlbGF5XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZmFpbGVkQXR0ZW1wdHM7IGkrKykge1xuICAgICAgICAgIGRlbGF5ID0gZGVsYXkgKiB0aGlzLm9wdGlvbnMuZXhwb25lbnRpYWxCYXNlXG4gICAgICAgICAgaWYgKGRlbGF5ID49IHRoaXMub3B0aW9ucy5tYXhSZXRyeURlbGF5KSB7XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIE1hdGgubWluKE1hdGgubWF4KGRlbGF5LCAxKSwgdGhpcy5vcHRpb25zLm1heFJldHJ5RGVsYXkpICtcbiAgICAgICAgICBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiB0aGlzLm9wdGlvbnMucmV0cnlKaXR0ZXIpXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50RGVsYXkpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RGVsYXkgPSBNYXRoLm1pbihcbiAgICAgICAgICBNYXRoLm1heCh0aGlzLmN1cnJlbnREZWxheSAqIHRoaXMub3B0aW9ucy5leHBvbmVudGlhbEJhc2UsIDEpICtcbiAgICAgICAgICAgIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIHRoaXMub3B0aW9ucy5yZXRyeUppdHRlciksXG4gICAgICAgICAgdGhpcy5vcHRpb25zLm1heFJldHJ5RGVsYXlcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RGVsYXkgPVxuICAgICAgICAgIHRoaXMub3B0aW9ucy5taW5SZXRyeURlbGF5ICtcbiAgICAgICAgICBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiB0aGlzLm9wdGlvbnMucmV0cnlKaXR0ZXIpXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50RGVsYXlcbiAgICB9XG4gIH1cbiAgc3VjY2VzcygpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnREZWxheSA9IHVuZGVmaW5lZFxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiByZXRyeSBzdHJhdGVneS5cbiAqIEBwYXJhbSBvcHRpb25zIC0gcmV0cnkgb3B0aW9uc1xuICogQHJldHVybnMgcmV0cnkgc3RyYXRlZ3kgaW1wbGVtZW50YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJldHJ5RGVsYXlTdHJhdGVneShcbiAgb3B0aW9ucz86IFBhcnRpYWw8UmV0cnlEZWxheVN0cmF0ZWd5T3B0aW9ucz5cbik6IFJldHJ5RGVsYXlTdHJhdGVneSB7XG4gIHJldHVybiBuZXcgUmV0cnlTdHJhdGVneUltcGwob3B0aW9ucylcbn1cbiIsImltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi91dGlsL2xvZ2dlcidcblxuLyogaW50ZXJ2YWwgYmV0d2VlbiBzdWNjZXNzZnVsIHJldHJpZXMgKi9cbmNvbnN0IFJFVFJZX0lOVEVSVkFMID0gMVxuXG5pbnRlcmZhY2UgUmV0cnlJdGVtIHtcbiAgbGluZXM6IHN0cmluZ1tdXG4gIHJldHJ5Q291bnQ6IG51bWJlclxuICBuZXh0PzogUmV0cnlJdGVtXG59XG5cbi8qKlxuICogUmV0cmllcyBsaW5lcyB1cCB0byBhIGxpbWl0IG9mIG1heCBidWZmZXIgc2l6ZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmV0cnlCdWZmZXIge1xuICBmaXJzdD86IFJldHJ5SXRlbVxuICBsYXN0PzogUmV0cnlJdGVtXG4gIHNpemUgPSAwXG4gIG5leHRSZXRyeVRpbWUgPSAwXG4gIGNsb3NlZCA9IGZhbHNlXG4gIHByaXZhdGUgX3RpbWVvdXRIYW5kbGU6IGFueSA9IHVuZGVmaW5lZFxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbWF4TGluZXM6IG51bWJlcixcbiAgICBwcml2YXRlIHJldHJ5TGluZXM6IChcbiAgICAgIGxpbmVzOiBzdHJpbmdbXSxcbiAgICAgIHJldHJ5Q291bnRkb3duOiBudW1iZXJcbiAgICApID0+IFByb21pc2U8dm9pZD5cbiAgKSB7fVxuXG4gIGFkZExpbmVzKGxpbmVzOiBzdHJpbmdbXSwgcmV0cnlDb3VudDogbnVtYmVyLCBkZWxheTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSByZXR1cm5cbiAgICBpZiAoIWxpbmVzLmxlbmd0aCkgcmV0dXJuXG4gICAgY29uc3QgcmV0cnlUaW1lID0gRGF0ZS5ub3coKSArIGRlbGF5XG4gICAgaWYgKHJldHJ5VGltZSA+IHRoaXMubmV4dFJldHJ5VGltZSkgdGhpcy5uZXh0UmV0cnlUaW1lID0gcmV0cnlUaW1lXG4gICAgLy8gZW5zdXJlIGF0IG1vc3QgbWF4TGluZXMgYXJlIGluIHRoZSBCdWZmZXJcbiAgICBpZiAodGhpcy5maXJzdCAmJiB0aGlzLnNpemUgKyBsaW5lcy5sZW5ndGggPiB0aGlzLm1heExpbmVzKSB7XG4gICAgICBjb25zdCBvcmlnU2l6ZSA9IHRoaXMuc2l6ZVxuICAgICAgY29uc3QgbmV3U2l6ZSA9IG9yaWdTaXplICogMC43IC8vIHJlZHVjZSB0byA3MCAlXG4gICAgICBkbyB7XG4gICAgICAgIGNvbnN0IG5ld0ZpcnN0ID0gdGhpcy5maXJzdC5uZXh0IGFzIFJldHJ5SXRlbVxuICAgICAgICB0aGlzLnNpemUgLT0gdGhpcy5maXJzdC5saW5lcy5sZW5ndGhcbiAgICAgICAgdGhpcy5maXJzdCA9IG5ld0ZpcnN0XG4gICAgICB9IHdoaWxlICh0aGlzLmZpcnN0ICYmIHRoaXMuc2l6ZSArIGxpbmVzLmxlbmd0aCA+IG5ld1NpemUpXG4gICAgICBMb2dnZXIuZXJyb3IoXG4gICAgICAgIGBSZXRyeUJ1ZmZlcjogJHtvcmlnU2l6ZSAtXG4gICAgICAgICAgdGhpc1xuICAgICAgICAgICAgLnNpemV9IG9sZGVzdCBsaW5lcyByZW1vdmVkIHRvIGtlZXAgYnVmZmVyIHNpemUgdW5kZXIgdGhlIGxpbWl0IG9mICR7XG4gICAgICAgICAgdGhpcy5tYXhMaW5lc1xuICAgICAgICB9IGxpbmVzYFxuICAgICAgKVxuICAgIH1cbiAgICBjb25zdCB0b0FkZCA9IHtcbiAgICAgIGxpbmVzLFxuICAgICAgcmV0cnlDb3VudCxcbiAgICB9XG4gICAgaWYgKHRoaXMubGFzdCkge1xuICAgICAgdGhpcy5sYXN0Lm5leHQgPSB0b0FkZFxuICAgICAgdGhpcy5sYXN0ID0gdG9BZGRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maXJzdCA9IHRvQWRkXG4gICAgICB0aGlzLmxhc3QgPSB0b0FkZFxuICAgICAgdGhpcy5zY2hlZHVsZVJldHJ5KGRlbGF5KVxuICAgIH1cbiAgICB0aGlzLnNpemUgKz0gbGluZXMubGVuZ3RoXG4gIH1cblxuICByZW1vdmVMaW5lcygpOiBSZXRyeUl0ZW0gfCB1bmRlZmluZWQge1xuICAgIGlmICh0aGlzLmZpcnN0KSB7XG4gICAgICBjb25zdCB0b1JldHJ5ID0gdGhpcy5maXJzdFxuICAgICAgdGhpcy5maXJzdCA9IHRoaXMuZmlyc3QubmV4dFxuICAgICAgdGhpcy5zaXplIC09IHRvUmV0cnkubGluZXMubGVuZ3RoXG4gICAgICBpZiAoIXRoaXMuZmlyc3QpIHRoaXMubGFzdCA9IHVuZGVmaW5lZFxuICAgICAgcmV0dXJuIHRvUmV0cnlcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgc2NoZWR1bGVSZXRyeShkZWxheTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgdG9SZXRyeSA9IHRoaXMucmVtb3ZlTGluZXMoKVxuICAgICAgaWYgKHRvUmV0cnkpIHtcbiAgICAgICAgdGhpcy5yZXRyeUxpbmVzKHRvUmV0cnkubGluZXMsIHRvUmV0cnkucmV0cnlDb3VudClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBjb250aW51ZSB3aXRoIHN1Y2Nlc3NmdWxsIHJldHJ5XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmV0cnkoUkVUUllfSU5URVJWQUwpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goX2UgPT4ge1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBsb2dnZWRcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZXRyeSh0aGlzLm5leHRSZXRyeVRpbWUgLSBEYXRlLm5vdygpKVxuICAgICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl90aW1lb3V0SGFuZGxlID0gdW5kZWZpbmVkXG4gICAgICB9XG4gICAgfSwgZGVsYXkpXG4gIH1cblxuICBhc3luYyBmbHVzaCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBsZXQgdG9SZXRyeVxuICAgIHdoaWxlICgodG9SZXRyeSA9IHRoaXMucmVtb3ZlTGluZXMoKSkpIHtcbiAgICAgIGF3YWl0IHRoaXMucmV0cnlMaW5lcyh0b1JldHJ5LmxpbmVzLCB0b1JldHJ5LnJldHJ5Q291bnQpXG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5fdGltZW91dEhhbmRsZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRIYW5kbGUpXG4gICAgICB0aGlzLl90aW1lb3V0SGFuZGxlID0gdW5kZWZpbmVkXG4gICAgfVxuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZVxuICAgIHJldHVybiB0aGlzLnNpemVcbiAgfVxufVxuIiwiaW1wb3J0IFdyaXRlQXBpIGZyb20gJy4uL1dyaXRlQXBpJ1xuaW1wb3J0IHtcbiAgREVGQVVMVF9Xcml0ZU9wdGlvbnMsXG4gIFdyaXRlT3B0aW9ucyxcbiAgV3JpdGVQcmVjaXNpb25UeXBlLFxufSBmcm9tICcuLi9vcHRpb25zJ1xuaW1wb3J0IHtUcmFuc3BvcnQsIFNlbmRPcHRpb25zfSBmcm9tICcuLi90cmFuc3BvcnQnXG5pbXBvcnQge0hlYWRlcnN9IGZyb20gJy4uL3Jlc3VsdHMnXG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vdXRpbC9sb2dnZXInXG5pbXBvcnQge0h0dHBFcnJvciwgUmV0cnlEZWxheVN0cmF0ZWd5fSBmcm9tICcuLi9lcnJvcnMnXG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi9Qb2ludCdcbmltcG9ydCB7ZXNjYXBlfSBmcm9tICcuLi91dGlsL2VzY2FwZSdcbmltcG9ydCB7Y3VycmVudFRpbWUsIGRhdGVUb1Byb3RvY29sVGltZXN0YW1wfSBmcm9tICcuLi91dGlsL2N1cnJlbnRUaW1lJ1xuaW1wb3J0IHtjcmVhdGVSZXRyeURlbGF5U3RyYXRlZ3l9IGZyb20gJy4vcmV0cnlTdHJhdGVneSdcbmltcG9ydCBSZXRyeUJ1ZmZlciBmcm9tICcuL1JldHJ5QnVmZmVyJ1xuXG5jbGFzcyBXcml0ZUJ1ZmZlciB7XG4gIGxlbmd0aCA9IDBcbiAgbGluZXM6IHN0cmluZ1tdXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBtYXhDaHVua1JlY29yZHM6IG51bWJlcixcbiAgICBwcml2YXRlIGZsdXNoRm46IChsaW5lczogc3RyaW5nW10pID0+IFByb21pc2U8dm9pZD4sXG4gICAgcHJpdmF0ZSBzY2hlZHVsZVNlbmQ6ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgdGhpcy5saW5lcyA9IG5ldyBBcnJheTxzdHJpbmc+KG1heENodW5rUmVjb3JkcylcbiAgfVxuXG4gIGFkZChyZWNvcmQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5zY2hlZHVsZVNlbmQoKVxuICAgIH1cbiAgICB0aGlzLmxpbmVzW3RoaXMubGVuZ3RoXSA9IHJlY29yZFxuICAgIHRoaXMubGVuZ3RoKytcbiAgICBpZiAodGhpcy5sZW5ndGggPj0gdGhpcy5tYXhDaHVua1JlY29yZHMpIHtcbiAgICAgIHRoaXMuZmx1c2goKS5jYXRjaChfZSA9PiB7XG4gICAgICAgIC8vIGFuIGVycm9yIGlzIGxvZ2dlZCBpbiBjYXNlIG9mIGZhaWx1cmUsIGF2b2lkIFVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25XYXJuaW5nXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICBmbHVzaCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBsaW5lcyA9IHRoaXMucmVzZXQoKVxuICAgIGlmIChsaW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5mbHVzaEZuKGxpbmVzKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9XG4gIH1cbiAgcmVzZXQoKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHJldFZhbCA9IHRoaXMubGluZXMuc2xpY2UoMCwgdGhpcy5sZW5ndGgpXG4gICAgdGhpcy5sZW5ndGggPSAwXG4gICAgcmV0dXJuIHJldFZhbFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdyaXRlQXBpSW1wbCBpbXBsZW1lbnRzIFdyaXRlQXBpIHtcbiAgcHJpdmF0ZSB3cml0ZUJ1ZmZlcjogV3JpdGVCdWZmZXJcbiAgcHJpdmF0ZSBjbG9zZWQgPSBmYWxzZVxuICBwcml2YXRlIGh0dHBQYXRoOiBzdHJpbmdcbiAgcHJpdmF0ZSB3cml0ZU9wdGlvbnM6IFdyaXRlT3B0aW9uc1xuICBwcml2YXRlIHNlbmRPcHRpb25zOiBTZW5kT3B0aW9uc1xuICBwcml2YXRlIF90aW1lb3V0SGFuZGxlOiBhbnkgPSB1bmRlZmluZWRcbiAgcHJpdmF0ZSBjdXJyZW50VGltZTogKCkgPT4gc3RyaW5nXG4gIHByaXZhdGUgZGF0ZVRvUHJvdG9jb2xUaW1lc3RhbXA6IChkOiBEYXRlKSA9PiBzdHJpbmdcblxuICByZXRyeUJ1ZmZlcjogUmV0cnlCdWZmZXJcbiAgcmV0cnlTdHJhdGVneTogUmV0cnlEZWxheVN0cmF0ZWd5XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB0cmFuc3BvcnQ6IFRyYW5zcG9ydCxcbiAgICBvcmc6IHN0cmluZyxcbiAgICBidWNrZXQ6IHN0cmluZyxcbiAgICBwcmVjaXNpb246IFdyaXRlUHJlY2lzaW9uVHlwZSxcbiAgICB3cml0ZU9wdGlvbnM/OiBQYXJ0aWFsPFdyaXRlT3B0aW9ucz5cbiAgKSB7XG4gICAgdGhpcy5odHRwUGF0aCA9IGAvYXBpL3YyL3dyaXRlP29yZz0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgIG9yZ1xuICAgICl9JmJ1Y2tldD0ke2VuY29kZVVSSUNvbXBvbmVudChidWNrZXQpfSZwcmVjaXNpb249JHtwcmVjaXNpb259YFxuICAgIHRoaXMud3JpdGVPcHRpb25zID0ge1xuICAgICAgLi4uREVGQVVMVF9Xcml0ZU9wdGlvbnMsXG4gICAgICAuLi53cml0ZU9wdGlvbnMsXG4gICAgfVxuICAgIHRoaXMuY3VycmVudFRpbWUgPSBjdXJyZW50VGltZVtwcmVjaXNpb25dXG4gICAgdGhpcy5kYXRlVG9Qcm90b2NvbFRpbWVzdGFtcCA9IGRhdGVUb1Byb3RvY29sVGltZXN0YW1wW3ByZWNpc2lvbl1cbiAgICBpZiAodGhpcy53cml0ZU9wdGlvbnMuZGVmYXVsdFRhZ3MpIHtcbiAgICAgIHRoaXMudXNlRGVmYXVsdFRhZ3ModGhpcy53cml0ZU9wdGlvbnMuZGVmYXVsdFRhZ3MpXG4gICAgfVxuICAgIHRoaXMuc2VuZE9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICd0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgLi4ud3JpdGVPcHRpb25zPy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICAgIGd6aXBUaHJlc2hvbGQ6IHRoaXMud3JpdGVPcHRpb25zLmd6aXBUaHJlc2hvbGQsXG4gICAgfVxuXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0U2VuZCA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGlmICh0aGlzLndyaXRlT3B0aW9ucy5mbHVzaEludGVydmFsID4gMCkge1xuICAgICAgICB0aGlzLl9jbGVhckZsdXNoVGltZW91dCgpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIG1hbnVhbGx5IHJldmlld2VkLCBoYXJkIHRvIHJlcHJvZHVjZSAqL1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgdGhpcy5fdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICB0aGlzLnNlbmRCYXRjaChcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnJlc2V0KCksXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZU9wdGlvbnMubWF4UmV0cmllcyArIDFcbiAgICAgICAgICAgICAgKS5jYXRjaChfZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYW4gZXJyb3IgaXMgbG9nZ2VkIGluIGNhc2Ugb2YgZmFpbHVyZSwgYXZvaWQgVW5oYW5kbGVkUHJvbWlzZVJlamVjdGlvbldhcm5pbmdcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aGlzLndyaXRlT3B0aW9ucy5mbHVzaEludGVydmFsXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHdyaXRlIGJ1ZmZlclxuICAgIHRoaXMud3JpdGVCdWZmZXIgPSBuZXcgV3JpdGVCdWZmZXIoXG4gICAgICB0aGlzLndyaXRlT3B0aW9ucy5iYXRjaFNpemUsXG4gICAgICBsaW5lcyA9PiB7XG4gICAgICAgIHRoaXMuX2NsZWFyRmx1c2hUaW1lb3V0KClcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEJhdGNoKGxpbmVzLCB0aGlzLndyaXRlT3B0aW9ucy5tYXhSZXRyaWVzICsgMSlcbiAgICAgIH0sXG4gICAgICBzY2hlZHVsZU5leHRTZW5kXG4gICAgKVxuICAgIHRoaXMuc2VuZEJhdGNoID0gdGhpcy5zZW5kQmF0Y2guYmluZCh0aGlzKVxuICAgIC8vIHJldHJ5IGJ1ZmZlclxuICAgIHRoaXMucmV0cnlTdHJhdGVneSA9IGNyZWF0ZVJldHJ5RGVsYXlTdHJhdGVneSh0aGlzLndyaXRlT3B0aW9ucylcbiAgICB0aGlzLnJldHJ5QnVmZmVyID0gbmV3IFJldHJ5QnVmZmVyKFxuICAgICAgdGhpcy53cml0ZU9wdGlvbnMubWF4QnVmZmVyTGluZXMsXG4gICAgICB0aGlzLnNlbmRCYXRjaFxuICAgIClcbiAgfVxuXG4gIHNlbmRCYXRjaChsaW5lczogc3RyaW5nW10sIGF0dGVtcHRzOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICBjb25zdCBzZWxmOiBXcml0ZUFwaUltcGwgPSB0aGlzXG4gICAgaWYgKCF0aGlzLmNsb3NlZCAmJiBsaW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXNDb2RlOiBudW1iZXIgfCB1bmRlZmluZWRcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0ge1xuICAgICAgICAgIHJlc3BvbnNlU3RhcnRlZChfaGVhZGVyczogSGVhZGVycywgc3RhdHVzQ29kZT86IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXNDb2RlID0gc3RhdHVzQ29kZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3IoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBmYWlsZWRBdHRlbXB0cyA9IHNlbGYud3JpdGVPcHRpb25zLm1heFJldHJpZXMgKyAyIC0gYXR0ZW1wdHNcbiAgICAgICAgICAgIC8vIGNhbGwgdGhlIHdyaXRlRmFpbGVkIGxpc3RlbmVyIGFuZCBjaGVjayBpZiB3ZSBjYW4gcmV0cnlcbiAgICAgICAgICAgIGNvbnN0IG9uUmV0cnkgPSBzZWxmLndyaXRlT3B0aW9ucy53cml0ZUZhaWxlZC5jYWxsKFxuICAgICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgbGluZXMsXG4gICAgICAgICAgICAgIGZhaWxlZEF0dGVtcHRzXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpZiAob25SZXRyeSkge1xuICAgICAgICAgICAgICBvblJldHJ5LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIXNlbGYuY2xvc2VkICYmXG4gICAgICAgICAgICAgIGF0dGVtcHRzID4gMSAmJlxuICAgICAgICAgICAgICAoIShlcnJvciBpbnN0YW5jZW9mIEh0dHBFcnJvcikgfHxcbiAgICAgICAgICAgICAgICAoZXJyb3IgYXMgSHR0cEVycm9yKS5zdGF0dXNDb2RlID49IDQyOSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBMb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBgV3JpdGUgdG8gSW5mbHV4REIgZmFpbGVkIChyZW1haW5pbmcgYXR0ZW1wdHM6ICR7YXR0ZW1wdHMgLVxuICAgICAgICAgICAgICAgICAgMX0pLmAsXG4gICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzZWxmLnJldHJ5QnVmZmVyLmFkZExpbmVzKFxuICAgICAgICAgICAgICAgIGxpbmVzLFxuICAgICAgICAgICAgICAgIGF0dGVtcHRzIC0gMSxcbiAgICAgICAgICAgICAgICBzZWxmLnJldHJ5U3RyYXRlZ3kubmV4dERlbGF5KGVycm9yLCBmYWlsZWRBdHRlbXB0cylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKGBXcml0ZSB0byBJbmZsdXhEQiBmYWlsZWQuYCwgZXJyb3IpXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIG9sZGVyIGltcGxlbWVudGF0aW9ucyBvZiB0cmFuc3BvcnQgZG8gbm90IHJlcG9ydCBzdGF0dXMgY29kZVxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlU3RhdHVzQ29kZSA9PSAyMDQgfHwgcmVzcG9uc2VTdGF0dXNDb2RlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzZWxmLndyaXRlT3B0aW9ucy53cml0ZVN1Y2Nlc3MuY2FsbChzZWxmLCBsaW5lcylcbiAgICAgICAgICAgICAgc2VsZi5yZXRyeVN0cmF0ZWd5LnN1Y2Nlc3MoKVxuICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgMjA0IEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgZXhwZWN0ZWQsIGJ1dCAke3Jlc3BvbnNlU3RhdHVzQ29kZX0gcmV0dXJuZWRgXG4gICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEh0dHBFcnJvcihcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgJzAnXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSA9IG1lc3NhZ2VcbiAgICAgICAgICAgICAgY2FsbGJhY2tzLmVycm9yKGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZChcbiAgICAgICAgICB0aGlzLmh0dHBQYXRoLFxuICAgICAgICAgIGxpbmVzLmpvaW4oJ1xcbicpLFxuICAgICAgICAgIHRoaXMuc2VuZE9wdGlvbnMsXG4gICAgICAgICAgY2FsbGJhY2tzXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFyRmx1c2hUaW1lb3V0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl90aW1lb3V0SGFuZGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SGFuZGxlKVxuICAgICAgdGhpcy5fdGltZW91dEhhbmRsZSA9IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuXG4gIHdyaXRlUmVjb3JkKHJlY29yZDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dyaXRlQXBpOiBhbHJlYWR5IGNsb3NlZCEnKVxuICAgIH1cbiAgICB0aGlzLndyaXRlQnVmZmVyLmFkZChyZWNvcmQpXG4gIH1cbiAgd3JpdGVSZWNvcmRzKHJlY29yZHM6IEFycmF5TGlrZTxzdHJpbmc+KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dyaXRlQXBpOiBhbHJlYWR5IGNsb3NlZCEnKVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMud3JpdGVCdWZmZXIuYWRkKHJlY29yZHNbaV0pXG4gICAgfVxuICB9XG4gIHdyaXRlUG9pbnQocG9pbnQ6IFBvaW50KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dyaXRlQXBpOiBhbHJlYWR5IGNsb3NlZCEnKVxuICAgIH1cbiAgICBjb25zdCBsaW5lID0gcG9pbnQudG9MaW5lUHJvdG9jb2wodGhpcylcbiAgICBpZiAobGluZSkgdGhpcy53cml0ZUJ1ZmZlci5hZGQobGluZSlcbiAgfVxuICB3cml0ZVBvaW50cyhwb2ludHM6IEFycmF5TGlrZTxQb2ludD4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignd3JpdGVBcGk6IGFscmVhZHkgY2xvc2VkIScpXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gcG9pbnRzW2ldLnRvTGluZVByb3RvY29sKHRoaXMpXG4gICAgICBpZiAobGluZSkgdGhpcy53cml0ZUJ1ZmZlci5hZGQobGluZSlcbiAgICB9XG4gIH1cbiAgYXN5bmMgZmx1c2god2l0aFJldHJ5QnVmZmVyPzogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMud3JpdGVCdWZmZXIuZmx1c2goKVxuICAgIGlmICh3aXRoUmV0cnlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJldHJ5QnVmZmVyLmZsdXNoKClcbiAgICB9XG4gIH1cbiAgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmV0VmFsID0gdGhpcy53cml0ZUJ1ZmZlci5mbHVzaCgpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5yZXRyeUJ1ZmZlci5jbG9zZSgpXG4gICAgICBpZiAocmVtYWluaW5nKSB7XG4gICAgICAgIExvZ2dlci5lcnJvcihcbiAgICAgICAgICBgUmV0cnkgYnVmZmVyIGNsb3NlZCB3aXRoICR7cmVtYWluaW5nfSBpdGVtcyB0aGF0IHdlcmUgbm90IHdyaXR0ZW4gdG8gSW5mbHV4REIhYCxcbiAgICAgICAgICBudWxsXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZVxuICAgIH0pXG4gICAgcmV0dXJuIHJldFZhbFxuICB9XG4gIGRpc3Bvc2UoKTogbnVtYmVyIHtcbiAgICB0aGlzLl9jbGVhckZsdXNoVGltZW91dCgpXG4gICAgdGhpcy5jbG9zZWQgPSB0cnVlXG4gICAgcmV0dXJuIHRoaXMucmV0cnlCdWZmZXIuY2xvc2UoKSArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoXG4gIH1cblxuICAvLyBQb2ludFNldHRpbmdzXG4gIGRlZmF1bHRUYWdzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSB8IHVuZGVmaW5lZFxuICB1c2VEZWZhdWx0VGFncyh0YWdzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSk6IFdyaXRlQXBpIHtcbiAgICB0aGlzLmRlZmF1bHRUYWdzID0gdW5kZWZpbmVkXG4gICAgT2JqZWN0LmtleXModGFncykuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIDsodGhpcy5kZWZhdWx0VGFncyB8fCAodGhpcy5kZWZhdWx0VGFncyA9IHt9KSlba2V5XSA9IGVzY2FwZS50YWcoXG4gICAgICAgIHRhZ3Nba2V5XVxuICAgICAgKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBjb252ZXJ0VGltZSh2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRUaW1lKClcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPiAwID8gdmFsdWUgOiB1bmRlZmluZWRcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0ZVRvUHJvdG9jb2xUaW1lc3RhbXAodmFsdWUpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKE1hdGguZmxvb3IodmFsdWUpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtUcmFuc3BvcnQsIFNlbmRPcHRpb25zfSBmcm9tICcuLi8uLi90cmFuc3BvcnQnXG5pbXBvcnQge0Nvbm5lY3Rpb25PcHRpb25zfSBmcm9tICcuLi8uLi9vcHRpb25zJ1xuaW1wb3J0IHtIdHRwRXJyb3J9IGZyb20gJy4uLy4uL2Vycm9ycydcbmltcG9ydCBjb21wbGV0ZUNvbW11bmljYXRpb25PYnNlcnZlciBmcm9tICcuLi9jb21wbGV0ZUNvbW11bmljYXRpb25PYnNlcnZlcidcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi91dGlsL2xvZ2dlcidcbmltcG9ydCB7XG4gIENodW5rQ29tYmluZXIsXG4gIENvbW11bmljYXRpb25PYnNlcnZlcixcbiAgY3JlYXRlVGV4dERlY29kZXJDb21iaW5lcixcbiAgSGVhZGVycyxcbiAgUmVzcG9uc2VTdGFydGVkRm4sXG59IGZyb20gJy4uLy4uL3Jlc3VsdHMnXG5cbmZ1bmN0aW9uIGdldFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZTogUmVzcG9uc2UpOiBIZWFkZXJzIHtcbiAgY29uc3QgaGVhZGVyczogSGVhZGVycyA9IHt9XG4gIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgodmFsdWU6IHN0cmluZywga2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBwcmV2aW91cyA9IGhlYWRlcnNba2V5XVxuICAgIGlmIChwcmV2aW91cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwcmV2aW91cykpIHtcbiAgICAgIHByZXZpb3VzLnB1c2godmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlcnNba2V5XSA9IFtwcmV2aW91cywgdmFsdWVdXG4gICAgfVxuICB9KVxuICByZXR1cm4gaGVhZGVyc1xufVxuXG4vKipcbiAqIFRyYW5zcG9ydCBsYXllciB0aGF0IHVzZSBicm93c2VyIGZldGNoLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGZXRjaFRyYW5zcG9ydCBpbXBsZW1lbnRzIFRyYW5zcG9ydCB7XG4gIGNodW5rQ29tYmluZXI6IENodW5rQ29tYmluZXIgPSBjcmVhdGVUZXh0RGVjb2RlckNvbWJpbmVyKClcbiAgcHJpdmF0ZSBkZWZhdWx0SGVhZGVyczoge1trZXk6IHN0cmluZ106IHN0cmluZ31cbiAgcHJpdmF0ZSB1cmw6IHN0cmluZ1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbm5lY3Rpb25PcHRpb25zOiBDb25uZWN0aW9uT3B0aW9ucykge1xuICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSB7XG4gICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgLy8gJ1VzZXItQWdlbnQnOiBgaW5mbHV4ZGItY2xpZW50LWpzLyR7Q0xJRU5UX0xJQl9WRVJTSU9OfWAsIC8vIHVzZXItYWdlbnQgY2FuIGhhcmRseSBiZSBjdXN0b21pemVkIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZsdXhkYXRhL2luZmx1eGRiLWNsaWVudC1qcy9pc3N1ZXMvMjYyXG4gICAgfVxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25PcHRpb25zLnRva2VuKSB7XG4gICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPVxuICAgICAgICAnVG9rZW4gJyArIHRoaXMuY29ubmVjdGlvbk9wdGlvbnMudG9rZW5cbiAgICB9XG4gICAgdGhpcy51cmwgPSBTdHJpbmcodGhpcy5jb25uZWN0aW9uT3B0aW9ucy51cmwpXG4gICAgaWYgKHRoaXMudXJsLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwuc3Vic3RyaW5nKDAsIHRoaXMudXJsLmxlbmd0aCAtIDEpXG4gICAgfVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZsdXhkYXRhL2luZmx1eGRiLWNsaWVudC1qcy9pc3N1ZXMvMjYzXG4gICAgLy8gZG9uJ3QgYWxsb3cgL2FwaS92MiBzdWZmaXggdG8gYXZvaWQgZnV0dXJlIHByb2JsZW1zXG4gICAgaWYgKHRoaXMudXJsLmVuZHNXaXRoKCcvYXBpL3YyJykpIHtcbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwuc3Vic3RyaW5nKDAsIHRoaXMudXJsLmxlbmd0aCAtICcvYXBpL3YyJy5sZW5ndGgpXG4gICAgICBMb2dnZXIud2FybihcbiAgICAgICAgYFBsZWFzZSByZW1vdmUgJy9hcGkvdjInIGNvbnRleHQgcGF0aCBmcm9tIEluZmx1eERCIGJhc2UgdXJsLCB1c2luZyAke3RoaXMudXJsfSAhYFxuICAgICAgKVxuICAgIH1cbiAgfVxuICBzZW5kKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBib2R5OiBzdHJpbmcsXG4gICAgb3B0aW9uczogU2VuZE9wdGlvbnMsXG4gICAgY2FsbGJhY2tzPzogUGFydGlhbDxDb21tdW5pY2F0aW9uT2JzZXJ2ZXI8VWludDhBcnJheT4+IHwgdW5kZWZpbmVkXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG9ic2VydmVyID0gY29tcGxldGVDb21tdW5pY2F0aW9uT2JzZXJ2ZXIoY2FsbGJhY2tzKVxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZVxuICAgIGxldCBzaWduYWwgPSAob3B0aW9ucyBhcyBhbnkpLnNpZ25hbFxuICAgIGlmIChjYWxsYmFja3MgJiYgY2FsbGJhY2tzLnVzZUNhbmNlbGxhYmxlKSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG4gICAgICBpZiAoIXNpZ25hbCkge1xuICAgICAgICBzaWduYWwgPSBjb250cm9sbGVyLnNpZ25hbFxuICAgICAgICBvcHRpb25zID0gey4uLihvcHRpb25zIGFzIG9iamVjdCksIC4uLnNpZ25hbH0gYXMgU2VuZE9wdGlvbnNcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrcy51c2VDYW5jZWxsYWJsZSh7XG4gICAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgICBjYW5jZWxsZWQgPSB0cnVlXG4gICAgICAgICAgY29udHJvbGxlci5hYm9ydCgpXG4gICAgICAgIH0sXG4gICAgICAgIGlzQ2FuY2VsbGVkKCkge1xuICAgICAgICAgIHJldHVybiBjYW5jZWxsZWQgfHwgc2lnbmFsLmFib3J0ZWRcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMuZmV0Y2gocGF0aCwgYm9keSwgb3B0aW9ucylcbiAgICAgIC50aGVuKGFzeW5jIHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKGNhbGxiYWNrcz8ucmVzcG9uc2VTdGFydGVkKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIucmVzcG9uc2VTdGFydGVkKFxuICAgICAgICAgICAgZ2V0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKSxcbiAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDMwMCkge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgLnRoZW4oKHRleHQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJFcnJvciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWluZmx1eGRiLWVycm9yJylcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIHRleHQgPSBoZWFkZXJFcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihcbiAgICAgICAgICAgICAgICBuZXcgSHR0cEVycm9yKFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmdldCgncmV0cnktYWZ0ZXInKSxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZTogRXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgTG9nZ2VyLndhcm4oJ1VuYWJsZSB0byByZWNlaXZlIGVycm9yIGJvZHknLCBlKVxuICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihcbiAgICAgICAgICAgICAgICBuZXcgSHR0cEVycm9yKFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdyZXRyeS1hZnRlcicpLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpXG4gICAgICAgICAgICBsZXQgY2h1bms6IFJlYWRhYmxlU3RyZWFtUmVhZFJlc3VsdDxVaW50OEFycmF5PlxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBjaHVuayA9IGF3YWl0IHJlYWRlci5yZWFkKClcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChjaHVuay52YWx1ZSlcbiAgICAgICAgICAgIH0gd2hpbGUgKCFjaHVuay5kb25lKVxuICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKClcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKVxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGV4dCkpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICBpZiAoIWNhbmNlbGxlZCkge1xuICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiBvYnNlcnZlci5jb21wbGV0ZSgpKVxuICB9XG4gIGFzeW5jIHJlcXVlc3QoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGJvZHk6IGFueSxcbiAgICBvcHRpb25zOiBTZW5kT3B0aW9ucyxcbiAgICByZXNwb25zZVN0YXJ0ZWQ/OiBSZXNwb25zZVN0YXJ0ZWRGblxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaChwYXRoLCBib2R5LCBvcHRpb25zKVxuICAgIGNvbnN0IHtzdGF0dXMsIGhlYWRlcnN9ID0gcmVzcG9uc2VcbiAgICBjb25zdCByZXNwb25zZUNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpIHx8ICcnXG4gICAgaWYgKHJlc3BvbnNlU3RhcnRlZCkge1xuICAgICAgcmVzcG9uc2VTdGFydGVkKGdldFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSksIHJlc3BvbnNlLnN0YXR1cylcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID49IDMwMCkge1xuICAgICAgbGV0IGRhdGEgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICBjb25zdCBoZWFkZXJFcnJvciA9IGhlYWRlcnMuZ2V0KCd4LWluZmx1eGRiLWVycm9yJylcbiAgICAgICAgaWYgKGhlYWRlckVycm9yKSB7XG4gICAgICAgICAgZGF0YSA9IGhlYWRlckVycm9yXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3JldHJ5LWFmdGVyJyksXG4gICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKVxuICAgICAgKVxuICAgIH1cbiAgICBjb25zdCByZXNwb25zZVR5cGUgPSBvcHRpb25zLmhlYWRlcnM/LmFjY2VwdCA/PyByZXNwb25zZUNvbnRlbnRUeXBlXG4gICAgaWYgKHJlc3BvbnNlVHlwZS5pbmNsdWRlcygnanNvbicpKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHJlc3BvbnNlVHlwZS5pbmNsdWRlcygndGV4dCcpIHx8XG4gICAgICByZXNwb25zZVR5cGUuc3RhcnRzV2l0aCgnYXBwbGljYXRpb24vY3N2JylcbiAgICApIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZldGNoKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBib2R5OiBhbnksXG4gICAgb3B0aW9uczogU2VuZE9wdGlvbnNcbiAgKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHttZXRob2QsIGhlYWRlcnMsIC4uLm90aGVyfSA9IG9wdGlvbnNcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLnVybH0ke3BhdGh9YFxuICAgIGNvbnN0IHJlcXVlc3Q6IFJlcXVlc3RJbml0ID0ge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBib2R5OlxuICAgICAgICBtZXRob2QgPT09ICdHRVQnIHx8IG1ldGhvZCA9PT0gJ0hFQUQnXG4gICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICA6IHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gYm9keVxuICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLnRoaXMuZGVmYXVsdEhlYWRlcnMsXG4gICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICB9LFxuICAgICAgY3JlZGVudGlhbHM6ICdvbWl0JyBhcyAnb21pdCcsXG4gICAgICAvLyBhbGxvdyB0byBzcGVjaWZ5IGN1c3RvbSBvcHRpb25zLCBzdWNoIGFzIHNpZ25hbCwgaW4gU2VuZE9wdGlvbnNcbiAgICAgIC4uLm90aGVyLFxuICAgIH1cbiAgICB0aGlzLnJlcXVlc3REZWNvcmF0b3IocmVxdWVzdCwgb3B0aW9ucywgdXJsKVxuICAgIHJldHVybiBmZXRjaCh1cmwsIHJlcXVlc3QpXG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdERlY29yYXRvciBhbGxvd3MgdG8gbW9kaWZ5IHJlcXVlc3RzIGJlZm9yZSBzZW5kaW5nLlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBmdW5jdGlvbiB0aGF0IGFkZHMgZ3ppcFxuICAgKiBjb21wcmVzc2lvbiBvZiByZXF1ZXN0cyB1c2luZyBwYWtvLmpzLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjbGllbnQgPSBuZXcgSW5mbHV4REIoe3VybDogJ2h0dHA6Ly9hJ30pXG4gICAqIGNsaWVudC50cmFuc3BvcnQucmVxdWVzdERlY29yYXRvciA9IGZ1bmN0aW9uKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICogICBjb25zdCBib2R5ID0gcmVxdWVzdC5ib2R5XG4gICAqICAgaWYgKFxuICAgKiAgICAgdHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnICYmXG4gICAqICAgICBvcHRpb25zLmd6aXBUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCAmJlxuICAgKiAgICAgYm9keS5sZW5ndGggPiBvcHRpb25zLmd6aXBUaHJlc2hvbGRcbiAgICogICApIHtcbiAgICogICAgIHJlcXVlc3QuaGVhZGVyc1snY29udGVudC1lbmNvZGluZyddID0gJ2d6aXAnXG4gICAqICAgICByZXF1ZXN0LmJvZHkgPSBwYWtvLmd6aXAoYm9keSlcbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBwdWJsaWMgcmVxdWVzdERlY29yYXRvcjogKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3RJbml0LFxuICAgIG9wdGlvbnM6IFNlbmRPcHRpb25zLFxuICAgIHVybDogc3RyaW5nXG4gICkgPT4gdm9pZCA9IGZ1bmN0aW9uKCkge31cbn1cbiIsImltcG9ydCB7Q29tbXVuaWNhdGlvbk9ic2VydmVyLCBIZWFkZXJzfSBmcm9tICcuLi9yZXN1bHRzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wbGV0ZUNvbW11bmljYXRpb25PYnNlcnZlcihcbiAgY2FsbGJhY2tzOiBQYXJ0aWFsPENvbW11bmljYXRpb25PYnNlcnZlcjxhbnk+PiA9IHt9XG4pOiBPbWl0PFJlcXVpcmVkPENvbW11bmljYXRpb25PYnNlcnZlcjxhbnk+PiwgJ3VzZUNhbmNlbGxhYmxlJz4ge1xuICBsZXQgc3RhdGUgPSAwXG4gIGNvbnN0IHJldFZhbCA9IHtcbiAgICBuZXh0OiAoZGF0YTogYW55KTogdm9pZCA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHN0YXRlID09PSAwICYmXG4gICAgICAgIGNhbGxiYWNrcy5uZXh0ICYmXG4gICAgICAgIGRhdGEgIT09IG51bGwgJiZcbiAgICAgICAgZGF0YSAhPT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgY2FsbGJhY2tzLm5leHQoZGF0YSlcbiAgICAgIH1cbiAgICB9LFxuICAgIGVycm9yOiAoZXJyb3I6IEVycm9yKTogdm9pZCA9PiB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSBwcm9wYWdhdGUgZXJyb3IgYXQgbW9zdCBvbmNlICovXG4gICAgICBpZiAoc3RhdGUgPT09IDApIHtcbiAgICAgICAgc3RhdGUgPSAxXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIHNhZmV0eSBjaGVjayAqL1xuICAgICAgICBpZiAoY2FsbGJhY2tzLmVycm9yKSBjYWxsYmFja3MuZXJyb3IoZXJyb3IpXG4gICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogKCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKHN0YXRlID09PSAwKSB7XG4gICAgICAgIHN0YXRlID0gMlxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSBzYWZldHkgY2hlY2sgKi9cbiAgICAgICAgaWYgKGNhbGxiYWNrcy5jb21wbGV0ZSkgY2FsbGJhY2tzLmNvbXBsZXRlKClcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc3BvbnNlU3RhcnRlZDogKGhlYWRlcnM6IEhlYWRlcnMsIHN0YXR1c0NvZGU/OiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICAgIGlmIChjYWxsYmFja3MucmVzcG9uc2VTdGFydGVkKVxuICAgICAgICBjYWxsYmFja3MucmVzcG9uc2VTdGFydGVkKGhlYWRlcnMsIHN0YXR1c0NvZGUpXG4gICAgfSxcbiAgfVxuICByZXR1cm4gcmV0VmFsXG59XG4iLCJpbXBvcnQge09ic2VydmFibGV9IGZyb20gJy4vb2JzZXJ2YWJsZSdcbmltcG9ydCB7UGFyYW1ldGVyaXplZFF1ZXJ5fSBmcm9tICcuL3F1ZXJ5J1xuaW1wb3J0IHtcbiAgQ29tbXVuaWNhdGlvbk9ic2VydmVyLFxuICBGbHV4UmVzdWx0T2JzZXJ2ZXIsXG4gIEZsdXhUYWJsZU1ldGFEYXRhLFxufSBmcm9tICcuL3Jlc3VsdHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0Um93TWFwcGluZyhcbiAgdmFsdWVzOiBzdHJpbmdbXSxcbiAgdGFibGVNZXRhOiBGbHV4VGFibGVNZXRhRGF0YVxuKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gIHJldHVybiB0YWJsZU1ldGEudG9PYmplY3QodmFsdWVzKVxufVxuXG4vKiogUXVlcnlPcHRpb25zIGNvbnRhaW5zIFF1ZXJ5QXBpIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlPcHRpb25zIHtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgbmFtZSBvZiB0aGUgb3JnYW5pemF0aW9uIGV4ZWN1dGluZyB0aGUgcXVlcnkuIFRha2VzIGVpdGhlciB0aGUgSUQgb3IgTmFtZSBpbnRlcmNoYW5nZWFibHkuXG4gICAqL1xuICBvcmc6IHN0cmluZ1xuICAvKipcbiAgICogVHlwZSBvZiB0aGUgcXVlcnksIGRlZmF1bHQgaXMgXCJmbHV4XCJcbiAgICovXG4gIHR5cGU/OiAnZmx1eCdcbiAgLyoqXG4gICAqIFJlcXVlc3RzIGd6aXAgZW5jb2RlZCByZXNwb25zZS5cbiAgICovXG4gIGd6aXA/OiBib29sZWFuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIHRpbWUgdGhhdCBzaG91bGQgYmUgcmVwb3J0ZWQgYXMgXCJub3dcIiBpbiB0aGUgcXVlcnkuIFJGQzMzMzkgdmFsdWUgbXVzdCBiZSByZXR1cm5lZCxcbiAgICogZm9yIGV4YW1wbGUgYG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKWAuXG4gICAqL1xuICBub3c/OiAoKSA9PiBzdHJpbmdcbiAgLyoqXG4gICAqIEhUVFAgaGVhZGVycyB0aGF0IHdpbGwgYmUgc2VudCB3aXRoIGV2ZXJ5IHF1ZXJ5IHJlcXVlc3QuXG4gICAqL1xuICBoZWFkZXJzPzoge1trZXk6IHN0cmluZ106IHN0cmluZ31cbn1cblxuLyoqIFdyYXBzIHZhbHVlcyBhbmQgYXNzb2NpYXRlZCBtZXRhZGF0YSBvZiBhIHF1ZXJ5IHJlc3VsdCByb3cgKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm93IHtcbiAgdmFsdWVzOiBzdHJpbmdbXVxuICB0YWJsZU1ldGE6IEZsdXhUYWJsZU1ldGFEYXRhXG59XG5cbi8qKlxuICogUXVlcnkgSW5mbHV4REIgMi4wLiBQcm92aWRlcyBtZXRob2RzIHRoYXQgbm90aWZ5IGFib3V0cyByZXN1bHQgbGluZXMgb2YgdGhlIGV4ZWN1dGVkIHF1ZXJ5LlxuICogU2VlIHtAbGluayBodHRwczovL3YyLmRvY3MuaW5mbHV4ZGF0YS5jb20vdjIuMC9hcGkvI29wZXJhdGlvbi9Qb3N0UXVlcnkgfVxuICovXG5leHBvcnQgZGVmYXVsdCBpbnRlcmZhY2UgUXVlcnlBcGkge1xuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBxdWVyeSBBUEkgd2l0aCBleHRyYSBvcHRpb25zIGFwcGxpZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gcXVlcnkgb3B0aW9ucyB0byB1c2VcbiAgICogQHJldHVybnMgcXVlcnlBcGkgaW5zdGFuY2Ugd2l0aCB0aGUgc3VwcGxpZWQgb3B0aW9uc1xuICAgKi9cbiAgd2l0aChvcHRpb25zOiBQYXJ0aWFsPFF1ZXJ5T3B0aW9ucz4pOiBRdWVyeUFwaVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29sZCBvYnNlcnZhYmxlIG9mIHRoZSBsaW5lcyByZXR1cm5lZCBieSB0aGUgZ2l2ZW4gcXVlcnkuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5XG4gICAqIEByZXR1cm5zIG9ic2VydmFibGUgb2YgQ1NWIHJlc3VsdCBsaW5lc1xuICAgKi9cbiAgbGluZXMocXVlcnk6IHN0cmluZyB8IFBhcmFtZXRlcml6ZWRRdWVyeSk6IE9ic2VydmFibGU8c3RyaW5nPlxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29sZCBvYnNlcnZhYmxlIG9mIHRoZSByb3dzIHJldHVybmVkIGJ5IHRoZSBnaXZlbiBxdWVyeS5cbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gcXVlcnlcbiAgICogQHJldHVybnMgb2JzZXJ2YWJsZSBvZiByZXN1bHQgcm93c1xuICAgKi9cbiAgcm93cyhxdWVyeTogc3RyaW5nIHwgUGFyYW1ldGVyaXplZFF1ZXJ5KTogT2JzZXJ2YWJsZTxSb3c+XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBxdWVyeSBhbmQgcmVjZWl2ZXMgcmVzdWx0IGxpbmVzIChpbmNsdWRpbmcgZW1wdHkgYW5kIGFubm90YXRpb24gbGluZXMpXG4gICAqIHRocm91Z2ggdGhlIHN1cHBsaWVkIGNvbnN1bWVyLiBTZWUgW2Fubm90YXRlZC1jc3ZdKGh0dHBzOi8vdjIuZG9jcy5pbmZsdXhkYXRhLmNvbS92Mi4wL3JlZmVyZW5jZS9zeW50YXgvYW5ub3RhdGVkLWNzdi8pLlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBxdWVyeVxuICAgKiBAcGFyYW0gY29uc3VtZXIgLSBjc3YgcmVzdWx0IGxpbmVzIGFuZCBlcnJvciBjb25zdW1lclxuICAgKi9cbiAgcXVlcnlMaW5lcyhcbiAgICBxdWVyeTogc3RyaW5nIHwgUGFyYW1ldGVyaXplZFF1ZXJ5LFxuICAgIGNvbnN1bWVyOiBDb21tdW5pY2F0aW9uT2JzZXJ2ZXI8c3RyaW5nPlxuICApOiB2b2lkXG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBxdWVyeSBhbmQgcmVjZWl2ZXMgdGFibGUgbWV0YWRhdGEgYW5kIHJvd3MgdGhyb3VnaCB0aGUgc3VwcGxpZWQgY29uc3VtZXIuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5XG4gICAqIEBwYXJhbSBjb25zdW1lciAtIHJlc3VsdCByb3dzIGFuZCBlcnJvciBjb25zdW1lclxuICAgKi9cbiAgcXVlcnlSb3dzKFxuICAgIHF1ZXJ5OiBzdHJpbmcgfCBQYXJhbWV0ZXJpemVkUXVlcnksXG4gICAgY29uc3VtZXI6IEZsdXhSZXN1bHRPYnNlcnZlcjxzdHJpbmdbXT5cbiAgKTogdm9pZFxuXG4gIC8qKlxuICAgKiBRdWVyeVJhdyBleGVjdXRlcyBhIHF1ZXJ5IGFuZCByZXR1cm5zIHRoZSBmdWxsIHJlc3BvbnNlIGFzIGEgc3RyaW5nLlxuICAgKiBVc2Ugd2l0aCBjYXV0aW9uLCBhIHBvc3NpYmx5IGh1Z2Ugc3RyZWFtIGlzIGNvcGllZCB0byBtZW1vcnkuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5XG4gICAqIEByZXR1cm5zIFByb21pc2Ugb2YgcmVzcG9uc2UgdGV4dFxuICAgKi9cbiAgcXVlcnlSYXcocXVlcnk6IHN0cmluZyB8IFBhcmFtZXRlcml6ZWRRdWVyeSk6IFByb21pc2U8c3RyaW5nPlxuXG4gIC8qKlxuICAgKiBDb2xsZWN0Um93cyBleGVjdXRlcyB0aGUgcXVlcnkgYW5kIGNvbGxlY3RzIGFsbCB0aGUgcmVzdWx0cyBpbiB0aGUgcmV0dXJuZWQgUHJvbWlzZS5cbiAgICogVGhpcyBtZXRob2QgaXMgc3VpdGFibGUgdG8gY29sbGVjdCBzaW1wbGUgcmVzdWx0cy4gVXNlIHdpdGggY2F1dGlvbixcbiAgICogYSBwb3NzaWJseSBodWdlIHN0cmVhbSBvZiByZXN1bHRzIGlzIGNvcGllZCB0byBtZW1vcnkuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5XG4gICAqIEBwYXJhbSByb3dNYXBwZXIgLSBtYXBzIHRoZSBzdXBwbGllZCByb3cgdG8gYW4gaXRlbSB0aGF0IGlzIHRoZW4gY29sbGVjdGVkLFxuICAgKiAgdW5kZWZpbmVkIHJldHVybiB2YWx1ZXMgYXJlIG5vdCBjb2xsZWN0ZWQuIElmIG5vIHJvd01hcHBlciBpcyBzdXBwbGllZCxcbiAgICogIGByb3cgPT4gcm93LnRhYmxlTWV0YS50b09iamVjdChyb3cudmFsdWVzKWAgaXMgdXNlZC5cbiAgICogQHJldHVybnMgUHJvbWlzZSBvZiBtYXBwZWQgcmVzdWx0c1xuICAgKi9cbiAgY29sbGVjdFJvd3M8VD4oXG4gICAgcXVlcnk6IHN0cmluZyB8IFBhcmFtZXRlcml6ZWRRdWVyeSxcbiAgICByb3dNYXBwZXI/OiAoXG4gICAgICB2YWx1ZXM6IHN0cmluZ1tdLFxuICAgICAgdGFibGVNZXRhOiBGbHV4VGFibGVNZXRhRGF0YVxuICAgICkgPT4gVCB8IHVuZGVmaW5lZFxuICApOiBQcm9taXNlPEFycmF5PFQ+PlxuXG4gIC8qKlxuICAgKiBDb2xsZWN0TGluZXMgZXhlY3V0ZXMgdGhlIHF1ZXJ5IGFuZCBjb2xsZWN0cyBhbGwgcmVzdWx0IGxpbmVzIGluIHRoZSByZXR1cm5lZCBQcm9taXNlLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBzdWl0YWJsZSB0byBjb2xsZWN0IHNpbXBsZSByZXN1bHRzLiBVc2Ugd2l0aCBjYXV0aW9uLFxuICAgKiBhIHBvc3NpYmx5IGh1Z2Ugc3RyZWFtIG9mIGxpbmVzIGlzIGNvcGllZCB0byBtZW1vcnkuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5XG4gICAqIEByZXR1cm5zIFByb21pc2Ugb2YgcmV0dXJuZWQgY3N2IGxpbmVzXG4gICAqL1xuICBjb2xsZWN0TGluZXMocXVlcnk6IHN0cmluZyB8IFBhcmFtZXRlcml6ZWRRdWVyeSk6IFByb21pc2U8QXJyYXk8c3RyaW5nPj5cbn1cbiIsImltcG9ydCB7XG4gIE9ic2VydmFibGUsXG4gIE9ic2VydmVyLFxuICBPYnNlcnZlckNvbXBsZXRlLFxuICBPYnNlcnZlckVycm9yLFxuICBPYnNlcnZlck5leHQsXG4gIFN1YnNjcmlwdGlvbixcbiAgc3ltYm9sT2JzZXJ2YWJsZSxcbn0gZnJvbSAnLi4vb2JzZXJ2YWJsZSdcbmltcG9ydCB7Q2FuY2VsbGFibGUsIENvbW11bmljYXRpb25PYnNlcnZlcn0gZnJvbSAnLi4vcmVzdWx0cydcblxuZXhwb3J0IHR5cGUgUXVlcnlFeGVjdXRvciA9IChjb25zdW1lcjogQ29tbXVuaWNhdGlvbk9ic2VydmVyPHN0cmluZz4pID0+IHZvaWRcblxudHlwZSBEZWNvcmF0b3I8VD4gPSAob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiBPYnNlcnZlcjxzdHJpbmc+XG5cbmNsYXNzIFF1ZXJ5U3Vic2NyaXB0aW9uIGltcGxlbWVudHMgU3Vic2NyaXB0aW9uIHtcbiAgcHJpdmF0ZSBjYW5jZWxsYWJsZT86IENhbmNlbGxhYmxlXG4gIHByaXZhdGUgaXNDbG9zZWQgPSBmYWxzZVxuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihvYnNlcnZlcjogT2JzZXJ2ZXI8c3RyaW5nPiwgZXhlY3V0b3I6IFF1ZXJ5RXhlY3V0b3IpIHtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3Ioe1xuICAgICAgICBuZXh0OiB2YWx1ZSA9PiB7XG4gICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSlcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGUgPT4ge1xuICAgICAgICAgIHRoaXMuaXNDbG9zZWQgPSB0cnVlXG4gICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSlcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmlzQ2xvc2VkID0gdHJ1ZVxuICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgdXNlQ2FuY2VsbGFibGU6IGMgPT4ge1xuICAgICAgICAgIHRoaXMuY2FuY2VsbGFibGUgPSBjXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuaXNDbG9zZWQgPSB0cnVlXG4gICAgICBvYnNlcnZlci5lcnJvcihlKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXQgY2xvc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzQ2xvc2VkXG4gIH1cblxuICBwdWJsaWMgdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgdGhpcy5jYW5jZWxsYWJsZT8uY2FuY2VsKClcbiAgICB0aGlzLmlzQ2xvc2VkID0gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AoKTogdm9pZCB7fVxuXG5mdW5jdGlvbiBjb21wbGV0ZU9ic2VydmVyPFQ+KG9ic2VydmVyOiBQYXJ0aWFsPE9ic2VydmVyPFQ+Pik6IE9ic2VydmVyPFQ+IHtcbiAgY29uc3Qge25leHQsIGVycm9yLCBjb21wbGV0ZX0gPSBvYnNlcnZlclxuXG4gIHJldHVybiB7XG4gICAgbmV4dDogbmV4dCA/IG5leHQuYmluZChvYnNlcnZlcikgOiBub29wLFxuICAgIGVycm9yOiBlcnJvciA/IGVycm9yLmJpbmQob2JzZXJ2ZXIpIDogbm9vcCxcbiAgICBjb21wbGV0ZTogY29tcGxldGUgPyBjb21wbGV0ZS5iaW5kKG9ic2VydmVyKSA6IG5vb3AsXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzZXJ2YWJsZVF1ZXJ5PFQ+IGltcGxlbWVudHMgT2JzZXJ2YWJsZTxUPiB7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGV4ZWN1dG9yOiBRdWVyeUV4ZWN1dG9yLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZGVjb3JhdG9yOiBEZWNvcmF0b3I8VD5cbiAgKSB7fVxuXG4gIHB1YmxpYyBzdWJzY3JpYmUoXG4gICAgb2JzZXJ2ZXJPck5leHQ/OiBQYXJ0aWFsPE9ic2VydmVyPFQ+PiB8IE9ic2VydmVyTmV4dDxUPixcbiAgICBlcnJvcj86IE9ic2VydmVyRXJyb3IsXG4gICAgY29tcGxldGU/OiBPYnNlcnZlckNvbXBsZXRlXG4gICk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBjb21wbGV0ZU9ic2VydmVyKFxuICAgICAgdHlwZW9mIG9ic2VydmVyT3JOZXh0ICE9PSAnb2JqZWN0JyB8fCBvYnNlcnZlck9yTmV4dCA9PT0gbnVsbFxuICAgICAgICA/IHtuZXh0OiBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlfVxuICAgICAgICA6IG9ic2VydmVyT3JOZXh0XG4gICAgKVxuXG4gICAgcmV0dXJuIG5ldyBRdWVyeVN1YnNjcmlwdGlvbih0aGlzLmRlY29yYXRvcihvYnNlcnZlciksIHRoaXMuZXhlY3V0b3IpXG4gIH1cblxuICBwdWJsaWMgW3N5bWJvbE9ic2VydmFibGVdKCk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cbiIsImltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAnLi4vb2JzZXJ2YWJsZSdcbmltcG9ydCBRdWVyeUFwaSwge1F1ZXJ5T3B0aW9ucywgUm93LCBkZWZhdWx0Um93TWFwcGluZ30gZnJvbSAnLi4vUXVlcnlBcGknXG5pbXBvcnQge1RyYW5zcG9ydH0gZnJvbSAnLi4vdHJhbnNwb3J0J1xuaW1wb3J0IHtjaHVua3NUb0xpbmVzfSBmcm9tICcuLi9yZXN1bHRzJ1xuaW1wb3J0IHtcbiAgQ29tbXVuaWNhdGlvbk9ic2VydmVyLFxuICBGbHV4UmVzdWx0T2JzZXJ2ZXIsXG4gIEZsdXhUYWJsZU1ldGFEYXRhLFxuICBsaW5lc1RvVGFibGVzLFxufSBmcm9tICcuLi9yZXN1bHRzJ1xuaW1wb3J0IE9ic2VydmFibGVRdWVyeSwge1F1ZXJ5RXhlY3V0b3J9IGZyb20gJy4vT2JzZXJ2YWJsZVF1ZXJ5J1xuaW1wb3J0IHtQYXJhbWV0ZXJpemVkUXVlcnl9IGZyb20gJy4uL3F1ZXJ5L2ZsdXgnXG5cbmNvbnN0IERFRkFVTFRfZGlhbGVjdDogYW55ID0ge1xuICBoZWFkZXI6IHRydWUsXG4gIGRlbGltaXRlcjogJywnLFxuICBxdW90ZUNoYXI6ICdcIicsXG4gIGNvbW1lbnRQcmVmaXg6ICcjJyxcbiAgYW5ub3RhdGlvbnM6IFsnZGF0YXR5cGUnLCAnZ3JvdXAnLCAnZGVmYXVsdCddLFxufVxuY29uc3QgaWRlbnRpdHkgPSA8VD4odmFsdWU6IFQpOiBUID0+IHZhbHVlXG5cbmV4cG9ydCBjbGFzcyBRdWVyeUFwaUltcGwgaW1wbGVtZW50cyBRdWVyeUFwaSB7XG4gIHByaXZhdGUgb3B0aW9uczogUXVlcnlPcHRpb25zXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNwb3J0OiBUcmFuc3BvcnQsIG9yZzogc3RyaW5nIHwgUXVlcnlPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gdHlwZW9mIG9yZyA9PT0gJ3N0cmluZycgPyB7b3JnfSA6IG9yZ1xuICB9XG5cbiAgd2l0aChvcHRpb25zOiBQYXJ0aWFsPFF1ZXJ5T3B0aW9ucz4pOiBRdWVyeUFwaSB7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUFwaUltcGwodGhpcy50cmFuc3BvcnQsIHsuLi50aGlzLm9wdGlvbnMsIC4uLm9wdGlvbnN9KVxuICB9XG5cbiAgbGluZXMocXVlcnk6IHN0cmluZyB8IFBhcmFtZXRlcml6ZWRRdWVyeSk6IE9ic2VydmFibGU8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUXVlcnkodGhpcy5jcmVhdGVFeGVjdXRvcihxdWVyeSksIGlkZW50aXR5KVxuICB9XG5cbiAgcm93cyhxdWVyeTogc3RyaW5nIHwgUGFyYW1ldGVyaXplZFF1ZXJ5KTogT2JzZXJ2YWJsZTxSb3c+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVRdWVyeSh0aGlzLmNyZWF0ZUV4ZWN1dG9yKHF1ZXJ5KSwgb2JzZXJ2ZXIgPT4ge1xuICAgICAgcmV0dXJuIGxpbmVzVG9UYWJsZXMoe1xuICAgICAgICBuZXh0KHZhbHVlcywgdGFibGVNZXRhKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7dmFsdWVzLCB0YWJsZU1ldGF9KVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcihlKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSlcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKVxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcXVlcnlMaW5lcyhcbiAgICBxdWVyeTogc3RyaW5nIHwgUGFyYW1ldGVyaXplZFF1ZXJ5LFxuICAgIGNvbnN1bWVyOiBDb21tdW5pY2F0aW9uT2JzZXJ2ZXI8c3RyaW5nPlxuICApOiB2b2lkIHtcbiAgICB0aGlzLmNyZWF0ZUV4ZWN1dG9yKHF1ZXJ5KShjb25zdW1lcilcbiAgfVxuXG4gIHF1ZXJ5Um93cyhcbiAgICBxdWVyeTogc3RyaW5nIHwgUGFyYW1ldGVyaXplZFF1ZXJ5LFxuICAgIGNvbnN1bWVyOiBGbHV4UmVzdWx0T2JzZXJ2ZXI8c3RyaW5nW10+XG4gICk6IHZvaWQge1xuICAgIHRoaXMuY3JlYXRlRXhlY3V0b3IocXVlcnkpKGxpbmVzVG9UYWJsZXMoY29uc3VtZXIpKVxuICB9XG5cbiAgY29sbGVjdFJvd3M8VD4oXG4gICAgcXVlcnk6IHN0cmluZyB8IFBhcmFtZXRlcml6ZWRRdWVyeSxcbiAgICByb3dNYXBwZXI6IChcbiAgICAgIHZhbHVlczogc3RyaW5nW10sXG4gICAgICB0YWJsZU1ldGE6IEZsdXhUYWJsZU1ldGFEYXRhXG4gICAgKSA9PiBUIHwgdW5kZWZpbmVkID0gZGVmYXVsdFJvd01hcHBpbmcgYXMgKFxuICAgICAgdmFsdWVzOiBzdHJpbmdbXSxcbiAgICAgIHRhYmxlTWV0YTogRmx1eFRhYmxlTWV0YURhdGFcbiAgICApID0+IFQgfCB1bmRlZmluZWRcbiAgKTogUHJvbWlzZTxBcnJheTxUPj4ge1xuICAgIGNvbnN0IHJldFZhbDogQXJyYXk8VD4gPSBbXVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnF1ZXJ5Um93cyhxdWVyeSwge1xuICAgICAgICBuZXh0KHZhbHVlczogc3RyaW5nW10sIHRhYmxlTWV0YTogRmx1eFRhYmxlTWV0YURhdGEpOiB2b2lkIHtcbiAgICAgICAgICBjb25zdCB0b0FkZCA9IHJvd01hcHBlci5jYWxsKHRoaXMsIHZhbHVlcywgdGFibGVNZXRhKVxuICAgICAgICAgIGlmICh0b0FkZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXRWYWwucHVzaCh0b0FkZClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yKGVycm9yOiBFcnJvcik6IHZvaWQge1xuICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgICAgICAgcmVzb2x2ZShyZXRWYWwpXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjb2xsZWN0TGluZXMocXVlcnk6IHN0cmluZyB8IFBhcmFtZXRlcml6ZWRRdWVyeSk6IFByb21pc2U8QXJyYXk8c3RyaW5nPj4ge1xuICAgIGNvbnN0IHJldFZhbDogQXJyYXk8c3RyaW5nPiA9IFtdXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucXVlcnlMaW5lcyhxdWVyeSwge1xuICAgICAgICBuZXh0KGxpbmU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgIHJldFZhbC5wdXNoKGxpbmUpXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yKGVycm9yOiBFcnJvcik6IHZvaWQge1xuICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgICAgICAgcmVzb2x2ZShyZXRWYWwpXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBxdWVyeVJhdyhxdWVyeTogc3RyaW5nIHwgUGFyYW1ldGVyaXplZFF1ZXJ5KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCB7b3JnLCB0eXBlLCBnemlwLCBoZWFkZXJzfSA9IHRoaXMub3B0aW9uc1xuICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KFxuICAgICAgYC9hcGkvdjIvcXVlcnk/b3JnPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG9yZyl9YCxcbiAgICAgIEpTT04uc3RyaW5naWZ5KFxuICAgICAgICB0aGlzLmRlY29yYXRlUmVxdWVzdCh7XG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5LnRvU3RyaW5nKCksXG4gICAgICAgICAgZGlhbGVjdDogREVGQVVMVF9kaWFsZWN0LFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGFjY2VwdDogJ3RleHQvY3N2JyxcbiAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogZ3ppcCA/ICdnemlwJyA6ICdpZGVudGl0eScsXG4gICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBlbmNvZGluZz11dGYtOCcsXG4gICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUV4ZWN1dG9yKHF1ZXJ5OiBzdHJpbmcgfCBQYXJhbWV0ZXJpemVkUXVlcnkpOiBRdWVyeUV4ZWN1dG9yIHtcbiAgICBjb25zdCB7b3JnLCB0eXBlLCBnemlwLCBoZWFkZXJzfSA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuIChjb25zdW1lcik6IHZvaWQgPT4ge1xuICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZChcbiAgICAgICAgYC9hcGkvdjIvcXVlcnk/b3JnPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG9yZyl9YCxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgdGhpcy5kZWNvcmF0ZVJlcXVlc3Qoe1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LnRvU3RyaW5nKCksXG4gICAgICAgICAgICBkaWFsZWN0OiBERUZBVUxUX2RpYWxlY3QsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGVuY29kaW5nPXV0Zi04JyxcbiAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiBnemlwID8gJ2d6aXAnIDogJ2lkZW50aXR5JyxcbiAgICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY2h1bmtzVG9MaW5lcyhjb25zdW1lciwgdGhpcy50cmFuc3BvcnQuY2h1bmtDb21iaW5lcilcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBkZWNvcmF0ZVJlcXVlc3QocmVxdWVzdDogYW55KTogYW55IHtcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5ub3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3Qubm93ID0gdGhpcy5vcHRpb25zLm5vdygpXG4gICAgfVxuICAgIC8vIGh0dHBzOi8vdjIuZG9jcy5pbmZsdXhkYXRhLmNvbS92Mi4wL2FwaS8jb3BlcmF0aW9uL1Bvc3RRdWVyeSByZXF1aXJlcyB0eXBlXG4gICAgcmVxdWVzdC50eXBlID0gdGhpcy5vcHRpb25zLnR5cGUgPz8gJ2ZsdXgnXG4gICAgcmV0dXJuIHJlcXVlc3RcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBRdWVyeUFwaUltcGxcbiIsImltcG9ydCBXcml0ZUFwaSBmcm9tICcuL1dyaXRlQXBpJ1xuaW1wb3J0IHtDbGllbnRPcHRpb25zLCBXcml0ZU9wdGlvbnMsIFdyaXRlUHJlY2lzaW9uVHlwZX0gZnJvbSAnLi9vcHRpb25zJ1xuaW1wb3J0IFdyaXRlQXBpSW1wbCBmcm9tICcuL2ltcGwvV3JpdGVBcGlJbXBsJ1xuaW1wb3J0IHtJbGxlZ2FsQXJndW1lbnRFcnJvcn0gZnJvbSAnLi9lcnJvcnMnXG5pbXBvcnQge1RyYW5zcG9ydH0gZnJvbSAnLi90cmFuc3BvcnQnXG4vLyByZXBsYWNlZCBieSAuL2ltcGwvYnJvd3Nlci9GZXRjaFRyYW5zcG9ydCBpbiBicm93c2VyIGJ1aWxkc1xuaW1wb3J0IFRyYW5zcG9ydEltcGwgZnJvbSAnLi9pbXBsL25vZGUvTm9kZUh0dHBUcmFuc3BvcnQnXG5pbXBvcnQgUXVlcnlBcGksIHtRdWVyeU9wdGlvbnN9IGZyb20gJy4vUXVlcnlBcGknXG5pbXBvcnQgUXVlcnlBcGlJbXBsIGZyb20gJy4vaW1wbC9RdWVyeUFwaUltcGwnXG5cbi8qKlxuICogSW5mbHV4REIgMi4wIGVudHJ5IHBvaW50IHRoYXQgY29uZmlndXJlcyBjb21tdW5pY2F0aW9uIHdpdGggSW5mbHV4REIgc2VydmVyXG4gKiBhbmQgcHJvdmlkZSBBUElzIHRvIHdyaXRlIGFuZCBxdWVyeSBkYXRhLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmZsdXhEQiB7XG4gIHByaXZhdGUgX29wdGlvbnM6IENsaWVudE9wdGlvbnNcbiAgcmVhZG9ubHkgdHJhbnNwb3J0OiBUcmFuc3BvcnRcblxuICAvKipcbiAgICogQ3JlYXRlcyBpbmZsdXhkYiBjbGllbnQgb3B0aW9ucyBmcm9tIGFuIG9wdGlvbnMgb2JqZWN0IG9yIHVybC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBjbGllbnQgb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9uczogQ2xpZW50T3B0aW9ucyB8IHN0cmluZykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX29wdGlvbnMgPSB7dXJsOiBvcHRpb25zfVxuICAgIH0gZWxzZSBpZiAob3B0aW9ucyAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFcnJvcignTm8gdXJsIG9yIGNvbmZpZ3VyYXRpb24gc3BlY2lmaWVkIScpXG4gICAgfVxuICAgIGNvbnN0IHVybCA9IHRoaXMuX29wdGlvbnMudXJsXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKVxuICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEVycm9yKCdObyB1cmwgc3BlY2lmaWVkIScpXG4gICAgaWYgKHVybC5lbmRzV2l0aCgnLycpKSB0aGlzLl9vcHRpb25zLnVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxlbmd0aCAtIDEpXG4gICAgdGhpcy50cmFuc3BvcnQgPSB0aGlzLl9vcHRpb25zLnRyYW5zcG9ydCA/PyBuZXcgVHJhbnNwb3J0SW1wbCh0aGlzLl9vcHRpb25zKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgV3JpdGVBcGkgZm9yIHRoZSBzdXBwbGllZCBvcmdhbml6YXRpb24gYW5kIGJ1Y2tldC4gQkVXQVJFIHRoYXQgcmV0dXJuZWQgaW5zdGFuY2VzIG11c3QgYmUgY2xvc2VkXG4gICAqIGluIG9yZGVyIHRvIGZsdXNoIHRoZSByZW1haW5pbmcgZGF0YSBhbmQgY2xvc2UgYWxyZWFkeSBzY2hlZHVsZWQgcmV0cnkgZXhlY3V0aW9ucy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogSW5zcGVjdCB0aGUge0BsaW5rIFdyaXRlT3B0aW9uc30gdG8gY29udHJvbCBhbHNvIGFkdmFuY2VkIG9wdGlvbnMsIHN1Y2ggcmV0cmllcyBvZiBmYWlsdXJlLCByZXRyeSBzdHJhdGVneSBvcHRpb25zLCBkYXRhIGNodW5raW5nXG4gICAqIGFuZCBmbHVzaGluZyB3aW5kb3dzLiBTZWUge0BsaW5rIERFRkFVTFRfV3JpdGVPcHRpb25zfSB0byBzZWUgdGhlIGRlZmF1bHRzLlxuICAgKlxuICAgKiBTZWUgYWxzbyB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2luZmx1eGRhdGEvaW5mbHV4ZGItY2xpZW50LWpzL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL3dyaXRlLmpzIHwgd3JpdGUuanMgZXhhbXBsZX0sXG4gICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vaW5mbHV4ZGF0YS9pbmZsdXhkYi1jbGllbnQtanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvd3JpdGVBZHZhbmNlZC5qcyB8IHdyaXRlQWR2YW5jZWQuanMgZXhhbXBsZX0sXG4gICAqIGFuZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2luZmx1eGRhdGEvaW5mbHV4ZGItY2xpZW50LWpzL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2luZGV4Lmh0bWwgfCBicm93c2VyIGV4YW1wbGV9LlxuICAgKlxuICAgKiBAcGFyYW0gb3JnIC0gU3BlY2lmaWVzIHRoZSBkZXN0aW5hdGlvbiBvcmdhbml6YXRpb24gZm9yIHdyaXRlcy4gVGFrZXMgZWl0aGVyIHRoZSBJRCBvciBOYW1lIGludGVyY2hhbmdlYWJseS5cbiAgICogQHBhcmFtIGJ1Y2tldCAtIFRoZSBkZXN0aW5hdGlvbiBidWNrZXQgZm9yIHdyaXRlcy5cbiAgICogQHBhcmFtIHByZWNpc2lvbiAtIFRpbWVzdGFtcCBwcmVjaXNpb24gZm9yIGxpbmUgaXRlbXMuXG4gICAqIEBwYXJhbSB3cml0ZU9wdGlvbnMgLSBDdXN0b20gd3JpdGUgb3B0aW9ucy5cbiAgICogQHJldHVybnMgV3JpdGVBcGkgaW5zdGFuY2VcbiAgICovXG4gIGdldFdyaXRlQXBpKFxuICAgIG9yZzogc3RyaW5nLFxuICAgIGJ1Y2tldDogc3RyaW5nLFxuICAgIHByZWNpc2lvbjogV3JpdGVQcmVjaXNpb25UeXBlID0gJ25zJyxcbiAgICB3cml0ZU9wdGlvbnM/OiBQYXJ0aWFsPFdyaXRlT3B0aW9ucz5cbiAgKTogV3JpdGVBcGkge1xuICAgIHJldHVybiBuZXcgV3JpdGVBcGlJbXBsKFxuICAgICAgdGhpcy50cmFuc3BvcnQsXG4gICAgICBvcmcsXG4gICAgICBidWNrZXQsXG4gICAgICBwcmVjaXNpb24sXG4gICAgICB3cml0ZU9wdGlvbnMgPz8gdGhpcy5fb3B0aW9ucy53cml0ZU9wdGlvbnNcbiAgICApXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBRdWVyeUFwaSBmb3IgdGhlIHN1cHBsaWVkIG9yZ2FuaXphdGlvbiAuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFNlZSBhbHNvIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vaW5mbHV4ZGF0YS9pbmZsdXhkYi1jbGllbnQtanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvcXVlcnkudHMgfCBxdWVyeS50cyBleGFtcGxlfSxcbiAgICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZsdXhkYXRhL2luZmx1eGRiLWNsaWVudC1qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9xdWVyeVdpdGhQYXJhbXMudHMgfCBxdWVyeVdpdGhQYXJhbXMudHMgZXhhbXBsZX0sXG4gICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vaW5mbHV4ZGF0YS9pbmZsdXhkYi1jbGllbnQtanMvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvcnhqcy1xdWVyeS50cyB8IHJ4anMtcXVlcnkudHMgZXhhbXBsZX0sXG4gICAqIGFuZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2luZmx1eGRhdGEvaW5mbHV4ZGItY2xpZW50LWpzL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2luZGV4Lmh0bWwgfCBicm93c2VyIGV4YW1wbGV9LFxuICAgKlxuICAgKiBAcGFyYW0gb3JnIC0gb3JnYW5pemF0aW9uIG9yIHF1ZXJ5IG9wdGlvbnNcbiAgICogQHJldHVybnMgUXVlcnlBcGkgaW5zdGFuY2VcbiAgICovXG4gIGdldFF1ZXJ5QXBpKG9yZzogc3RyaW5nIHwgUXVlcnlPcHRpb25zKTogUXVlcnlBcGkge1xuICAgIHJldHVybiBuZXcgUXVlcnlBcGlJbXBsKHRoaXMudHJhbnNwb3J0LCBvcmcpXG4gIH1cbn1cbiIsImltcG9ydCB7ZXNjYXBlfSBmcm9tICcuL3V0aWwvZXNjYXBlJ1xuXG4vKipcbiAqIFNldHRpbmdzIHRoYXQgY29udHJvbCB0aGUgd2F5IG9mIGhvdyBhIHtAbGluayBQb2ludH0gaXMgc2VyaWFsaXplZFxuICogdG8gYSBwcm90b2NvbCBsaW5lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50U2V0dGluZ3Mge1xuICBkZWZhdWx0VGFncz86IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9XG4gIGNvbnZlcnRUaW1lPzogKFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlIHwgdW5kZWZpbmVkXG4gICkgPT4gc3RyaW5nIHwgdW5kZWZpbmVkXG59XG5cbi8qKlxuICogUG9pbnQgZGVmaW5lcyB2YWx1ZXMgb2YgYSBzaW5nbGUgbWVhc3VyZW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2ludCB7XG4gIHByaXZhdGUgbmFtZTogc3RyaW5nXG4gIHByaXZhdGUgdGFnczoge1trZXk6IHN0cmluZ106IHN0cmluZ30gPSB7fVxuICAvKiogZXNjYXBlZCBmaWVsZCB2YWx1ZXMgKi9cbiAgcHVibGljIGZpZWxkczoge1trZXk6IHN0cmluZ106IHN0cmluZ30gPSB7fVxuICBwcml2YXRlIHRpbWU6IHN0cmluZyB8IG51bWJlciB8IERhdGUgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFBvaW50IHdpdGggc3BlY2lmaWVkIGEgbWVhc3VyZW1lbnQgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIG1lYXN1cmVtZW50TmFtZSAtIHRoZSBtZWFzdXJlbWVudCBuYW1lXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtZWFzdXJlbWVudE5hbWU/OiBzdHJpbmcpIHtcbiAgICBpZiAobWVhc3VyZW1lbnROYW1lKSB0aGlzLm5hbWUgPSBtZWFzdXJlbWVudE5hbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHBvaW50J3MgbWVhc3VyZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gbWVhc3VyZW1lbnQgbmFtZVxuICAgKiBAcmV0dXJucyB0aGlzXG4gICAqL1xuICBwdWJsaWMgbWVhc3VyZW1lbnQobmFtZTogc3RyaW5nKTogUG9pbnQge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB0YWcuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gdGFnIG5hbWVcbiAgICogQHBhcmFtIHZhbHVlIC0gdGFnIHZhbHVlXG4gICAqIEByZXR1cm5zIHRoaXNcbiAgICovXG4gIHB1YmxpYyB0YWcobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogUG9pbnQge1xuICAgIHRoaXMudGFnc1tuYW1lXSA9IHZhbHVlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgYm9vbGVhbiBmaWVsZC5cbiAgICpcbiAgICogQHBhcmFtIGZpZWxkIC0gZmllbGQgbmFtZVxuICAgKiBAcGFyYW0gdmFsdWUgLSBmaWVsZCB2YWx1ZVxuICAgKiBAcmV0dXJucyB0aGlzXG4gICAqL1xuICBwdWJsaWMgYm9vbGVhbkZpZWxkKG5hbWU6IHN0cmluZywgdmFsdWU6IGJvb2xlYW4gfCBhbnkpOiBQb2ludCB7XG4gICAgdGhpcy5maWVsZHNbbmFtZV0gPSB2YWx1ZSA/ICdUJyA6ICdGJ1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbiBpbnRlZ2VyIGZpZWxkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIGZpZWxkIG5hbWVcbiAgICogQHBhcmFtIHZhbHVlIC0gZmllbGQgdmFsdWVcbiAgICogQHJldHVybnMgdGhpc1xuICAgKi9cbiAgcHVibGljIGludEZpZWxkKG5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlciB8IGFueSk6IFBvaW50IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgbGV0IHZhbDogbnVtYmVyXG4gICAgICBpZiAoaXNOYU4oKHZhbCA9IHBhcnNlSW50KFN0cmluZyh2YWx1ZSkpKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBFeHBlY3RlZCBpbnRlZ2VyIHZhbHVlIGZvciBmaWVsZCAke25hbWV9LCBidXQgZ290ICcke3ZhbHVlfSchYFxuICAgICAgICApXG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbFxuICAgIH1cbiAgICB0aGlzLmZpZWxkc1tuYW1lXSA9IGAke01hdGguZmxvb3IodmFsdWUgYXMgbnVtYmVyKX1pYFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIG51bWJlciBmaWVsZC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBmaWVsZCBuYW1lXG4gICAqIEBwYXJhbSB2YWx1ZSAtIGZpZWxkIHZhbHVlXG4gICAqIEByZXR1cm5zIHRoaXNcbiAgICovXG4gIHB1YmxpYyBmbG9hdEZpZWxkKG5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlciB8IGFueSk6IFBvaW50IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgbGV0IHZhbDogbnVtYmVyXG4gICAgICBpZiAoaXNOYU4oKHZhbCA9IHBhcnNlRmxvYXQodmFsdWUpKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBFeHBlY3RlZCBmbG9hdCB2YWx1ZSBmb3IgZmllbGQgJHtuYW1lfSwgYnV0IGdvdCAnJHt2YWx1ZX0nIWBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWxcbiAgICB9XG4gICAgdGhpcy5maWVsZHNbbmFtZV0gPSBTdHJpbmcodmFsdWUpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc3RyaW5nIGZpZWxkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIGZpZWxkIG5hbWVcbiAgICogQHBhcmFtIHZhbHVlIC0gZmllbGQgdmFsdWVcbiAgICogQHJldHVybnMgdGhpc1xuICAgKi9cbiAgcHVibGljIHN0cmluZ0ZpZWxkKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IGFueSk6IFBvaW50IHtcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgICAgdGhpcy5maWVsZHNbbmFtZV0gPSBlc2NhcGUucXVvdGVkKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgcG9pbnQgdGltZXN0YW1wLiBUaW1lc3RhbXAgY2FuIGJlIHNwZWNpZmllZCBhcyBhIERhdGUgKHByZWZlcnJlZCksIG51bWJlciwgc3RyaW5nXG4gICAqIG9yIGFuIHVuZGVmaW5lZCB2YWx1ZS4gQW4gdW5kZWZpbmVkIHZhbHVlIGluc3RydWN0cyB0byBhc3NpZ24gYSBsb2NhbCB0aW1lc3RhbXAgdXNpbmdcbiAgICogdGhlIGNsaWVudCdzIGNsb2NrLiBBbiBlbXB0eSBzdHJpbmcgY2FuIGJlIHVzZWQgdG8gbGV0IHRoZSBzZXJ2ZXIgYXNzaWduXG4gICAqIHRoZSB0aW1lc3RhbXAuIEEgbnVtYmVyIHZhbHVlIHJlcHJlc2VudHMgdGltZSBhcyBhIGNvdW50IG9mIHRpbWUgdW5pdHMgc2luY2UgZXBvY2guXG4gICAqIFRoZSBjdXJyZW50IHRpbWUgaW4gbmFub3NlY29uZHMgY2FuJ3QgcHJlY2lzZWx5IGZpdCBpbnRvIGEgSlMgbnVtYmVyLCB3aGljaFxuICAgKiBjYW4gaG9sZCBhdCBtb3N0IDJeNTMgaW50ZWdlciBudW1iZXIuIE5hbm9zZWNvbmQgcHJlY2lzaW9uIG51bWJlcnMgYXJlIHRodXMgc3VwcGxpZWQgYXNcbiAgICogYSAoYmFzZS0xMCkgc3RyaW5nLiBBbiBhcHBsaWNhdGlvbiBjYW4gdXNlIEVTMjAyMCBCaWdJbnQgdG8gcmVwcmVzZW50IG5hbm9zZWNvbmRzLFxuICAgKiBCaWdJbnQncyBgdG9TdHJpbmcoKWAgcmV0dXJucyB0aGUgcmVxdWlyZWQgaGlnaC1wcmVjaXNpb24gc3RyaW5nLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgSW5mbHV4REIgcmVxdWlyZXMgdGhlIHRpbWVzdGFtcCB0byBmaXQgaW50byBpbnQ2NCBkYXRhIHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSAtIHBvaW50IHRpbWVcbiAgICogQHJldHVybnMgdGhpc1xuICAgKi9cbiAgcHVibGljIHRpbWVzdGFtcCh2YWx1ZTogRGF0ZSB8IG51bWJlciB8IHN0cmluZyB8IHVuZGVmaW5lZCk6IFBvaW50IHtcbiAgICB0aGlzLnRpbWUgPSB2YWx1ZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBJbmZsdXhEQiBwcm90b2NvbCBsaW5lIG91dCBvZiB0aGlzIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gc2V0dGluZ3MgLSBzZXR0aW5ncyBkZWZpbmUgdGhlIGV4YWN0IHJlcHJlc2VudGF0aW9uIG9mIHBvaW50IHRpbWUgYW5kIGNhbiBhbHNvIGFkZCBkZWZhdWx0IHRhZ3NcbiAgICogQHJldHVybnMgYW4gSW5mbHV4REIgcHJvdG9jb2wgbGluZSBvdXQgb2YgdGhpcyBpbnN0YW5jZVxuICAgKi9cbiAgcHVibGljIHRvTGluZVByb3RvY29sKHNldHRpbmdzPzogUG9pbnRTZXR0aW5ncyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKCF0aGlzLm5hbWUpIHJldHVybiB1bmRlZmluZWRcbiAgICBsZXQgZmllbGRzTGluZSA9ICcnXG4gICAgT2JqZWN0LmtleXModGhpcy5maWVsZHMpXG4gICAgICAuc29ydCgpXG4gICAgICAuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgaWYgKHgpIHtcbiAgICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmZpZWxkc1t4XVxuICAgICAgICAgIGlmIChmaWVsZHNMaW5lLmxlbmd0aCA+IDApIGZpZWxkc0xpbmUgKz0gJywnXG4gICAgICAgICAgZmllbGRzTGluZSArPSBgJHtlc2NhcGUudGFnKHgpfT0ke3ZhbH1gXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgaWYgKGZpZWxkc0xpbmUubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkIC8vIG5vIGZpZWxkcyBwcmVzZW50XG4gICAgbGV0IHRhZ3NMaW5lID0gJydcbiAgICBjb25zdCB0YWdzID1cbiAgICAgIHNldHRpbmdzICYmIHNldHRpbmdzLmRlZmF1bHRUYWdzXG4gICAgICAgID8gey4uLnNldHRpbmdzLmRlZmF1bHRUYWdzLCAuLi50aGlzLnRhZ3N9XG4gICAgICAgIDogdGhpcy50YWdzXG4gICAgT2JqZWN0LmtleXModGFncylcbiAgICAgIC5zb3J0KClcbiAgICAgIC5mb3JFYWNoKHggPT4ge1xuICAgICAgICBpZiAoeCkge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IHRhZ3NbeF1cbiAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICB0YWdzTGluZSArPSAnLCdcbiAgICAgICAgICAgIHRhZ3NMaW5lICs9IGAke2VzY2FwZS50YWcoeCl9PSR7ZXNjYXBlLnRhZyh2YWwpfWBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgbGV0IHRpbWUgPSB0aGlzLnRpbWVcbiAgICBpZiAoc2V0dGluZ3MgJiYgc2V0dGluZ3MuY29udmVydFRpbWUpIHtcbiAgICAgIHRpbWUgPSBzZXR0aW5ncy5jb252ZXJ0VGltZSh0aW1lKVxuICAgIH1cblxuICAgIHJldHVybiBgJHtlc2NhcGUubWVhc3VyZW1lbnQodGhpcy5uYW1lKX0ke3RhZ3NMaW5lfSAke2ZpZWxkc0xpbmV9JHtcbiAgICAgIHRpbWUgIT09IHVuZGVmaW5lZCA/ICcgJyArIHRpbWUgOiAnJ1xuICAgIH1gXG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGxpbmUgPSB0aGlzLnRvTGluZVByb3RvY29sKHVuZGVmaW5lZClcbiAgICByZXR1cm4gbGluZSA/IGxpbmUgOiBgaW52YWxpZCBwb2ludDogJHtKU09OLnN0cmluZ2lmeSh0aGlzLCB1bmRlZmluZWQpfWBcbiAgfVxufVxuIiwiaW1wb3J0IHtDb21tdW5pY2F0aW9uT2JzZXJ2ZXJ9IGZyb20gJy4vQ29tbXVuaWNhdGlvbk9ic2VydmVyJ1xuXG4vKipcbiAqIFN0cmluZ1RvTGluZXMgaXMgYSB0cmFuc2Zvcm1hdGlvbiB0aGF0IGVtbWl0cyBzdHJpbmdzIGZvciBlYWNoIENTVlxuICogbGluZSBpbiB0aGUgc3VwcGxpZWQgc291cmNlIHN0cmluZy5cbiAqIEBwYXJhbSBzb3VyY2UgLSBzb3VyY2Ugc3RyaW5nXG4gKiBAcGFyYW0gdGFyZ2V0IC0gdGFyZ2V0IHRvIGVtbWl0IENTViBsaW5lcyB0b1xuICogQHJldHVybnMgY29tbXVuaWNhdGlvbiBvYnJ2ZXIgdG8gYWNjZXB0IFVpbnQ4QXJyYXlzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb0xpbmVzKFxuICBzb3VyY2U6IHN0cmluZyxcbiAgdGFyZ2V0OiBDb21tdW5pY2F0aW9uT2JzZXJ2ZXI8c3RyaW5nPlxuKTogdm9pZCB7XG4gIGxldCBxdW90ZWQgPSBmYWxzZVxuICBsZXQgc3RhcnQgPSAwXG4gIGxldCBpbmRleCA9IDBcblxuICB3aGlsZSAoaW5kZXggPCBzb3VyY2UubGVuZ3RoKSB7XG4gICAgY29uc3QgYyA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KVxuICAgIGlmIChjID09PSAxMCkge1xuICAgICAgaWYgKCFxdW90ZWQpIHtcbiAgICAgICAgLyogZG8gbm90IGVtaXQgQ1IrTFIgb3IgTEYgbGluZSBlbmRpbmcgKi9cbiAgICAgICAgY29uc3QgZW5kID1cbiAgICAgICAgICBpbmRleCA+IDAgJiYgc291cmNlLmNoYXJDb2RlQXQoaW5kZXggLSAxKSA9PT0gMTMgPyBpbmRleCAtIDEgOiBpbmRleFxuICAgICAgICAvLyBkbyBub3QgZW1taXQgbW9yZSBsaW5lcyBpZiB0aGUgcHJvY2Vzc2luZyBpcyBhbHJlYWR5IGZpbmlzaGVkXG4gICAgICAgIHRhcmdldC5uZXh0KHNvdXJjZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCkpXG4gICAgICAgIHN0YXJ0ID0gaW5kZXggKyAxXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjID09PSAzNCAvKiBcIiAqLykge1xuICAgICAgcXVvdGVkID0gIXF1b3RlZFxuICAgIH1cbiAgICBpbmRleCsrXG4gIH1cbiAgaWYgKHN0YXJ0IDwgaW5kZXgpIHtcbiAgICB0YXJnZXQubmV4dChzb3VyY2Uuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCkpXG4gIH1cbiAgdGFyZ2V0LmNvbXBsZXRlKClcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=